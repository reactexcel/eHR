(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1155:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(27),i=n(29),o=n(28),c=n(30),s=n(0),m=n.n(s),d=n(129),u=n(262),l=n(36),f=n(566),p=(n(818),n(828)),y=n(580),b=n(4),g=(n(176),n(574),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).props.onIsAlreadyLogin(),n.state={},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.props.onFetchDeviceStatus(),this.props.onFetchDeviceCount()}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(d.a,this.props),m.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},m.a.createElement(u.a,{pageTitle:"Inventory Overview"}),m.a.createElement("div",{className:"col-md-2"}),m.a.createElement("div",{className:"padding"},m.a.createElement("div",{className:this.state.viewUserNew},m.a.createElement(p.a,{statusList:this.props.manageDevice.statusList,deviceCountList:this.props.manageDevice.deviceCountList,history:this.props.history})))))}}]),t}(m.a.Component));var _=function(e){return{onIsAlreadyLogin:function(){return e(b.isAlreadyLogin())},onFetchDeviceStatus:function(){return e(y.n())},onFetchDeviceCount:function(){return e(y.j())}}},j=Object(l.b)(function(e){return{loggedUser:e.logged_user.userLogin,manageDevice:e.manageDevice.toJS()}},_)(g),h=Object(f.a)(j,_);t.default=h},574:function(e,t,n){"use strict";n.d(t,"i",function(){return u}),n.d(t,"j",function(){return f}),n.d(t,"a",function(){return y}),n.d(t,"h",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"c",function(){return j}),n.d(t,"g",function(){return O}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return N}),n.d(t,"f",function(){return k});var a=n(5),r=n(10),i=n(582),o=n.n(i),c=n(12),s=n(33),m=n(1),d=n(71);function u(e,t){return function(n,r){return new Promise(function(r,i){n(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_profile_detail_by_id",user_id:e})}(e).then(function(e){var r;n(Object(s.a)()),0==e.error?n(function(e,t){return{type:m.Ac,payload:e,username:t}}(e.data,t)):n((r=e.data.message,Object(a.a)(m.l)(r)))},function(e){var t;n(Object(s.a)()),n((t="error occurs!!!",Object(a.a)(m.eb)(t)))})})}}function l(e){return Object(a.a)(m.Z)(e)}function f(e){return function(t,n){var r="",i="",o="",f="",p="",y="",b="",g="",_="",j="",h="",v="",O="",E="",P="",N="",w=e.send_slack_msg,k=e.slack_msg,x="",D="",T="",S="";if("undefined"!==typeof e.user_id&&(r=e.user_id),"undefined"!==typeof e.name&&(i=e.name),"undefined"!==typeof e.jobtitle&&(o=e.jobtitle),"undefined"!==typeof e.team&&(f=e.team),"undefined"!==typeof e.dateofjoining&&null!=e.dateofjoining&&(p=e.dateofjoining),"undefined"!==typeof e.training_month&&null!=e.training_month&&(S=e.training_month),"undefined"!==typeof e.work_email&&(y=e.work_email),"undefined"!==typeof e.other_email&&(b=e.other_email),"undefined"!==typeof e.gender&&(g=e.gender),"undefined"!==typeof e.dob&&null!=e.dob){var A=new Date(e.dob);A&&(_=d(A).format("YYYY-MM-DD"))}return"undefined"!==typeof e.marital_status&&(j=e.marital_status),"undefined"!==typeof e.address1&&(h=e.address1),"undefined"!==typeof e.address2&&(v=e.address2),"undefined"!==typeof e.emergency_ph1&&(O=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(E=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(P=e.blood_group),"undefined"!==typeof e.medical_condition&&(N=e.medical_condition),"undefined"!==typeof e.training_completion_date&&null!=e.training_completion_date&&(x=e.training_completion_date),"undefined"!==typeof e.termination_date&&null!=e.termination_date&&(D=e.termination_date),"undefined"!==typeof e.holding_comments&&(T=e.holding_comments),""===r.trim()?Promise.reject("User id is empty"):""===i.trim()?Promise.reject("Name is empty"):""===o.trim()?Promise.reject("Jobtitle is empty"):""===p.trim()?Promise.reject("Joining date is empty"):""===y.trim()?Promise.reject("Work email is empty"):""===b.trim()?Promise.reject("Personal email is empty"):""===g.trim()?Promise.reject("Gender is empty"):""===_.trim()?Promise.reject("Date of birth is empty"):""===j.trim()?Promise.reject("Marital status not selected"):""===h.trim()?Promise.reject("Current address is empty"):""===v.trim()?Promise.reject("Permanent address is empty"):""===O.trim()?Promise.reject("Emmergency contact 1 is empty"):""===E.trim()?Promise.reject("Emmergency contact 2 is empty"):""===P.trim()?Promise.reject("Blood group not selected"):""===N.trim()?Promise.reject("Any medical conditions is empty"):""===S.trim()?Promise.reject("Training month is Empty"):new Promise(function(e,n){t(Object(s.b)()),function(e,t,n,a,r,i,o,s,m,d,u,l,f,p,y,b,g,_,j,h,v,O){return Object(c.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,marital_status:d,name:t,jobtitle:n,team:a,dateofjoining:r,work_email:i,other_email:o,gender:s,dob:m,permanent_address:l,current_address:u,emergency_ph1:f,emergency_ph2:p,blood_group:y,medical_condition:b,training_completion_date:g,termination_date:_,training_month:h,holding_comments:j,send_slack_msg:v,slack_msg:O})}(r,i,o,f,p,y,b,g,_,j,h,v,O,E,P,N,x,D,T,S,w,k).then(function(e){var i;t(Object(s.a)()),0==e.error?(t(u(r)),t((i=e.data.message,Object(a.a)(m.vc)(i)))):(t(l(e.data.message)),n(e.data))},function(e){t(Object(s.a)()),t(l("error occurs!!!"))})})}}function p(e){return Object(a.a)(m.p)(e)}function y(e){return function(t,n){var r="",i="",o="",d="",u="",l="",f="",y="";return"undefined"===typeof e.dateofjoining||""==e.dateofjoining?Promise.reject("Date of Joining is empty"):(r=e.dateofjoining,"undefined"===typeof e.name||""==e.name?Promise.reject("Name is empty"):(i=e.name,"undefined"===typeof e.jobtitle||""==e.jobtitle?Promise.reject("Job Title is empty"):(o=e.jobtitle,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(d=e.gender,"undefined"===typeof e.dob||""==e.dob?Promise.reject("Date of birth is empty"):(u=e.dob,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(d=e.gender,"undefined"===typeof e.username||""==e.username?Promise.reject("Username is empty"):(l=e.username,"undefined"===typeof e.training_month||""==e.training_month?Promise.reject("training month is empty"):(f=e.training_month,"undefined"===typeof e.workemail||""==e.workemail?Promise.reject("Work email is empty"):(y=e.workemail,new Promise(function(e,n){t(Object(s.b)()),function(e,t,n,a,r,i,o,s){return Object(c.b)("POST","",{action:"add_new_employee",dateofjoining:e,name:t,jobtitle:n,gender:a,dob:r,username:i,training_month:o,workemail:s})}(r,i,o,d,u,l,f,y).then(function(r){var i;t(Object(s.a)()),0==r.error?(t((i=r.data,Object(a.a)(m.Db)(i))),e(r.data)):(t(p(r.data.message)),n(r.data.message))},function(e){t(Object(s.a)()),t(p("error occurs!!!")),n("error occurs!!!")})}))))))))))}}function b(e){return Object(a.a)(m.bb)(e)}function g(e){return function(t,n){return new Promise(function(n,r){t(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_document_by_id",user_id:e})}(e).then(function(e){var n;t(Object(s.a)()),0==e.error?t((n=e.data,Object(a.a)(m.xc)(n))):t(b(e.data.message))},function(e){t(Object(s.a)()),t(b("error occurs!!!"))})})}}function _(e){return function(t,n){return new Promise(function(n,a){t(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"delete_user_document",id:e})}(e).then(function(e){t(Object(s.a)()),0==e.error?n(e.data.message):a(e.data.message)},function(e){t(Object(s.a)()),a("error occurs!!")})})}}function j(e,t){return function(n,a){return new Promise(function(n,a){(function(e,t){return Object(c.b)("POST","",{action:"change_employee_status",user_id:e,status:t})})(e,t).then(function(e){0===e.error?n("User disabled"):a(e.data.message)},function(e){a("error occurs!!")})})}}function h(e){return Object(a.a)(m.ec)(e)}function v(e){return Object(a.a)(m.K)(e)}o()(function(e,t,n){return Object(c.b)("POST","",{action:"get_employee_life_cycle",userid:e}).then(function(e){0==e.error?t(h(e.data)):t(v())})},1);function O(e){return function(t,n){return new Promise(function(n,a){(function(e){return Object(c.b)("POST","",{action:"get_employee_life_cycle",userid:e})})(e).then(function(e){0==e.error?(n(e.message),t(h(e.data))):(a(e.data.message),t(v(e.data.message)))},function(e){a("error occurs!!")})})}}function E(e,t){return function(n,r){return new Promise(function(r,i){(function(e,t){return Object(c.b)("POST","",{action:"update_employee_life_cycle",userid:e,stepid:t})})(e,t).then(function(e){var t;0==e.error?r(e.data.message):(i(e.data.message),n((t=e.data.message,Object(a.a)(m.J)(t))))},function(e){i("error occurs!!")})})}}function P(e){return Object(a.a)(m.r)(e)}function N(e){return function(t,n){var r="",i="",o="",d="",u="",l="",f="",p="";return"undefined"!==typeof e.user_id&&(r=e.user_id),"undefined"!==typeof e.signature&&(p=e.signature),"undefined"!==typeof e.permanent_address&&(i=e.permanent_address),"undefined"!==typeof e.emergency_ph1&&(o=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(d=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(u=e.blood_group),"undefined"!==typeof e.medical_condition&&(l=e.medical_condition),"undefined"!==typeof e.holding_comments&&(f=e.holding_comments),""===r.trim()?Promise.reject("User id is empty"):""===p.trim()?Promise.reject("signature is empty"):""===i.trim()?Promise.reject("Permanent address is empty"):""===o.trim()?Promise.reject("Emmergency contact 1 is empty"):""===d.trim()?Promise.reject("Emmergency contact 2 is empty"):""===u.trim()?Promise.reject("Blood group not selected"):""===l.trim()?Promise.reject("Any medical conditions is empty"):new Promise(function(e,n){t(Object(s.b)()),function(e,t,n,a,r,i,o,s){return Object(c.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,permanent_address:t,emergency_ph1:n,emergency_ph2:a,blood_group:r,medical_condition:i,holding_comments:o,signature:s})}(r,i,o,d,u,l,f,p).then(function(n){var r;t(Object(s.a)()),0==n.error?(e(n.data),t((r=n.data,Object(a.a)(m.Fb)(r)))):t(P(n.data))},function(e){t(Object(s.a)()),t(P("error occurs!!!"))})})}}function w(e){return Object(a.a)(m.Fe)(e)}function k(){return function(e,t){return new Promise(function(t,n){e(Object(s.b)()),Object(c.b)("POST","",{action:"get_enabled_users_brief_details"}).then(function(n){var i;0==n.error?(t(n.data),e(w(n.data)),n.data.length&&e(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a,i){return new Promise(function(i,o){var m=t[n].user_Id;a(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_salary_info_by_id",user_id:e})}(m).then(function(i){if("undefined"!==typeof i.data&&"undefined"!==typeof i.data.salary_details&&i.data.salary_details.length>0){i.data;var o=r.orderBy(i.data.salary_details,["date"],["desc"]);t[n].current_salary=o[0].test&&o[0].test.total_salary,a(w(t))}a(Object(s.a)()),t.length>++n&&a(e(t,n))},function(r){a(Object(s.a)()),t.length>++n&&a(e(t,n))})})}}(n.data))):e((i=n.data,Object(a.a)(m.Qc)(i))),e(Object(s.a)())},function(t){console.log("error",t),e(Object(s.a)())})})}}},604:function(e,t,n){},702:function(e,t,n){e.exports=n(825)},818:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(10),o=n.n(i),c=n(85),s=n.n(c);t.a=function(e){var t=e.userAssignMachine,n=o.a.map(t,function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{marginRight:"0%"}},t+1),r.a.createElement("td",null,e.machine_type),r.a.createElement("td",null,e.machine_name),r.a.createElement("td",null,e.assign_date))});return r.a.createElement("div",null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h6",{className:"text-center"},"Assigned Device Details"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{style:{marginTop:"2%"}},o.a.isEmpty(n)?r.a.createElement("div",{className:"col-xs-6 col-xs-offset-3 well"},r.a.createElement("i",{className:"fa fa-exclamation-triangle fa-2x",style:{marginLeft:"45%",opacity:"0.56"},"aria-hidden":"true"}),r.a.createElement("h5",{style:{marginLeft:"33%",opacity:"0.56"}},"Device not Asssigned !")):r.a.createElement(s.a,{zDepth:3,style:{marginBottom:"10px"}},r.a.createElement("table",{className:"table table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr. No"),r.a.createElement("th",null,"Device Type"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Assign Date"))),r.a.createElement("tbody",null,n))))))))}},828:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(10),o=n.n(i),c=function(e){var t=e.deviceData,n=e.deviceName,a=e.history,i=Object.keys(t).map(function(e,n){return"User_Assign"===e||"User_Not_Assign"===e||"Assigned"===e?void 0:r.a.createElement("li",{key:n}," ",e," : ",t[e])});return r.a.createElement("div",{className:"col-xs-12 col-sm-4 deviceinfo",onClick:function(){return a.push("inventory_system/".concat(n))}},r.a.createElement("div",{className:"box p-a",style:{height:"350px"}},r.a.createElement("div",{className:"pull-left m-r"},r.a.createElement("span",{className:"w-48 rounded accent"},r.a.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"}))),r.a.createElement("div",{className:"clear"},r.a.createElement("h4",{className:"m-a-0 text-lg _300"}),r.a.createElement("h4",{className:"text-muted",id:"deviceName"},n),r.a.createElement("h4",{id:"deviceTotal"},t.total)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("ul",{className:"text-muted"},i)))},s=(n(604),n(702)),m=n(71),d=n.n(m),u=n(565);t.a=function(e){var t=e.statusList,n=e.deviceCountList,a=e.history,i=0,m=[],l=[{label:"Device Name",key:"deviceName"}],f=[],p=[];console.log(n,"customerererere"),Object.keys(n).map(function(e){Object.keys(n[e]).map(function(e){l.map(function(t){if(t.label!==e){var n=e.split("_").join(" "),a=n.charAt(0).toUpperCase()+n.slice(1);p.push({label:a,key:e})}})})});var y=o.a.map(o.a.uniq(o.a.map(p,function(e){return JSON.stringify(e)})),function(e){return JSON.parse(e)}),b=l.concat(y);for(var g in Object.keys(n).map(function(e){var t={deviceName:e};Object.keys(n[e]).map(function(a){t[a]=n[e][a]}),f.push(t)}),n)if(n.hasOwnProperty(g)){var _=n[g];i+=_.total,m.push(r.a.createElement(c,{key:g,deviceData:_,deviceName:g,history:a}))}t.map(function(e,t){return r.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-3 col-lg-2",key:t},r.a.createElement("div",{className:"p-a",style:{backgroundColor:e.color,margin:"2px 2px 2px 2px"}},r.a.createElement("h4",null),r.a.createElement("div",{className:"h-3x text-u-c _600 text-sm",style:{paddingTop:"20%"}},e.status)))});return r.a.createElement("div",null,r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"box p-a counter-tab",style:{height:"87px",marginTop:"6%"}},r.a.createElement("div",{className:"pull-left m-r"},r.a.createElement("span",{className:"w-48 rounded primary"},r.a.createElement("i",{className:"fa fa-pie-chart fa-lg","aria-hidden":"true"}))),r.a.createElement("div",{className:"clear"},r.a.createElement("h4",{className:"m-a-0 text-lg _300"}),r.a.createElement("small",{className:"text-muted"}," Total Device "),r.a.createElement("h1",{style:{right:"1%",bottom:"20%",position:"absolute",color:"#0E9BB1"}},i),r.a.createElement("div",{style:{position:"absolute",right:"1%",bottom:"2%"}},r.a.createElement(u.a,{className:"",style:{color:"#337ab7",textDecoration:"underline"},to:"/audit_inventory_list"},"View Audit History "),r.a.createElement("span",{style:{backgroundColor:"black",width:"2px",margin:"0 6px"}}),r.a.createElement(s.CSVLink,{data:f,headers:b,filename:"device-report-".concat(d()().format("YYYY-MMMM-DD"),".csv"),style:{color:"#337ab7",textDecoration:"underline"}},"Download Report")))))),r.a.createElement("div",{className:"row"},m))}}}]);
//# sourceMappingURL=29.bf98e359.chunk.js.map