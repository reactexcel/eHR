(window.webpackJsonp=window.webpackJsonp||[]).push([[41,52],{574:function(e,t,n){"use strict";n.d(t,"i",function(){return u}),n.d(t,"j",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return y}),n.d(t,"e",function(){return _}),n.d(t,"c",function(){return h}),n.d(t,"g",function(){return E}),n.d(t,"d",function(){return O}),n.d(t,"b",function(){return N}),n.d(t,"f",function(){return L});var a=n(5),r=n(10),i=n(582),o=n.n(i),c=n(12),s=n(33),l=n(1),d=n(71);function u(e,t){return function(n,r){return new Promise(function(r,i){n(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_profile_detail_by_id",user_id:e})}(e).then(function(e){var r;n(Object(s.a)()),0==e.error?n(function(e,t){return{type:l.Ac,payload:e,username:t}}(e.data,t)):n((r=e.data.message,Object(a.a)(l.l)(r)))},function(e){var t;n(Object(s.a)()),n((t="error occurs!!!",Object(a.a)(l.eb)(t)))})})}}function m(e){return Object(a.a)(l.Z)(e)}function p(e){return function(t,n){var r="",i="",o="",p="",f="",g="",b="",y="",_="",h="",j="",v="",E="",O="",w="",N="",P=e.send_slack_msg,L=e.slack_msg,S="",A="",k="",x="";if("undefined"!==typeof e.user_id&&(r=e.user_id),"undefined"!==typeof e.name&&(i=e.name),"undefined"!==typeof e.jobtitle&&(o=e.jobtitle),"undefined"!==typeof e.team&&(p=e.team),"undefined"!==typeof e.dateofjoining&&null!=e.dateofjoining&&(f=e.dateofjoining),"undefined"!==typeof e.training_month&&null!=e.training_month&&(x=e.training_month),"undefined"!==typeof e.work_email&&(g=e.work_email),"undefined"!==typeof e.other_email&&(b=e.other_email),"undefined"!==typeof e.gender&&(y=e.gender),"undefined"!==typeof e.dob&&null!=e.dob){var C=new Date(e.dob);C&&(_=d(C).format("YYYY-MM-DD"))}return"undefined"!==typeof e.marital_status&&(h=e.marital_status),"undefined"!==typeof e.address1&&(j=e.address1),"undefined"!==typeof e.address2&&(v=e.address2),"undefined"!==typeof e.emergency_ph1&&(E=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(O=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(w=e.blood_group),"undefined"!==typeof e.medical_condition&&(N=e.medical_condition),"undefined"!==typeof e.training_completion_date&&null!=e.training_completion_date&&(S=e.training_completion_date),"undefined"!==typeof e.termination_date&&null!=e.termination_date&&(A=e.termination_date),"undefined"!==typeof e.holding_comments&&(k=e.holding_comments),""===r.trim()?Promise.reject("User id is empty"):""===i.trim()?Promise.reject("Name is empty"):""===o.trim()?Promise.reject("Jobtitle is empty"):""===f.trim()?Promise.reject("Joining date is empty"):""===g.trim()?Promise.reject("Work email is empty"):""===b.trim()?Promise.reject("Personal email is empty"):""===y.trim()?Promise.reject("Gender is empty"):""===_.trim()?Promise.reject("Date of birth is empty"):""===h.trim()?Promise.reject("Marital status not selected"):""===j.trim()?Promise.reject("Current address is empty"):""===v.trim()?Promise.reject("Permanent address is empty"):""===E.trim()?Promise.reject("Emmergency contact 1 is empty"):""===O.trim()?Promise.reject("Emmergency contact 2 is empty"):""===w.trim()?Promise.reject("Blood group not selected"):""===N.trim()?Promise.reject("Any medical conditions is empty"):""===x.trim()?Promise.reject("Training month is Empty"):new Promise(function(e,n){t(Object(s.b)()),function(e,t,n,a,r,i,o,s,l,d,u,m,p,f,g,b,y,_,h,j,v,E){return Object(c.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,marital_status:d,name:t,jobtitle:n,team:a,dateofjoining:r,work_email:i,other_email:o,gender:s,dob:l,permanent_address:m,current_address:u,emergency_ph1:p,emergency_ph2:f,blood_group:g,medical_condition:b,training_completion_date:y,termination_date:_,training_month:j,holding_comments:h,send_slack_msg:v,slack_msg:E})}(r,i,o,p,f,g,b,y,_,h,j,v,E,O,w,N,S,A,k,x,P,L).then(function(e){var i;t(Object(s.a)()),0==e.error?(t(u(r)),t((i=e.data.message,Object(a.a)(l.vc)(i)))):(t(m(e.data.message)),n(e.data))},function(e){t(Object(s.a)()),t(m("error occurs!!!"))})})}}function f(e){return Object(a.a)(l.p)(e)}function g(e){return function(t,n){var r="",i="",o="",d="",u="",m="",p="",g="";return"undefined"===typeof e.dateofjoining||""==e.dateofjoining?Promise.reject("Date of Joining is empty"):(r=e.dateofjoining,"undefined"===typeof e.name||""==e.name?Promise.reject("Name is empty"):(i=e.name,"undefined"===typeof e.jobtitle||""==e.jobtitle?Promise.reject("Job Title is empty"):(o=e.jobtitle,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(d=e.gender,"undefined"===typeof e.dob||""==e.dob?Promise.reject("Date of birth is empty"):(u=e.dob,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(d=e.gender,"undefined"===typeof e.username||""==e.username?Promise.reject("Username is empty"):(m=e.username,"undefined"===typeof e.training_month||""==e.training_month?Promise.reject("training month is empty"):(p=e.training_month,"undefined"===typeof e.workemail||""==e.workemail?Promise.reject("Work email is empty"):(g=e.workemail,new Promise(function(e,n){t(Object(s.b)()),function(e,t,n,a,r,i,o,s){return Object(c.b)("POST","",{action:"add_new_employee",dateofjoining:e,name:t,jobtitle:n,gender:a,dob:r,username:i,training_month:o,workemail:s})}(r,i,o,d,u,m,p,g).then(function(r){var i;t(Object(s.a)()),0==r.error?(t((i=r.data,Object(a.a)(l.Db)(i))),e(r.data)):(t(f(r.data.message)),n(r.data.message))},function(e){t(Object(s.a)()),t(f("error occurs!!!")),n("error occurs!!!")})}))))))))))}}function b(e){return Object(a.a)(l.bb)(e)}function y(e){return function(t,n){return new Promise(function(n,r){t(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_document_by_id",user_id:e})}(e).then(function(e){var n;t(Object(s.a)()),0==e.error?t((n=e.data,Object(a.a)(l.xc)(n))):t(b(e.data.message))},function(e){t(Object(s.a)()),t(b("error occurs!!!"))})})}}function _(e){return function(t,n){return new Promise(function(n,a){t(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"delete_user_document",id:e})}(e).then(function(e){t(Object(s.a)()),0==e.error?n(e.data.message):a(e.data.message)},function(e){t(Object(s.a)()),a("error occurs!!")})})}}function h(e,t){return function(n,a){return new Promise(function(n,a){(function(e,t){return Object(c.b)("POST","",{action:"change_employee_status",user_id:e,status:t})})(e,t).then(function(e){0===e.error?n("User disabled"):a(e.data.message)},function(e){a("error occurs!!")})})}}function j(e){return Object(a.a)(l.ec)(e)}function v(e){return Object(a.a)(l.K)(e)}o()(function(e,t,n){return Object(c.b)("POST","",{action:"get_employee_life_cycle",userid:e}).then(function(e){0==e.error?t(j(e.data)):t(v())})},1);function E(e){return function(t,n){return new Promise(function(n,a){(function(e){return Object(c.b)("POST","",{action:"get_employee_life_cycle",userid:e})})(e).then(function(e){0==e.error?(n(e.message),t(j(e.data))):(a(e.data.message),t(v(e.data.message)))},function(e){a("error occurs!!")})})}}function O(e,t){return function(n,r){return new Promise(function(r,i){(function(e,t){return Object(c.b)("POST","",{action:"update_employee_life_cycle",userid:e,stepid:t})})(e,t).then(function(e){var t;0==e.error?r(e.data.message):(i(e.data.message),n((t=e.data.message,Object(a.a)(l.J)(t))))},function(e){i("error occurs!!")})})}}function w(e){return Object(a.a)(l.r)(e)}function N(e){return function(t,n){var r="",i="",o="",d="",u="",m="",p="",f="";return"undefined"!==typeof e.user_id&&(r=e.user_id),"undefined"!==typeof e.signature&&(f=e.signature),"undefined"!==typeof e.permanent_address&&(i=e.permanent_address),"undefined"!==typeof e.emergency_ph1&&(o=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(d=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(u=e.blood_group),"undefined"!==typeof e.medical_condition&&(m=e.medical_condition),"undefined"!==typeof e.holding_comments&&(p=e.holding_comments),""===r.trim()?Promise.reject("User id is empty"):""===f.trim()?Promise.reject("signature is empty"):""===i.trim()?Promise.reject("Permanent address is empty"):""===o.trim()?Promise.reject("Emmergency contact 1 is empty"):""===d.trim()?Promise.reject("Emmergency contact 2 is empty"):""===u.trim()?Promise.reject("Blood group not selected"):""===m.trim()?Promise.reject("Any medical conditions is empty"):new Promise(function(e,n){t(Object(s.b)()),function(e,t,n,a,r,i,o,s){return Object(c.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,permanent_address:t,emergency_ph1:n,emergency_ph2:a,blood_group:r,medical_condition:i,holding_comments:o,signature:s})}(r,i,o,d,u,m,p,f).then(function(n){var r;t(Object(s.a)()),0==n.error?(e(n.data),t((r=n.data,Object(a.a)(l.Fb)(r)))):t(w(n.data))},function(e){t(Object(s.a)()),t(w("error occurs!!!"))})})}}function P(e){return Object(a.a)(l.Fe)(e)}function L(){return function(e,t){return new Promise(function(t,n){e(Object(s.b)()),Object(c.b)("POST","",{action:"get_enabled_users_brief_details"}).then(function(n){var i;0==n.error?(t(n.data),e(P(n.data)),n.data.length&&e(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a,i){return new Promise(function(i,o){var l=t[n].user_Id;a(Object(s.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_salary_info_by_id",user_id:e})}(l).then(function(i){if("undefined"!==typeof i.data&&"undefined"!==typeof i.data.salary_details&&i.data.salary_details.length>0){i.data;var o=r.orderBy(i.data.salary_details,["date"],["desc"]);t[n].current_salary=o[0].test&&o[0].test.total_salary,a(P(t))}a(Object(s.a)()),t.length>++n&&a(e(t,n))},function(r){a(Object(s.a)()),t.length>++n&&a(e(t,n))})})}}(n.data))):e((i=n.data,Object(a.a)(l.Qc)(i))),e(Object(s.a)())},function(t){console.log("error",t),e(Object(s.a)())})})}}},663:function(e,t,n){"use strict";n.r(t);var a,r=n(26),i=n(27),o=n(29),c=n(28),s=n(30),l=n(13),d=n(0),u=n.n(d),m=(n(130),n(263)),p=n.n(m),f=n(8),g=n.n(f),b=n(36),y=n(45),_=(n(596),n(638),n(24),n(180),n(129)),h=(n(37),n(262)),j=n(566),v=n(177),E=n(788),O=n(4),w=n(176),N=n(574),P=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).props.onIsAlreadyLogin(),n.state={user_id:"",permanent_address:"",emergency_ph1:"",emergency_ph2:"",blood_group:"",medical_condition:"",holding_comments:"",signature:""},n.callAddNewEmployeeDetails=n.callAddNewEmployeeDetails.bind(Object(l.a)(Object(l.a)(n))),n.handleCanvas=n.handleCanvas.bind(Object(l.a)(Object(l.a)(n))),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"handleCanvas",value:function(){var e=this;a=new E.a(document.getElementById("signature-pad"),{backgroundColor:"rgba(255, 255, 255, 0)",penColor:"rgb(0, 0, 0)",onEnd:function(){localStorage.setItem("signature",a.toDataURL()),e.setState({signature:localStorage.signature})}})}},{key:"componentWillMount",value:function(){this.props.onUsersList()}},{key:"handleCancelButton",value:function(){a.clear()}},{key:"callAddNewEmployeeDetails",value:function(e){var t=this;this.props.onAddNewUserDetails(e).then(function(e){Object(y.b)("Success!!",e.message,"success"),t.props.history.push("/add_documents/".concat(t.props.params.id))},function(e){Object(y.b)("error",e,"error")})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement(_.a,this.props),u.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},u.a.createElement(h.a,{pageTitle:"Add New Employee Details",showLoading:this.props.frontend.show_loading}),u.a.createElement("div",{className:"app-body",id:"view"},u.a.createElement("div",{className:"padding"},u.a.createElement("div",{className:"col-md-6 input-wrapper"},u.a.createElement(p.a,{floatingLabelText:"Permanent Address",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({permanent_address:t.target.value})},value:this.state.permanent_address})),u.a.createElement("div",{className:"col-md-6 input-wrapper"},u.a.createElement(p.a,{type:"number",floatingLabelText:"Phone No",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({emergency_ph1:t.target.value})},value:this.state.emergency_ph1})),u.a.createElement("div",{className:"col-md-6 input-wrapper"},u.a.createElement(p.a,{type:"number",floatingLabelText:"Emergency Contact No",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({emergency_ph2:t.target.value})},value:this.state.emergency_ph2})),u.a.createElement("div",{className:"col-md-6 input-wrapper"},"Blood Group",u.a.createElement("select",{className:"form-control",ref:"blood_group",onChange:function(t){return e.setState({blood_group:t.target.value})},value:this.state.blood_group},u.a.createElement("option",{disabled:!0},"--select blood group--"),u.a.createElement("option",{value:"0"},"B+ "),u.a.createElement("option",{value:"1"},"O+"),u.a.createElement("option",{value:"2"},"AB+"),u.a.createElement("option",{value:"3"},"A+"),u.a.createElement("option",{value:"4"},"B- "),u.a.createElement("option",{value:"5"},"O-"),u.a.createElement("option",{value:"6"},"AB-"),u.a.createElement("option",{value:"7"},"A-"))),u.a.createElement("div",{className:"col-md-8 input-wrapper"},u.a.createElement(p.a,{floatingLabelText:"Any Medical issues in past/present",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({medical_condition:t.target.value})},value:this.state.medical_condition})),u.a.createElement("div",{className:"col-md-8 input-wrapper"},u.a.createElement(p.a,{floatingLabelText:"Employee Holding Comment",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({holding_comments:t.target.value,user_id:e.props.params.id})},value:this.state.holding_comments})),u.a.createElement("div",{className:"col-md-8  input-wrapper"},u.a.createElement("label",null,"Employee Signature"),u.a.createElement("p",null,"(Double-tap and hold then start drawing your signature)"),u.a.createElement("canvas",{id:"signature-pad",onClick:this.handleCanvas,className:"signature-pad",style:{width:"100%",height:200,border:"1px solid rgba(80,80,80,0.6)"}}),u.a.createElement(v.a,{onClick:this.handleCancelButton,id:"clear",label:"Clear"}),u.a.createElement("div",{className:"row p-y"},u.a.createElement(v.a,{className:"col-xs-12 p-y-2 m-b-sm indigo",onClick:function(){return e.callAddNewEmployeeDetails(e.state)},label:"Next"})))))))}}]),t}(u.a.Component);var L=Object(j.a)(Object(b.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,manageUsers:e.manageUsers.toJS()}},function(e){return{onIsAlreadyLogin:function(){return e(O.isAlreadyLogin())},onUsersList:function(){return e(w.c())},onAddNewUserDetails:function(t){return e(N.b(t))}}})(P));t.default=L,L.propTypes={onIsAlreadyLogin:g.a.func.isRequired,usersList:g.a.object.isRequired,onAddNewUserDetails:g.a.func.isRequired,router:g.a.object.isRequired}},846:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(27),i=n(29),o=n(28),c=n(30),s=n(13),l=n(0),d=n.n(l),u=(n(130),n(263)),m=n.n(u),p=n(8),f=n.n(p),g=n(36),b=n(45),y=n(129),_=(n(37),n(262)),h=n(24),j=(n(596),n(663),n(566)),v=n(105),E=n.n(v),O=(n(180),n(268)),w=n.n(O),N=n(177),P=n(4),L=n(176),S=n(574),A=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).props.onIsAlreadyLogin(),n.state={loading:!1,dateofjoining:new Date,name:"",user_id:"",jobtitle:"",gender:"",dob:new Date,username:"",training_month:"",workemail:""},n.callAddNewEmployee=n.callAddNewEmployee.bind(Object(s.a)(Object(s.a)(n))),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.props.onUsersList()}},{key:"callAddNewEmployee",value:function(e){var t=this;this.setState({loading:!0}),this.props.onAddNewEmployee(e).then(function(e){Object(b.b)(e.message),t.props.onUsersList(),t.setState({user_id:e.user_id}),t.props.history.push("/add_new_employee/".concat(t.state.user_id));t.props.usersList.username},function(e){t.setState({loading:!1}),Object(b.b)(e)})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(y.a,this.props),d.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},d.a.createElement(_.a,{pageTitle:"Add New Employee Details",showLoading:this.props.frontend.show_loading}),d.a.createElement("div",{className:"app-body",id:"view"},d.a.createElement("div",{className:"padding"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement("div",{className:"col-md-1"}),d.a.createElement("div",{className:"text-danger"},d.a.createElement("i",null,"*Create a slack profile first and enter email in Work Email")),d.a.createElement("div",{className:"col-md-1"}),d.a.createElement("div",{className:"text-info"},"*Default password is : ",h.a.DEFAULT_PASSWORD),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row p-y"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement("div",{className:"col-md-1 input-wrapper"}),d.a.createElement("div",{className:"col-md-4 input-wrapper"},"Date of Joining",d.a.createElement(w.a,{hintText:"Date of Joining",value:this.state.dateofjoining,onChange:function(t,n){e.setState({dateofjoining:n})}})),d.a.createElement("div",{className:"col-md-4 input-wrapper"},"Date of Birth",d.a.createElement(w.a,{hintText:"Date of Birth",value:this.state.dob,onChange:function(t,n){e.setState({dob:n})}})))),d.a.createElement("div",{className:"row p-y"},d.a.createElement("div",{className:"col-xs-12"},d.a.createElement("div",{className:"col-md-1 input-wrapper"}),d.a.createElement("div",{className:"col-md-4 input-wrapper"},"Training Month",d.a.createElement("select",{className:"form-control",ref:"training_month",onChange:function(t){e.setState({training_month:t.target.value})}},d.a.createElement("option",{disabled:!0},"--select month--"),d.a.createElement("option",{value:"0"},"0 month "),d.a.createElement("option",{value:"1"},"1 month"),d.a.createElement("option",{value:"2"},"2 month"),d.a.createElement("option",{value:"3"},"3 month"),d.a.createElement("option",{value:"4"},"4 month"))),d.a.createElement("div",{className:"col-md-4 p-y input-wrapper"},"Gender",d.a.createElement("select",{className:"form-control",ref:"gender",onChange:function(t){return e.setState({gender:t.target.value})},value:this.state.gender},d.a.createElement("option",{value:""},"--Select gender--"),d.a.createElement("option",{value:"Female"},"Female"),d.a.createElement("option",{value:"Male"},"Male"),d.a.createElement("option",{value:"Other"},"Other"))))),d.a.createElement("div",{className:"row p-y"},d.a.createElement("div",{className:"col-xs-12"},d.a.createElement("div",{className:"col-md-1 input-wrapper"}),d.a.createElement("div",{className:"col-md-4 input-wrapper"},d.a.createElement(m.a,{floatingLabelText:"Name",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name})),d.a.createElement("div",{className:"col-md-4 input-wrapper"},d.a.createElement(m.a,{floatingLabelText:"Job Title",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({jobtitle:t.target.value})},value:this.state.jobtitle})))),d.a.createElement("div",{className:"col-md-1 input-wrapper"}),d.a.createElement("div",{className:"col-md-4 input-wrapper"},d.a.createElement(m.a,{floatingLabelText:"UserName",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({username:t.target.value})},value:this.state.username})),d.a.createElement("div",{className:"col-md-4 input-wrapper"},d.a.createElement(m.a,{type:"email",floatingLabelText:"Work Email",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({workemail:t.target.value})},value:this.state.workemail})),d.a.createElement("div",{className:"col-xs-4 input-wrapper"})),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("div",{className:"col-md-8  input-wrapper"},d.a.createElement("div",{className:"col-md-1 input-wrapper"}),0==this.state.loading?d.a.createElement(N.a,{className:"col-xs-10 p-y-2 m-b-sm indigo",onClick:function(){return e.callAddNewEmployee(e.state)},label:"Next"}):d.a.createElement(E.a,null))))))))}}]),t}(d.a.Component);var k=Object(j.a)(Object(g.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,manageUsers:e.manageUsers.toJS(),usersList:e.usersList.toJS()}},function(e){return{onIsAlreadyLogin:function(){return e(P.isAlreadyLogin())},onAddNewEmployee:function(t){return e(S.a(t))},onUsersList:function(){return e(L.c())}}})(A));t.default=k,k.propTypes={onIsAlreadyLogin:f.a.func.isRequired,usersList:f.a.object.isRequired,onAddNewEmployee:f.a.func.isRequired,router:f.a.object.isRequired}}}]);
//# sourceMappingURL=41.65bd1a40.chunk.js.map