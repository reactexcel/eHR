{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/leave/components/applyLeave/ApplyLeaveForm.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Calendar } from 'react-date-range';\nimport { notify } from '../../../../services/notify';\nimport { Button, ButtonRaised, ButtonFlat } from '../../../../components/generic/buttons';\nimport AddLeaveDocument from './AddLeaveDocument';\n\nvar ApplyLeaveForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ApplyLeaveForm, _React$Component);\n\n  function ApplyLeaveForm(props) {\n    var _this;\n\n    _classCallCheck(this, ApplyLeaveForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ApplyLeaveForm).call(this, props));\n    _this.state = {\n      status_message: '',\n      open: false,\n      id: '',\n      form_from_date: '',\n      form_to_date: '',\n      form_no_of_days: '',\n      form_reason: '',\n      day_status: '',\n      show_half_day_button: '',\n      leaveType: '',\n      late_reason: ''\n    };\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOpen = _this.handleOpen.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.doApplyLeave = _this.doApplyLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartDate = _this.handleStartDate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEndDate = _this.handleEndDate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._apply_half_day_1 = _this._apply_half_day_1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ApplyLeaveForm, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      window.scrollTo(0, 0);\n\n      if (this.state.form_from_date != '' && this.state.form_to_date != '' && this.state.form_no_of_days == '') {\n        this.props.onDaysBetweenLeaves(this.state.form_from_date, this.state.form_to_date);\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        open: false,\n        status_message: ''\n      });\n    }\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen() {\n      this.setState({\n        status_message: '',\n        open: true\n      });\n    }\n  }, {\n    key: \"_apply_half_day_1\",\n    value: function _apply_half_day_1(shift) {\n      if (shift == 1) {\n        this.setState({\n          form_no_of_days: '0.5',\n          day_status: '1'\n        });\n      } else if (shift == 2) {\n        this.setState({\n          form_no_of_days: '0.5',\n          day_status: '2'\n        });\n      }\n    }\n  }, {\n    key: \"handleStartDate\",\n    value: function handleStartDate(date) {\n      var startDate = date.format('YYYY-MM-DD');\n      this.setState({\n        form_from_date: startDate,\n        form_no_of_days: ''\n      });\n    }\n  }, {\n    key: \"handleEndDate\",\n    value: function handleEndDate(date) {\n      var endDate = date.format('YYYY-MM-DD');\n      this.setState({\n        form_to_date: endDate,\n        form_no_of_days: ''\n      });\n    }\n  }, {\n    key: \"doApplyLeave\",\n    value: function doApplyLeave(evt) {\n      var reason_letter_count = this.state.form_reason;\n\n      if (reason_letter_count.length > 30) {\n        if (this.props.forAdmin == true) {\n          this.props.doApplyLeave(this.state.form_from_date, this.state.form_to_date, this.state.form_no_of_days, this.state.form_reason, this.props.selectedUserId, this.state.day_status, this.state.leaveType, this.state.late_reason);\n          this.setState({\n            form_from_date: '',\n            form_to_date: '',\n            form_no_of_days: '',\n            form_reason: '',\n            show_half_day_button: '',\n            day_status: '',\n            leaveType: '',\n            late_reason: ''\n          }); // notify(\"leave Applied\");\n        } else {\n          this.props.doApplyLeave(this.state.form_from_date, this.state.form_to_date, this.state.form_no_of_days, this.state.form_reason, '', this.state.day_status, this.state.leaveType, this.state.late_reason);\n          this.setState({\n            form_from_date: '',\n            form_to_date: '',\n            form_no_of_days: '',\n            form_reason: '',\n            show_half_day_button: '',\n            day_status: '',\n            leaveType: '',\n            late_reason: ''\n          });\n        }\n      } else {\n        notify('Warning', 'Explain your leave in detail, write atleast 2-3 lines', 'warning');\n      }\n\n      evt.preventDefault();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var num_working_days = '0';\n\n      if (props.applyLeave.count_working_days != '' && props.applyLeave.count_working_days != 0) {\n        num_working_days = props.applyLeave.count_working_days;\n      }\n\n      this.setState({\n        form_from_date: props.applyLeave.start_date,\n        form_to_date: props.applyLeave.end_date,\n        form_no_of_days: num_working_days\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var policyLink = this.props.policyDocuments.data.map(function (val, i) {\n        if (val.name === 'Leave Policy') {\n          return React.createElement(\"a\", {\n            key: i,\n            href: val.link,\n            target: \"_blank\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            key: i,\n            className: \"pointer m-t-xs\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, \"Read Leave Policy\"));\n        }\n      });\n      var dateDiff = moment(moment().format('YYYY-MM-DD')).diff(this.state.form_from_date || moment().format('YYYY-MM-DD'), 'days');\n      var apply_half_day_button_1 = '';\n      var apply_half_day_button_2 = '';\n\n      if (this.state.form_no_of_days == 1) {\n        apply_half_day_button_1 = React.createElement(ButtonFlat, {\n          className: \"text-accent\",\n          onClick: function onClick() {\n            return _this2._apply_half_day_1(1);\n          },\n          label: \"Apply Leave For First Half\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        });\n        apply_half_day_button_2 = React.createElement(ButtonFlat, {\n          className: \"text-accent\",\n          onClick: function onClick() {\n            return _this2._apply_half_day_1(2);\n          },\n          label: \"Apply Leave For Second Half\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        });\n      }\n\n      var width = '63%';\n\n      if (this.props.forAdmin == true) {\n        width = '82%';\n      }\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-6 col-md-4 text-center calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Select Start Date\"), React.createElement(Calendar, {\n        onChange: this.handleStartDate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-xs-6 col-md-4 text-center calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Select End Date\"), React.createElement(Calendar, {\n        onChange: this.handleEndDate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-xs-12 col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Leave Summary\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        role: \"form\",\n        onSubmit: this.doApplyLeave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"streamline b-l m-l\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-item b-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"sl-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-date text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Your leave starts from\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.form_from_date))), React.createElement(\"div\", {\n        className: \"sl-item b-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: width\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        value: this.state.leaveType,\n        onChange: function onChange(e) {\n          _this2.setState({\n            leaveType: e.target.value\n          });\n        },\n        className: \"form-control\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Select Option\"), React.createElement(\"option\", {\n        value: \"Casual Leave\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \" Casual Leave \"), React.createElement(\"option\", {\n        value: \"Sick Leave\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \" Sick Leave \"), React.createElement(\"option\", {\n        value: \"RH Compensation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \" RH Compensation \"))))), React.createElement(\"div\", {\n        className: \"sl-item b-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-date text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"No. of days\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, this.state.form_no_of_days), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, apply_half_day_button_1, apply_half_day_button_2))), React.createElement(\"div\", {\n        className: \"sl-item b-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-date text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Reason\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        ref: \"reason\",\n        onChange: function onChange() {\n          return _this2.setState({\n            form_reason: _this2.refs.reason.value\n          });\n        },\n        value: this.state.form_reason,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })))), dateDiff > 0 ? React.createElement(\"div\", {\n        className: \"sl-item b-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-date text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Reason For Late Applying\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            late_reason: e.target.value\n          });\n        },\n        value: this.state.late_reason,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          marginTop: '10px',\n          width: '63%',\n          paddingLeft: '10px',\n          background: 'blanchedalmond'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, policyLink))) : null, React.createElement(\"div\", {\n        className: \"sl-item b-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-check red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"sl-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sl-date text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"Your leave ends on\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, this.state.form_to_date)), React.createElement(\"div\", {\n        className: \"col-sm-12 \",\n        style: {\n          display: 'inline-grid'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Send Document on Slack to Manish\"), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.handleOpen();\n        },\n        className: \"btn btn-info btn-responsive btn-res col-xs-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, 'Upload Leave Document'), React.createElement(\"small\", {\n        className: \"uploadnotic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"* Upload file size should be less than 1 MB\"))), React.createElement(AddLeaveDocument, {\n        handleClose: this.handleClose,\n        open: this.state.open,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group row m-t-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12 col-md-6 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        className: \"green apply-leave-btn\",\n        label: \"Apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return ApplyLeaveForm;\n}(React.Component);\n\nApplyLeaveForm.propTypes = {\n  doApplyLeave: PropTypes.func.isRequired,\n  applyLeave: PropTypes.shape({\n    start_date: PropTypes.string,\n    end_date: PropTypes.string\n  })\n};\nexport default ApplyLeaveForm;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/leave/components/applyLeave/ApplyLeaveForm.jsx"],"names":["React","Component","PropTypes","moment","Calendar","notify","Button","ButtonRaised","ButtonFlat","AddLeaveDocument","ApplyLeaveForm","props","state","status_message","open","id","form_from_date","form_to_date","form_no_of_days","form_reason","day_status","show_half_day_button","leaveType","late_reason","handleClose","bind","handleOpen","doApplyLeave","handleStartDate","handleEndDate","_apply_half_day_1","window","scrollTo","onDaysBetweenLeaves","setState","shift","date","startDate","format","endDate","evt","reason_letter_count","length","forAdmin","selectedUserId","preventDefault","num_working_days","applyLeave","count_working_days","start_date","end_date","policyLink","policyDocuments","data","map","val","i","name","link","dateDiff","diff","apply_half_day_button_1","apply_half_day_button_2","width","e","target","value","refs","reason","marginTop","paddingLeft","background","display","propTypes","func","isRequired","shape","string"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {Calendar} from 'react-date-range';\nimport {notify} from '../../../../services/notify';\nimport {Button, ButtonRaised, ButtonFlat} from '../../../../components/generic/buttons';\nimport AddLeaveDocument from './AddLeaveDocument'\n\n\n \nclass ApplyLeaveForm extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      status_message:      '',\n      open:       false,\n      id:         '',\n      form_from_date:       '',\n      form_to_date:         '',\n      form_no_of_days:      '',\n      form_reason:          '',\n      day_status:           '',\n      show_half_day_button: '',\n      leaveType:            '',\n      late_reason:          ''\n    };\n    this.handleClose = this.handleClose.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n    this.doApplyLeave = this.doApplyLeave.bind(this);\n    this.handleStartDate = this.handleStartDate.bind(this);\n    this.handleEndDate = this.handleEndDate.bind(this);\n    this._apply_half_day_1 = this._apply_half_day_1.bind(this);\n  }\n\n  componentDidUpdate () {\n    window.scrollTo(0,0);\n    if (this.state.form_from_date != '' && this.state.form_to_date != '' && this.state.form_no_of_days == '') {\n      this.props.onDaysBetweenLeaves(this.state.form_from_date, this.state.form_to_date);\n    }\n  }\n\n  handleClose () {\n    this.setState({\n      open:          false,\n      status_message:'',\n    });\n  }\n  handleOpen () {\n    this.setState({\n      status_message:'',\n      open:          true,\n    });\n  }\n  _apply_half_day_1 (shift) {\n    if (shift == 1) {\n      this.setState({\n        form_no_of_days: '0.5',\n        day_status:      '1'\n      });\n    } else if (shift == 2) {\n      this.setState({\n        form_no_of_days: '0.5',\n        day_status:      '2'\n      });\n    }\n  }\n\n  handleStartDate (date) {\n    let startDate = date.format('YYYY-MM-DD');\n    this.setState({form_from_date: startDate, form_no_of_days: ''});\n  }\n  handleEndDate (date) {\n    let endDate = date.format('YYYY-MM-DD');\n    this.setState({form_to_date: endDate, form_no_of_days: ''});\n  }\n  \n\n \n  doApplyLeave (evt) {\n    var reason_letter_count = this.state.form_reason\n    if(reason_letter_count.length > 30){\n      if (this.props.forAdmin == true) {\n        this.props.doApplyLeave(this.state.form_from_date, this.state.form_to_date, this.state.form_no_of_days, this.state.form_reason, this.props.selectedUserId, this.state.day_status, this.state.leaveType, this.state.late_reason);\n        this.setState({\n          form_from_date:       '',\n          form_to_date:         '',\n          form_no_of_days:      '',\n          form_reason:          '',\n          show_half_day_button: '',\n          day_status:           '',\n          leaveType:            '',\n          late_reason:          ''\n        });\n        \n        // notify(\"leave Applied\");\n      } else {\n        this.props.doApplyLeave(this.state.form_from_date, this.state.form_to_date, this.state.form_no_of_days, this.state.form_reason, '', this.state.day_status, this.state.leaveType, this.state.late_reason);\n        this.setState({\n          form_from_date:       '',\n          form_to_date:         '',\n          form_no_of_days:      '',\n          form_reason:          '',\n          show_half_day_button: '',\n          day_status:           '',\n          leaveType:            '',\n          late_reason:          ''\n        });\n        \n      }\n    }\n    else{\n      notify('Warning','Explain your leave in detail, write atleast 2-3 lines','warning');\n    }\n    evt.preventDefault();\n   \n  }\n  componentWillReceiveProps (props) {\n    let num_working_days = '0';\n    if (props.applyLeave.count_working_days != '' && props.applyLeave.count_working_days != 0) {\n      num_working_days = props.applyLeave.count_working_days;\n    }\n\n    this.setState({form_from_date: props.applyLeave.start_date, form_to_date: props.applyLeave.end_date, form_no_of_days: num_working_days});\n  }\n  render () {\n    let policyLink = this.props.policyDocuments.data.map((val, i) => {\n      if (val.name === 'Leave Policy') {\n        return <a key={i} href={val.link} target=\"_blank\" ><label key={i} className=\"pointer m-t-xs\">Read Leave Policy</label></a>;\n      }\n    });\n    let dateDiff = moment(moment().format('YYYY-MM-DD')).diff(this.state.form_from_date || moment().format('YYYY-MM-DD'), 'days');\n    let apply_half_day_button_1 = '';\n    let apply_half_day_button_2 = '';\n    if (this.state.form_no_of_days == 1) {\n      apply_half_day_button_1 = <ButtonFlat className=\"text-accent\" onClick={() => this._apply_half_day_1(1)} label=\"Apply Leave For First Half\" />;\n      apply_half_day_button_2 = <ButtonFlat className=\"text-accent\" onClick={() => this._apply_half_day_1(2)} label=\"Apply Leave For Second Half\" />;\n    }\n    let width = '63%';\n    if (this.props.forAdmin == true) {\n      width = '82%';\n    }\n    return (\n      <div className=\"row\">\n        <div className=\"col-xs-6 col-md-4 text-center calendar\">\n          <h6>Select Start Date</h6>\n          <Calendar onChange={this.handleStartDate} />\n        </div>\n        <div className=\"col-xs-6 col-md-4 text-center calendar\">\n          <h6>Select End Date</h6>\n          <Calendar onChange={this.handleEndDate} />\n        </div>\n        <div className=\"col-xs-12 col-md-4\">\n          <h5>Leave Summary</h5>\n          <br />\n          <form role=\"form\" onSubmit={this.doApplyLeave}>\n            <div className=\"box-body\">\n              <div className=\"streamline b-l m-l\">\n                <div className=\"sl-item b-success\">\n                  <div className=\"sl-icon\">\n                    <i className=\"fa fa-check\"></i>\n                  </div>\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">Your leave starts from</div>\n                    <div>\n                      {this.state.form_from_date}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"sl-item b-info\">\n                  <div className=\"sl-content\">\n                    <div style={{width: width}}>\n                      <select value={this.state.leaveType} onChange={(e) => { this.setState({leaveType: e.target.value}); }} className=\"form-control\" required>\n                        <option value='' disabled>Select Option</option>\n                        <option value='Casual Leave'> Casual Leave </option>\n                        <option value='Sick Leave'> Sick Leave </option>\n                        <option value='RH Compensation'> RH Compensation </option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"sl-item b-info\">\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">No. of days</div>\n                    <div>\n                      {this.state.form_no_of_days}\n                    </div>\n                    <div>\n                      {apply_half_day_button_1}\n                      {apply_half_day_button_2}\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"sl-item b-warning\">\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">Reason</div>\n                    <div><textarea  ref=\"reason\" onChange={() => this.setState({form_reason: this.refs.reason.value})} value={this.state.form_reason} /></div>\n                  </div>\n                </div>\n                {\n                  dateDiff > 0\n                   ? <div className=\"sl-item b-warning\">\n                      <div className=\"sl-content\">\n                        <div className=\"sl-date text-muted\">Reason For Late Applying</div>\n                        <div><input type=\"text\" onChange={(e) => this.setState({late_reason: e.target.value})} value={this.state.late_reason} required /></div>\n                        <div style={{marginTop: '10px', width: '63%', paddingLeft: '10px', background: 'blanchedalmond'}}>{policyLink}</div>\n                      </div>\n                    </div> : null\n                }\n                <div className=\"sl-item b-success\">\n                  <div className=\"sl-icon\">\n                    <i className=\"fa fa-check red\"></i>\n                  </div>\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">Your leave ends on</div>\n                    <div>\n                      {this.state.form_to_date}\n                    </div>\n                  </div>\n                  <div className=\"col-sm-12 \" style={{display:'inline-grid'}} >\n                  <small >Send Document on Slack to Manish</small>\n                    <button type=\"button\"\n                      onClick={() =>  this.handleOpen()}\n                      className=\"btn btn-info btn-responsive btn-res col-xs-2\">{'Upload Leave Document'}\n                    </button>\n                    <small className=\"uploadnotic\" >* Upload file size should be less than 1 MB</small>\n                  </div>\n                </div>\n                <AddLeaveDocument \n                handleClose={this.handleClose}\n                open={this.state.open}\n              /> \n                </div>\n                <div className=\"form-group row m-t-md\">\n              <div className=\"col-xs-12 col-md-6 text-center\">\n                <Button type=\"submit\" className=\"green apply-leave-btn\" label=\"Apply\" />\n              </div>\n            </div>\n              </div>\n          </form>\n        </div>\n      </div>\n\n    );\n  }\n}\nApplyLeaveForm.propTypes = {\n  doApplyLeave: PropTypes.func.isRequired,\n  applyLeave:   PropTypes.shape({start_date: PropTypes.string, end_date: PropTypes.string})\n};\nexport default ApplyLeaveForm;\n"]},"metadata":{},"sourceType":"module"}