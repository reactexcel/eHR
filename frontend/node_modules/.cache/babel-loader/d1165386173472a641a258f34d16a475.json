{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/components/UpdateEmployeeDocument.jsx\";\nimport React from \"react\";\nimport * as _ from \"lodash\";\nimport Dialog from \"material-ui/Dialog\";\nimport { notify } from \"../../../services/notify\";\nimport { getToken } from \"../../../services/generic\";\nimport { CONFIG } from \"../../../config/index\"; // import \"react-date-picker/index.css\";\n\nvar UpdateEmployeeDocument =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UpdateEmployeeDocument, _React$Component);\n\n  function UpdateEmployeeDocument(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateEmployeeDocument);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateEmployeeDocument).call(this, props));\n    _this.state = {\n      user_id: \"\",\n      open: false,\n      doc_type: \"\",\n      user_token: \"\"\n    };\n    _this.deleteDocument = _this.deleteDocument.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOpen = _this.handleOpen.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.callUpdateDocuments = _this.callUpdateDocuments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UpdateEmployeeDocument, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        user_token: getToken()\n      });\n\n      if (typeof props.user_id !== \"undefined\" && props.user_id !== null) {\n        this.setState({\n          user_id: props.user_id\n        });\n      }\n    }\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen() {\n      this.setState({\n        open: true\n      });\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"callUpdateDocuments\",\n    value: function callUpdateDocuments(e) {\n      var type = this.state.doc_type;\n      var link1 = this.refs.file.value;\n      var stop = false;\n\n      if (this.state.user_id === \"\") {\n        stop = true;\n        notify(\"User not selected\");\n      } else if (type === \"\") {\n        stop = true;\n        notify(\"Please select document type\");\n      } else if (link1 === \"\") {\n        stop = true;\n        notify(\"Please select a file\");\n      } else if (this.refs.declear.checked !== true) {\n        stop = true;\n        notify(\"Mark declearation before submit\");\n      }\n\n      if (stop) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"deleteDocument\",\n    value: function deleteDocument(docId) {\n      var _this2 = this;\n\n      this.props.onDeleteDocument(docId).then(function (msg) {\n        _this2.props.onGetUserDocument(_this2.state.user_id);\n\n        notify(msg.toString());\n      }).catch(function (err) {\n        notify(err.toString());\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var pageUrl = window.location.href;\n      var userDoc = [];\n\n      _.map(this.props.user_documents, function (doc, key) {\n        userDoc.push(React.createElement(\"li\", {\n          key: key,\n          className: \"list-group-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"clear b-t p-t\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"_500 block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, doc.document_type, React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-remove-circle pull-right pointer\",\n          onClick: function onClick() {\n            _this3.deleteDocument(doc.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        })), typeof doc.link_1 === \"undefined\" ? \"\" : React.createElement(\"span\", {\n          className: \"text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: doc.link_1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })))));\n      });\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Uploaded Documents\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"list-group m-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, userDoc.length === 0 ? React.createElement(\"li\", {\n        className: \"list-group-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"No document uploaded\")) : userDoc)), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.props.disabled ? \"\" : React.createElement(\"button\", {\n        className: \"btn info\",\n        onClick: function onClick() {\n          return _this3.props.history.push(\"/add_documents/\".concat(_this3.state.user_id));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Upload New Documents\")));\n    }\n  }]);\n\n  return UpdateEmployeeDocument;\n}(React.Component);\n\nexport default UpdateEmployeeDocument;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/components/UpdateEmployeeDocument.jsx"],"names":["React","_","Dialog","notify","getToken","CONFIG","UpdateEmployeeDocument","props","state","user_id","open","doc_type","user_token","deleteDocument","bind","handleOpen","handleClose","callUpdateDocuments","setState","e","type","link1","refs","file","value","stop","declear","checked","preventDefault","docId","onDeleteDocument","then","msg","onGetUserDocument","toString","catch","err","pageUrl","window","location","href","userDoc","map","user_documents","doc","key","push","document_type","id","link_1","__html","length","disabled","history","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as _ from \"lodash\";\nimport Dialog from \"material-ui/Dialog\";\nimport { notify } from \"../../../services/notify\";\nimport { getToken } from \"../../../services/generic\";\nimport { CONFIG } from \"../../../config/index\";\n// import \"react-date-picker/index.css\";\n\nclass UpdateEmployeeDocument extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id: \"\",\n      open: false,\n      doc_type: \"\",\n      user_token: \"\"\n    };\n    this.deleteDocument = this.deleteDocument.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n  }\n  componentWillReceiveProps(props) {\n    this.setState({ user_token: getToken() });\n    if (typeof props.user_id !== \"undefined\" && props.user_id !== null) {\n      this.setState({ user_id: props.user_id });\n    }\n  }\n  handleOpen() {\n    this.setState({ open: true });\n  }\n  handleClose() {\n    this.setState({ open: false });\n  }\n  callUpdateDocuments(e) {\n    let type = this.state.doc_type;\n    let link1 = this.refs.file.value;\n    let stop = false;\n    if (this.state.user_id === \"\") {\n      stop = true;\n      notify(\"User not selected\");\n    } else if (type === \"\") {\n      stop = true;\n      notify(\"Please select document type\");\n    } else if (link1 === \"\") {\n      stop = true;\n      notify(\"Please select a file\");\n    } else if (this.refs.declear.checked !== true) {\n      stop = true;\n      notify(\"Mark declearation before submit\");\n    }\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n  deleteDocument(docId) {\n    this.props\n      .onDeleteDocument(docId)\n      .then(msg => {\n        this.props.onGetUserDocument(this.state.user_id);\n        notify(msg.toString());\n      })\n      .catch(err => {\n        notify(err.toString());\n      });\n  }\n  render() {\n    let pageUrl = window.location.href;\n    let userDoc = [];\n    _.map(this.props.user_documents, (doc, key) => {\n      userDoc.push(\n        <li key={key} className=\"list-group-item\">\n          <div className=\"clear b-t p-t\">\n            <div className=\"_500 block\">\n              {doc.document_type}\n              <span\n                className=\"glyphicon glyphicon-remove-circle pull-right pointer\"\n                onClick={() => {\n                  this.deleteDocument(doc.id);\n                }}\n              />\n            </div>\n            {typeof doc.link_1 === \"undefined\" ? (\n              \"\"\n            ) : (\n              <span className=\"text-muted\">\n                <div dangerouslySetInnerHTML={{ __html: doc.link_1 }} />\n                <br />\n              </span>\n            )}\n          </div>\n        </li>\n      );\n    });\n    return (\n      <div>\n        <h6 className=\"text-center\">Uploaded Documents</h6>\n        <br />\n        <div>\n          <ul className=\"list-group m-b\">\n            {userDoc.length === 0 ? (\n              <li className=\"list-group-item\">\n                <span>No document uploaded</span>\n              </li>\n            ) : (\n              userDoc\n            )}\n          </ul>\n        </div>\n        <div className=\"text-center\">\n          {this.props.disabled ? (\n            \"\"\n          ) : (\n            <button\n              className=\"btn info\"\n              onClick={() =>\n                this.props.history.push(`/add_documents/${this.state.user_id}`)\n              }\n            >\n              Upload New Documents\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UpdateEmployeeDocument;\n"]},"metadata":{},"sourceType":"module"}