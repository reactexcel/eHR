{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/inventory/components/AddInventory.jsx\";\nimport React from \"react\"; // import \"react-date-picker/index.css\";\n\nimport Dialog from \"material-ui/Dialog\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router\";\nimport { DateField } from \"react-date-picker\";\nimport { show_loading, hide_loading } from \"../../../redux/generic/actions/frontend\";\nimport { notify } from \"../../../services/notify\";\nimport TextField from \"material-ui/TextField\";\nimport AlertNotification from \"../../../components/generic/AlertNotification\";\nimport CircularProgress from \"material-ui/CircularProgress\";\nimport DatePicker from \"material-ui/DatePicker\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport * as actionsManageDevice from \"../../../redux/inventory/actions/inventory\";\nimport * as actions from '../../../redux/actions';\nimport * as actionsUsersList from \"../../../redux/generic/actions/usersList\";\nimport * as actionsManageUsers from \"../../../redux/manageUsers/actions/manageUsers\";\nimport style from \"../../../styles/inventory/viewUser.scss\";\nimport Header from \"../../../components/generic/Header\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\n\nvar moment = require(\"moment\");\n\nvar newdate;\nvar selectedOption;\nvar purchase;\nvar warranty;\nvar datef;\n\nvar FormAddNewInventory =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormAddNewInventory, _React$Component);\n\n  function FormAddNewInventory(props) {\n    var _this;\n\n    _classCallCheck(this, FormAddNewInventory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormAddNewInventory).call(this, props));\n\n    _this.warranty_date = function (e) {\n      e.preventDefault();\n      selectedOption = e.target.value;\n\n      _this.setState({\n        warranty_years: e.target.value\n      });\n    };\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      open: false,\n      edit: false,\n      id: \"\",\n      user: \"\",\n      autoOk: true,\n      machine_type: \"\",\n      machine_name: \"\",\n      machine_price: \"\",\n      serial_no: \"\",\n      purchase_date: \"\",\n      operating_system: \"\",\n      comment: \"\",\n      warranty_comment: \"\",\n      repair_comment: \"\",\n      bill_no: \"\",\n      warranty: \"\",\n      user_Id: \"unassign\",\n      msg: \"\",\n      deviceTypeList: [],\n      deviceStatusList: [],\n      status: \"\",\n      loading: false,\n      unassign_comment: \"\",\n      warranty_years: \"\"\n    };\n    _this.handleChangeDate = _this.handleChangeDate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddDevice = _this.handleAddDevice.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAssign = _this.handleAssign.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddDialog = _this.handleAddDialog.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openEditDevice = _this.openEditDevice.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(FormAddNewInventory, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.onUsersList();\n      this.props.onFetchDeviceType();\n      this.props.onFetchDeviceStatus();\n    }\n  }, {\n    key: \"openEditDevice\",\n    value: function openEditDevice(id) {\n      var _this2 = this;\n\n      this.props.onGetDeviceById(id).then(function (val) {\n        _this2.setState({\n          edit: true,\n          open: true,\n          deviceId: id,\n          status_message: \"\",\n          getByIdData: val\n        });\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n      this.setState({\n        open: props.open,\n        edit: props.edit,\n        deviceTypeList: props.manageDevice.deviceList,\n        deviceStatusList: props.manageDevice.statusList,\n        username: props.manageUsers.username,\n        user_profile_detail: props.manageUsers.user_profile_detail,\n        user_assign_machine: props.manageUsers.user_assign_machine\n      }); // <CircularProgress />;\n\n      if (props.manageDevice.editData.edit) {\n        purchase = moment(props.manageDevice.editData.device.date_of_purchase)._d;\n        warranty = moment(props.manageDevice.editData.device.warranty_end_date)._d; // var a = moment(props.manageDevice.editData.device.warranty_end_date);\n        // var b = moment(props.manageDevice.editData.device.date_of_purchase);\n        // var diffDuration = moment.duration(a.diff(b));\n        // let year=diffDuration.years();\n        // let month=diffDuration.months();\n        // let day=diffDuration.days();\n        // if(year>0 && month==0 && day==0){\n        //   this.setState({\n        //     warranty_years:year\n        //   })\n        // }\n        // else if(year<0 && month==6 && day==0){\n        //   this.setState({\n        //     warranty_years:month\n        //   })\n        // }\n        // else{\n        //   this.setState({\n        //     warranty_years:''\n        //   })\n        // }\n\n        this.setState({\n          id: props.manageDevice.editData.device.id,\n          machine_type: props.manageDevice.editData.device.machine_type,\n          machine_name: props.manageDevice.editData.device.machine_name,\n          machine_price: props.manageDevice.editData.device.machine_price,\n          serial_no: props.manageDevice.editData.device.serial_number,\n          purchase_date: purchase,\n          operating_system: props.manageDevice.editData.device.operating_system,\n          status: props.manageDevice.editData.device.status,\n          comment: props.manageDevice.editData.device.comments,\n          warranty_comment: props.manageDevice.editData.device.warranty_comment,\n          repair_comment: props.manageDevice.editData.device.repair_comment,\n          bill_no: props.manageDevice.editData.device.bill_number,\n          warranty: warranty,\n          user_Id: props.manageDevice.editData.device.user_Id,\n          unassign_comment: props.manageDevice.editData.device.unassign_comment,\n          warranty_years: props.manageDevice.editData.device.warranty_years\n        });\n\n        if (this.props.manageDevice.status_message === \"Successfully Updated into table\") {\n          this.props.manageDevice.status_message = \"\";\n        }\n      } else if (this.props.manageDevice.status_message == \"Inventory added successfully and need to be approved by admin!!\") {\n        this.setState({\n          id: \"\",\n          machine_type: \"\",\n          machine_name: \"\",\n          machine_price: \"\",\n          serial_no: \"\",\n          purchase_date: \"\",\n          operating_system: \"\",\n          status: \"\",\n          comment: \"\",\n          warranty_comment: \"\",\n          repair_comment: \"\",\n          bill_no: \"\",\n          warranty: \"\",\n          user_Id: \"\",\n          loading: false,\n          unassign_comment: \"\",\n          warranty_years: \"\"\n        });\n        this.props.manageDevice.status_message = \"\";\n      }\n    }\n  }, {\n    key: \"handleAddDevice\",\n    value: function handleAddDevice() {\n      var _this3 = this;\n\n      newdate = new Date(this.state.purchase_date);\n\n      if (selectedOption == 0.5) {\n        newdate.setMonth(newdate.getMonth() + 6);\n      } else if (selectedOption == 1) {\n        newdate.setFullYear(newdate.getFullYear() + 1);\n      } else if (selectedOption == 2) {\n        newdate.setFullYear(newdate.getFullYear() + 2);\n      } else if (selectedOption == 3) {\n        newdate.setFullYear(newdate.getFullYear() + 3);\n      } else if (selectedOption == 5) {\n        newdate.setFullYear(newdate.getFullYear() + 5);\n      }\n\n      var dd = newdate.getDate();\n      var mm = newdate.getMonth() + 1;\n      var y = newdate.getFullYear();\n      var someFormattedDate = y + \"-\" + mm + \"-\" + dd;\n      var apiData = {\n        machine_type: this.state.machine_type,\n        machine_name: this.state.machine_name.trim(),\n        machine_price: this.state.machine_price.trim(),\n        serial_no: this.state.serial_no.trim(),\n        purchase_date: this.state.purchase_date,\n        operating_system: this.state.operating_system,\n        status: this.state.status,\n        comment: this.state.comment.trim(),\n        warranty_comment: this.state.warranty_comment.trim(),\n        repair_comment: this.state.repair_comment.trim(),\n        bill_no: this.state.bill_no.trim(),\n        warranty: someFormattedDate,\n        user_Id: this.state.user_Id,\n        unassign_comment: this.state.unassign_comment,\n        warranty_years: this.state.warranty_years\n      };\n      var resetFields = {\n        machine_type: \"\",\n        machine_name: \"\",\n        machine_price: \"\",\n        serial_no: \"\",\n        purchase_date: \"\",\n        operating_system: \"\",\n        comment: \"\",\n        warranty_comment: \"\",\n        repair_comment: \"\",\n        bill_no: \"\",\n        warranty: \"\",\n        user_Id: \"\",\n        unassign_comment: \"\",\n        warranty_years: \"\"\n      };\n      var validate = true;\n      this.setState({\n        loading: true\n      });\n\n      if (validate && !this.props.manageDevice.editData.edit) {\n        this.props.onAddNewMachine(apiData).then(function (val) {\n          notify(\"Success !\", val, \"success\");\n\n          _this3.props.history.push(\"/inventory_system/\".concat(_this3.state.machine_type));\n\n          _this3.props.onFetchDevice();\n        }, function (error) {\n          notify(\"Error !\", error, \"error\");\n\n          _this3.setState({\n            loading: false\n          });\n        });\n      } else if (validate) {\n        this.props.onUpdateDevice(this.state.id, apiData).then(function (message) {\n          notify(\"\", message, \"\");\n\n          if (message == \"No fields updated into table\") {\n            _this3.setState({\n              loading: false\n            });\n          }\n\n          _this3.props.handleClose();\n\n          _this3.props.onFetchDevice();\n        }).catch(function (message) {\n          _this3.setState({\n            msg: message\n          });\n\n          _this3.props.history.push(\"/inventory_system/\".concat(_this3.state.machine_type));\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleAssign\",\n    value: function handleAssign(deviceId, Userid) {\n      this.setState({\n        userId: Userid\n      });\n      this.props.callAssign(deviceId, Userid);\n    }\n  }, {\n    key: \"handleChangeDate\",\n    value: function handleChangeDate(event, date) {\n      this.setState({\n        purchase_date: date\n      });\n    }\n  }, {\n    key: \"handleAddDialog\",\n    value: function handleAddDialog() {\n      this.setState({\n        deviceId: \"\",\n        open: true,\n        status_message: \"\",\n        edit: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var userList = this.props.usersList.users.map(function (val, i) {\n        return React.createElement(\"option\", {\n          key: val.id,\n          id: i,\n          value: val.user_Id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, val.name);\n      });\n      var editData = this.props.manageDevice.editData;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(Menu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"content\",\n        className: \"app-content box-shadow-z0\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(Header, {\n        pageTitle: editData.edit ? \"Edit Inventory\" : \"Add New Inventory\",\n        showLoading: this.props.frontend.show_loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"addinventory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(AlertNotification, {\n        message: this.state.msg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, this.state.warranty ? \"Date Of Purchase\" : \"\", React.createElement(DatePicker, {\n        hintText: \"Date Of Purchase\",\n        onChange: function onChange(e, date) {\n          _this4.setState({\n            purchase_date: date\n          });\n        },\n        value: this.state.purchase_date,\n        required: true,\n        textFieldStyle: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          opacity: \"0.56\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"Date Of Warrenty Expiry\"), \" \", editData.device && editData.device.warranty_end_date ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, editData.device.warranty_end_date) : null), React.createElement(\"select\", {\n        style: {\n          marginTop: \"0%\",\n          opacity: \"0.56\"\n        },\n        value: this.state.warranty_years,\n        ref: \"warranty_period\",\n        onChange: this.warranty_date,\n        className: \"form-control\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"--Select warranty period--\"), React.createElement(\"option\", {\n        value: \"0.5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, \"6 Months\"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, \"1 year\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"2 year\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, \"3 year\"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"5 year\"))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        style: {\n          opacity: \"0.56\",\n          marginTop: \"2%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, \"Machine/Device Type\", React.createElement(\"select\", {\n        className: \"form-control\",\n        ref: \"machine_type\",\n        value: this.state.machine_type,\n        onChange: function onChange(evt) {\n          _this4.setState({\n            machine_type: evt.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, \"--Select Device--\"), this.state.deviceTypeList.map(function (val, i) {\n        return React.createElement(\"option\", {\n          key: i,\n          value: val,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380\n          },\n          __self: this\n        }, \" \", val);\n      }))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        style: {\n          opacity: \"0.56\",\n          marginTop: \"2%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Status\", React.createElement(\"select\", {\n        className: \"form-control\",\n        ref: \"status\",\n        value: this.state.status,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            status: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, \"--Select Status--\"), this.state.deviceStatusList.map(function (val, i) {\n        return React.createElement(\"option\", {\n          key: i,\n          value: val.status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406\n          },\n          __self: this\n        }, \" \", val.status);\n      }))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Machine Name\",\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            machine_name: e.target.value\n          });\n        },\n        onBlur: function onBlur(e) {\n          return _this4.setState({\n            machine_name: _this4.state.machine_name.trim()\n          });\n        },\n        value: this.state.machine_name,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      })), !editData.edit ? React.createElement(\"div\", {\n        className: \"col-md-6\",\n        style: {\n          opacity: \"0.56\",\n          marginTop: \"2%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, \"Assign User\", React.createElement(\"select\", {\n        value: this.state.user_Id,\n        onChange: function onChange(evt) {\n          _this4.setState({\n            user_Id: evt.target.value\n          });\n        },\n        className: \"form-control\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, \"Select User\"), React.createElement(\"option\", {\n        value: \"unassign\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"Unassign Device to any employee\"), userList)) : null, this.state.user_Id == \"unassign\" ? React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Unassign Device comment\",\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            unassign_comment: e.target.value\n          });\n        },\n        onBlur: function onBlur(e) {\n          _this4.setState({\n            unassign_comment: _this4.state.unassign_comment.trim()\n          });\n        },\n        value: this.state.unassign_comment,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      })) : null, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Price\",\n        hintText: \"\\u20B9\",\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            machine_price: e.target.value\n          });\n        },\n        onBlur: function onBlur(e) {\n          _this4.setState({\n            machine_price: _this4.state.machine_price.trim()\n          });\n        },\n        value: this.state.machine_price,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Serial No\",\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            serial_no: e.target.value\n          });\n        },\n        onBlur: function onBlur(e) {\n          _this4.setState({\n            serial_no: _this4.state.serial_no.trim()\n          });\n        },\n        value: this.state.serial_no,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Excellence Serial no \",\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            bill_no: e.target.value\n          });\n        },\n        onBlur: function onBlur(e) {\n          _this4.setState({\n            bill_no: _this4.state.bill_no.trim()\n          });\n        },\n        value: this.state.bill_no,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      })), this.state.loading ? React.createElement(CircularProgress, {\n        size: 30,\n        thickness: 3,\n        style: {\n          marginLeft: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }) : null, this.state.loading == false ? React.createElement(\"button\", {\n        className: \"col-md-12 md-btn md-raised m-b-sm indigo invbtn\",\n        style: {\n          opacity: \"0.76\",\n          marginTop: \"2%\"\n        },\n        onClick: function onClick(e) {\n          return _this4.handleAddDevice(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, editData.edit ? \"Update Inventory\" : \"Add Inventory\") : null)));\n    }\n  }]);\n\n  return FormAddNewInventory;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    usersList: state.usersList.toJS(),\n    manageUsers: state.manageUsers.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    manageDevice: state.manageDevice.toJS()\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIsAlreadyLogin: function onIsAlreadyLogin() {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: function onUsersList() {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onUserProfileDetails: function onUserProfileDetails(userid, username) {\n      return dispatch(actionsManageUsers.getUserProfileDetails(userid, username));\n    },\n    onAddNewMachine: function onAddNewMachine(newMachineDetails) {\n      return dispatch(actionsManageDevice.addNewMachine(newMachineDetails));\n    },\n    onFetchDevice: function onFetchDevice() {\n      return dispatch(actionsManageDevice.get_machines_detail());\n    },\n    onGetDeviceById: function onGetDeviceById(id) {\n      return dispatch(actionsManageDevice.getDeviceById(id));\n    },\n    onUpdateDevice: function onUpdateDevice(id, machineData) {\n      return dispatch(actionsManageDevice.updateDevice(id, machineData));\n    },\n    onFetchDeviceType: function onFetchDeviceType() {\n      return dispatch(actionsManageDevice.getDeviceType());\n    },\n    onFetchDeviceStatus: function onFetchDeviceStatus() {\n      return dispatch(actionsManageDevice.getDeviceStatus());\n    },\n    onShowTab: function onShowTab() {\n      return dispatch(actionsManageDevice.showTab());\n    }\n  };\n};\n\nvar AddInvetorySystem = connect(mapStateToProps, mapDispatchToProps)(FormAddNewInventory);\nvar RouterAddInventorySystem = withRouter(AddInvetorySystem);\nexport default RouterAddInventorySystem;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/inventory/components/AddInventory.jsx"],"names":["React","Dialog","connect","withRouter","Link","DateField","show_loading","hide_loading","notify","TextField","AlertNotification","CircularProgress","DatePicker","UploadImageComp","actionsManageDevice","actions","actionsUsersList","actionsManageUsers","style","Header","Menu","isNotUserValid","moment","require","newdate","selectedOption","purchase","warranty","datef","FormAddNewInventory","props","warranty_date","e","preventDefault","target","value","setState","warranty_years","onIsAlreadyLogin","state","open","edit","id","user","autoOk","machine_type","machine_name","machine_price","serial_no","purchase_date","operating_system","comment","warranty_comment","repair_comment","bill_no","user_Id","msg","deviceTypeList","deviceStatusList","status","loading","unassign_comment","handleChangeDate","bind","handleAddDevice","handleAssign","handleAddDialog","openEditDevice","onUsersList","onFetchDeviceType","onFetchDeviceStatus","onGetDeviceById","then","val","deviceId","status_message","getByIdData","isNotValid","location","pathname","loggedUser","manageDevice","deviceList","statusList","username","manageUsers","user_profile_detail","user_assign_machine","editData","device","date_of_purchase","_d","warranty_end_date","serial_number","comments","bill_number","Date","setMonth","getMonth","setFullYear","getFullYear","dd","getDate","mm","y","someFormattedDate","apiData","trim","resetFields","validate","onAddNewMachine","history","push","onFetchDevice","error","onUpdateDevice","message","handleClose","catch","Userid","userId","callAssign","event","date","userList","usersList","users","map","i","name","frontend","width","opacity","marginTop","evt","marginLeft","Component","mapStateToProps","toJS","logged_user","userLogin","mapDispatchToProps","dispatch","isAlreadyLogin","get_users_list","onUserProfileDetails","userid","getUserProfileDetails","newMachineDetails","addNewMachine","get_machines_detail","getDeviceById","machineData","updateDevice","getDeviceType","getDeviceStatus","onShowTab","showTab","AddInvetorySystem","RouterAddInventorySystem"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import \"react-date-picker/index.css\";\nimport Dialog from \"material-ui/Dialog\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router\";\nimport { DateField } from \"react-date-picker\";\nimport { show_loading, hide_loading } from \"../../../redux/generic/actions/frontend\";\nimport { notify } from \"../../../services/notify\";\nimport TextField from \"material-ui/TextField\";\nimport AlertNotification from \"../../../components/generic/AlertNotification\";\nimport CircularProgress from \"material-ui/CircularProgress\";\nimport DatePicker from \"material-ui/DatePicker\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport * as actionsManageDevice from \"../../../redux/inventory/actions/inventory\";\nimport * as actions from '../../../redux/actions';\nimport * as actionsUsersList from \"../../../redux/generic/actions/usersList\";\nimport * as actionsManageUsers from \"../../../redux/manageUsers/actions/manageUsers\";\nimport style from \"../../../styles/inventory/viewUser.scss\";\nimport Header from \"../../../components/generic/Header\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\nvar moment = require(\"moment\");\nlet newdate;\nlet selectedOption;\nlet purchase;\nlet warranty;\nlet datef;\n\nclass FormAddNewInventory extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      open: false,\n      edit: false,\n      id: \"\",\n      user: \"\",\n      autoOk: true,\n      machine_type: \"\",\n      machine_name: \"\",\n      machine_price: \"\",\n      serial_no: \"\",\n      purchase_date: \"\",\n      operating_system: \"\",\n      comment: \"\",\n      warranty_comment: \"\",\n      repair_comment: \"\",\n      bill_no: \"\",\n      warranty: \"\",\n      user_Id: \"unassign\",\n      msg: \"\",\n      deviceTypeList: [],\n      deviceStatusList: [],\n      status: \"\",\n      loading: false,\n      unassign_comment: \"\",\n      warranty_years: \"\"\n    };\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleAddDevice = this.handleAddDevice.bind(this);\n    this.handleAssign = this.handleAssign.bind(this);\n    this.handleAddDialog = this.handleAddDialog.bind(this);\n    this.openEditDevice = this.openEditDevice.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.onUsersList();\n    this.props.onFetchDeviceType();\n    this.props.onFetchDeviceStatus();\n  }\n  openEditDevice(id) {\n    this.props.onGetDeviceById(id).then(val => {\n      this.setState({\n        edit: true,\n        open: true,\n        deviceId: id,\n        status_message: \"\",\n        getByIdData: val\n      });\n    });\n  }\n  componentWillReceiveProps(props) {\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    this.setState({\n      open: props.open,\n      edit: props.edit,\n      deviceTypeList: props.manageDevice.deviceList,\n      deviceStatusList: props.manageDevice.statusList,\n      username: props.manageUsers.username,\n      user_profile_detail: props.manageUsers.user_profile_detail,\n      user_assign_machine: props.manageUsers.user_assign_machine\n    });\n    // <CircularProgress />;\n\n    if (props.manageDevice.editData.edit) {\n      purchase = moment(props.manageDevice.editData.device.date_of_purchase)._d;\n      warranty = moment(props.manageDevice.editData.device.warranty_end_date)\n        ._d;\n\n      // var a = moment(props.manageDevice.editData.device.warranty_end_date);\n      // var b = moment(props.manageDevice.editData.device.date_of_purchase);\n      // var diffDuration = moment.duration(a.diff(b));\n      // let year=diffDuration.years();\n      // let month=diffDuration.months();\n      // let day=diffDuration.days();\n      // if(year>0 && month==0 && day==0){\n      //   this.setState({\n      //     warranty_years:year\n      //   })\n      // }\n      // else if(year<0 && month==6 && day==0){\n      //   this.setState({\n      //     warranty_years:month\n      //   })\n      // }\n      // else{\n      //   this.setState({\n      //     warranty_years:''\n      //   })\n      // }\n      this.setState({\n        id: props.manageDevice.editData.device.id,\n        machine_type: props.manageDevice.editData.device.machine_type,\n        machine_name: props.manageDevice.editData.device.machine_name,\n        machine_price: props.manageDevice.editData.device.machine_price,\n        serial_no: props.manageDevice.editData.device.serial_number,\n        purchase_date: purchase,\n        operating_system: props.manageDevice.editData.device.operating_system,\n        status: props.manageDevice.editData.device.status,\n        comment: props.manageDevice.editData.device.comments,\n        warranty_comment: props.manageDevice.editData.device.warranty_comment,\n        repair_comment: props.manageDevice.editData.device.repair_comment,\n        bill_no: props.manageDevice.editData.device.bill_number,\n        warranty: warranty,\n        user_Id: props.manageDevice.editData.device.user_Id,\n        unassign_comment: props.manageDevice.editData.device.unassign_comment,\n        warranty_years: props.manageDevice.editData.device.warranty_years\n      });\n      if (\n        this.props.manageDevice.status_message ===\n        \"Successfully Updated into table\"\n      ) {\n        this.props.manageDevice.status_message = \"\";\n      }\n    } else if (\n      this.props.manageDevice.status_message ==\n      \"Inventory added successfully and need to be approved by admin!!\"\n    ) {\n      this.setState({\n        id: \"\",\n        machine_type: \"\",\n        machine_name: \"\",\n        machine_price: \"\",\n        serial_no: \"\",\n        purchase_date: \"\",\n        operating_system: \"\",\n        status: \"\",\n        comment: \"\",\n        warranty_comment: \"\",\n        repair_comment: \"\",\n        bill_no: \"\",\n        warranty: \"\",\n        user_Id: \"\",\n        loading: false,\n        unassign_comment: \"\",\n        warranty_years: \"\"\n      });\n      this.props.manageDevice.status_message = \"\";\n    }\n  }\n  handleAddDevice() {\n    newdate = new Date(this.state.purchase_date);\n    if (selectedOption == 0.5) {\n      newdate.setMonth(newdate.getMonth() + 6);\n    } else if (selectedOption == 1) {\n      newdate.setFullYear(newdate.getFullYear() + 1);\n    } else if (selectedOption == 2) {\n      newdate.setFullYear(newdate.getFullYear() + 2);\n    } else if (selectedOption == 3) {\n      newdate.setFullYear(newdate.getFullYear() + 3);\n    } else if (selectedOption == 5) {\n      newdate.setFullYear(newdate.getFullYear() + 5);\n    }\n    var dd = newdate.getDate();\n    var mm = newdate.getMonth() + 1;\n    var y = newdate.getFullYear();\n    var someFormattedDate = y + \"-\" + mm + \"-\" + dd;\n\n    let apiData = {\n      machine_type: this.state.machine_type,\n      machine_name: this.state.machine_name.trim(),\n      machine_price: this.state.machine_price.trim(),\n      serial_no: this.state.serial_no.trim(),\n      purchase_date: this.state.purchase_date,\n      operating_system: this.state.operating_system,\n      status: this.state.status,\n      comment: this.state.comment.trim(),\n      warranty_comment: this.state.warranty_comment.trim(),\n      repair_comment: this.state.repair_comment.trim(),\n      bill_no: this.state.bill_no.trim(),\n      warranty: someFormattedDate,\n      user_Id: this.state.user_Id,\n      unassign_comment: this.state.unassign_comment,\n      warranty_years: this.state.warranty_years\n    };\n    let resetFields = {\n      machine_type: \"\",\n      machine_name: \"\",\n      machine_price: \"\",\n      serial_no: \"\",\n      purchase_date: \"\",\n      operating_system: \"\",\n      comment: \"\",\n      warranty_comment: \"\",\n      repair_comment: \"\",\n      bill_no: \"\",\n      warranty: \"\",\n      user_Id: \"\",\n      unassign_comment: \"\",\n      warranty_years: \"\"\n    };\n    let validate = true;\n    this.setState({\n      loading: true\n    });\n    if (validate && !this.props.manageDevice.editData.edit) {\n      this.props.onAddNewMachine(apiData).then(\n        val => {\n          notify(\"Success !\", val, \"success\");\n          this.props.history.push(\n            `/inventory_system/${this.state.machine_type}`\n          );\n          this.props.onFetchDevice();\n        },\n        error => {\n          notify(\"Error !\", error, \"error\");\n          this.setState({\n            loading: false\n          });\n        }\n      );\n    } else if (validate) {\n      this.props\n        .onUpdateDevice(this.state.id, apiData)\n        .then(message => {\n          notify(\"\", message, \"\");\n          if (message == \"No fields updated into table\") {\n            this.setState({\n              loading: false\n            });\n          }\n          this.props.handleClose();\n          this.props.onFetchDevice();\n        })\n        .catch(message => {\n          this.setState({\n            msg: message\n          });\n          this.props.history.push(\n            `/inventory_system/${this.state.machine_type}`\n          );\n        });\n    }\n    return false;\n  }\n  handleAssign(deviceId, Userid) {\n    this.setState({ userId: Userid });\n    this.props.callAssign(deviceId, Userid);\n  }\n\n  handleChangeDate(event, date) {\n    this.setState({\n      purchase_date: date\n    });\n  }\n  handleAddDialog() {\n    this.setState({\n      deviceId: \"\",\n      open: true,\n      status_message: \"\",\n      edit: false\n    });\n  }\n  warranty_date = e => {\n    e.preventDefault();\n    selectedOption = e.target.value;\n    this.setState({\n      warranty_years: e.target.value\n    });\n  };\n\n  render() {\n    let userList = this.props.usersList.users.map((val, i) => {\n      return (\n        <option key={val.id} id={i} value={val.user_Id}>\n          {val.name}\n        </option>\n      );\n    });\n    let editData = this.props.manageDevice.editData;\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header\n            pageTitle={\n              editData.edit\n                ? \"Edit Inventory\"\n                : \"Add New Inventory\"\n            }\n            showLoading={this.props.frontend.show_loading}\n          />\n          <div className=\"addinventory\">\n            <AlertNotification message={this.state.msg} />\n            <div>\n              {/* <button style={{display:'inline-block',float:'left',marginRight:'2%'}} className=\"md-btn md-raised m-b-sm indigo\">Approved Inventory</button>\n          <button style={{display:'inline-block',float:'left',marginRight:'2%'}} className=\"md-btn md-raised m-b-sm indigo\">Unapproved Inventory</button> */}\n              {/* <button style={{float:'right',marginRight:'25px'}} className=\"md-btn md-raised m-b-sm indigo\"\n            onTouchTap={this.handleOpen}>Add New Inventory </button> */}\n            </div>\n            <div className=\"col-md-6\">\n              {this.state.warranty ? \"Date Of Purchase\" : \"\"}\n              <DatePicker\n                hintText=\"Date Of Purchase\"\n                onChange={(e, date) => {\n                  this.setState({ purchase_date: date });\n                }}\n                value={this.state.purchase_date}\n                required\n                textFieldStyle={{ width: \"100%\" }}\n              />\n            </div>\n\n            <div className=\"col-md-6\">\n              <div className=\"col-md-6\">\n                <p style={{ opacity: \"0.56\" }}>Date Of Warrenty Expiry</p>{\" \"}\n                {editData.device && editData.device.warranty_end_date ? (\n                  <p>\n                    {editData.device.warranty_end_date}\n                  </p>\n                ) : null}\n              </div>\n              <select\n                style={{ marginTop: \"0%\", opacity: \"0.56\" }}\n                value={this.state.warranty_years}\n                ref=\"warranty_period\"\n                onChange={this.warranty_date}\n                className=\"form-control\"\n                required\n              >\n                <option value=\"\" disabled>\n                  --Select warranty period--\n                </option>\n                <option value=\"0.5\">6 Months</option>\n                <option value=\"1\">1 year</option>\n                <option value=\"2\">2 year</option>\n                <option value=\"3\">3 year</option>\n                <option value=\"5\">5 year</option>\n              </select>\n            </div>\n\n            <div\n              className=\"col-md-6\"\n              style={{ opacity: \"0.56\", marginTop: \"2%\" }}\n            >\n              {\"Machine/Device Type\"}\n              <select\n                className=\"form-control\"\n                ref=\"machine_type\"\n                value={this.state.machine_type}\n                onChange={evt => {\n                  this.setState({ machine_type: evt.target.value });\n                }}\n              >\n                <option value=\"\" disabled>\n                  --Select Device--\n                </option>\n                {this.state.deviceTypeList.map((val, i) => {\n                  return (\n                    <option key={i} value={val}>\n                      {\" \"}\n                      {val}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n\n            <div\n              className=\"col-md-6\"\n              style={{ opacity: \"0.56\", marginTop: \"2%\" }}\n            >\n              {\"Status\"}\n              <select\n                className=\"form-control\"\n                ref=\"status\"\n                value={this.state.status}\n                onChange={e => this.setState({ status: e.target.value })}\n                required\n              >\n                <option value=\"\" disabled>\n                  --Select Status--\n                </option>\n                {this.state.deviceStatusList.map((val, i) => {\n                  return (\n                    <option key={i} value={val.status}>\n                      {\" \"}\n                      {val.status}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n            <div className=\"col-md-6\">\n              <TextField\n                floatingLabelText=\"Machine Name\"\n                fullWidth\n                onChange={e => this.setState({ machine_name: e.target.value })}\n                onBlur={e =>\n                  this.setState({\n                    machine_name: this.state.machine_name.trim()\n                  })\n                }\n                value={this.state.machine_name}\n                required\n              />\n            </div>\n\n            {!editData.edit ? (\n              <div\n                className=\"col-md-6\"\n                style={{ opacity: \"0.56\", marginTop: \"2%\" }}\n              >\n                {\"Assign User\"}\n                <select\n                  value={this.state.user_Id}\n                  onChange={evt => {\n                    this.setState({ user_Id: evt.target.value });\n                  }}\n                  className=\"form-control\"\n                  required\n                >\n                  <option value=\"\">Select User</option>\n                  <option value=\"unassign\">\n                    Unassign Device to any employee\n                  </option>\n                  {userList}\n                </select>\n              </div>\n            ) : null}\n            {this.state.user_Id == \"unassign\" ? (\n              <div className=\"col-md-6\">\n                <TextField\n                  floatingLabelText=\"Unassign Device comment\"\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ unassign_comment: e.target.value })\n                  }\n                  onBlur={e => {\n                    this.setState({\n                      unassign_comment: this.state.unassign_comment.trim()\n                    });\n                  }}\n                  value={this.state.unassign_comment}\n                  required\n                />\n              </div>\n            ) : null}\n            <div className=\"col-md-6\">\n              <TextField\n                floatingLabelText=\"Price\"\n                hintText=\"₹\"\n                fullWidth\n                onChange={e => this.setState({ machine_price: e.target.value })}\n                onBlur={e => {\n                  this.setState({\n                    machine_price: this.state.machine_price.trim()\n                  });\n                }}\n                value={this.state.machine_price}\n                required\n              />\n            </div>\n\n            <div className=\"col-md-6\">\n              <TextField\n                floatingLabelText=\"Serial No\"\n                fullWidth\n                onChange={e => this.setState({ serial_no: e.target.value })}\n                onBlur={e => {\n                  this.setState({ serial_no: this.state.serial_no.trim() });\n                }}\n                value={this.state.serial_no}\n              />\n            </div>\n            <div className=\"col-md-6\">\n              <TextField\n                floatingLabelText=\"Excellence Serial no \"\n                fullWidth\n                onChange={e => this.setState({ bill_no: e.target.value })}\n                onBlur={e => {\n                  this.setState({ bill_no: this.state.bill_no.trim() });\n                }}\n                value={this.state.bill_no}\n              />\n            </div>\n\n            {this.state.loading ? (\n              <CircularProgress\n                size={30}\n                thickness={3}\n                style={{ marginLeft: \"50%\" }}\n              />\n            ) : null}\n            {this.state.loading == false ? (\n              <button\n                className=\"col-md-12 md-btn md-raised m-b-sm indigo invbtn\"\n                style={{ opacity: \"0.76\", marginTop: \"2%\" }}\n                onClick={e => this.handleAddDevice(e)}\n              >\n                {editData.edit\n                  ? \"Update Inventory\"\n                  : \"Add Inventory\"}\n              </button>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    usersList: state.usersList.toJS(),\n    manageUsers: state.manageUsers.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    manageDevice: state.manageDevice.toJS()\n  };\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: () => {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onUserProfileDetails: (userid, username) => {\n      return dispatch(\n        actionsManageUsers.getUserProfileDetails(userid, username)\n      );\n    },\n    onAddNewMachine: newMachineDetails => {\n      return dispatch(actionsManageDevice.addNewMachine(newMachineDetails));\n    },\n    onFetchDevice: () => {\n      return dispatch(actionsManageDevice.get_machines_detail());\n    },\n    onGetDeviceById: id => {\n      return dispatch(actionsManageDevice.getDeviceById(id));\n    },\n    onUpdateDevice: (id, machineData) => {\n      return dispatch(actionsManageDevice.updateDevice(id, machineData));\n    },\n    onFetchDeviceType: () => {\n      return dispatch(actionsManageDevice.getDeviceType());\n    },\n    onFetchDeviceStatus: () => {\n      return dispatch(actionsManageDevice.getDeviceStatus());\n    },\n    onShowTab: () => {\n      return dispatch(actionsManageDevice.showTab());\n    }\n  };\n};\n\nconst AddInvetorySystem = connect(mapStateToProps, mapDispatchToProps)(\n  FormAddNewInventory\n);\n\nconst RouterAddInventorySystem = withRouter(AddInvetorySystem);\n\nexport default RouterAddInventorySystem;\n"]},"metadata":{},"sourceType":"module"}