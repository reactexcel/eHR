{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/leave/components/myLeaves/UserLeavesList.jsx\";\nimport React from 'react';\nimport * as _ from 'lodash';\nimport Dialog from 'material-ui/Dialog';\nimport { notify } from '../../../../services/notify';\nimport { getToken } from '../../../../services/generic';\nimport { CONFIG } from '../../../../config/index';\nimport MyLeavesList from '../../../../components/leave/myLeaves/MyLeavesList';\n\nvar UserLeavesList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserLeavesList, _React$Component);\n\n  function UserLeavesList(props) {\n    var _this;\n\n    _classCallCheck(this, UserLeavesList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserLeavesList).call(this, props));\n    _this.state = {\n      open: false,\n      id: '',\n      user_token: ''\n    };\n    _this.cancelLeave = _this.cancelLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOpen = _this.handleOpen.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.callUpdateDocuments = _this.callUpdateDocuments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserLeavesList, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        user_token: getToken()\n      });\n    }\n  }, {\n    key: \"cancelLeave\",\n    value: function cancelLeave(userId, from_date) {\n      this.props.onCancelLeave(userId, from_date).then(function (data) {\n        notify(data);\n      }).catch(function (err) {\n        notify(err);\n      });\n    }\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen(id) {\n      this.setState({\n        open: true,\n        id: id\n      });\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"callUpdateDocuments\",\n    value: function callUpdateDocuments(e) {\n      var docProof = this.refs.file.value;\n      var stop = false;\n\n      if (docProof === '') {\n        stop = true;\n        notify('Please select a file');\n      }\n\n      if (stop) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var page_url = window.location.href;\n\n      var leavesList = _.map(this.props.userLeaves.leaves, function (leave, key) {\n        return React.createElement(MyLeavesList, {\n          key: key,\n          leave: leave,\n          handleOpen: _this2.handleOpen,\n          cancelLeave: _this2.cancelLeave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      }); // className=\"dialog-content\"\n\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        title: \"Upload Leave Document\",\n        modal: false,\n        open: this.state.open,\n        onRequestClose: this.handleClose,\n        contentClassName: \"dialog-content\",\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: CONFIG.upload_leave_url,\n        method: \"POST\",\n        encType: \"multipart/form-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"token\",\n        value: this.state.user_token,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"leaveid\",\n        value: this.state.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"page_url\",\n        value: page_url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Attachment\"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        ref: \"file\",\n        name: \"docProof\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        name: \"submit\",\n        value: \"Upload\",\n        className: \"col-xs-12 md-btn md-raised indigo\",\n        onClick: function onClick(e) {\n          _this2.callUpdateDocuments(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"normal-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Leaves\")), React.createElement(\"div\", {\n        className: \"row-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, leavesList)));\n    }\n  }]);\n\n  return UserLeavesList;\n}(React.Component);\n\nexport default UserLeavesList;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/leave/components/myLeaves/UserLeavesList.jsx"],"names":["React","_","Dialog","notify","getToken","CONFIG","MyLeavesList","UserLeavesList","props","state","open","id","user_token","cancelLeave","bind","handleOpen","handleClose","callUpdateDocuments","setState","userId","from_date","onCancelLeave","then","data","catch","err","e","docProof","refs","file","value","stop","preventDefault","page_url","window","location","href","leavesList","map","userLeaves","leaves","leave","key","upload_leave_url","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as _ from 'lodash';\nimport Dialog from 'material-ui/Dialog';\nimport {notify} from '../../../../services/notify';\nimport {getToken} from '../../../../services/generic';\nimport {CONFIG} from '../../../../config/index';\nimport MyLeavesList from '../../../../components/leave/myLeaves/MyLeavesList';\n\nclass UserLeavesList extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      open:       false,\n      id:         '',\n      user_token: ''\n    };\n    this.cancelLeave = this.cancelLeave.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({user_token: getToken()});\n    \n  }\n\n  cancelLeave (userId, from_date) {\n    this.props.onCancelLeave(userId, from_date).then((data) => {\n      notify(data);\n    }).catch((err) => {\n      notify(err);\n    });\n  }\n\n  handleOpen (id) {\n    this.setState({open: true, id: id});\n  }\n  handleClose () {\n    this.setState({open: false});\n  }\n\n  callUpdateDocuments (e) {\n    let docProof = this.refs.file.value;\n    let stop = false;\n    if (docProof === '') {\n      stop = true;\n      notify('Please select a file');\n    }\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n\n  render () {\n    let page_url = window.location.href;\n    \n    let leavesList = _.map(this.props.userLeaves.leaves, (leave, key) => {\n      return <MyLeavesList key={key} leave={leave} handleOpen={this.handleOpen} cancelLeave={this.cancelLeave} />;\n    });\n    // className=\"dialog-content\"\n    return (\n      <div className=\"row\">\n        <Dialog title=\"Upload Leave Document\"\n          modal={false}\n          open={this.state.open}\n          onRequestClose={this.handleClose}\n          contentClassName=\"dialog-content\" \n          autoScrollBodyContent>\n          \n          <div>\n            <form action={CONFIG.upload_leave_url} method=\"POST\" encType=\"multipart/form-data\">\n              <input type=\"hidden\" name=\"token\" value={this.state.user_token} />\n              <input type=\"hidden\" name=\"leaveid\" value={this.state.id} />\n              <input type=\"hidden\" name=\"page_url\" value={page_url} />\n              <div className=\"form-group\">\n                <label>Attachment</label>\n                <input type=\"file\" className=\"form-control\" ref=\"file\" name=\"docProof\" />\n              </div>\n              <div className=\"form-group\">\n                <input type=\"submit\" name=\"submit\" value=\"Upload\" className=\"col-xs-12 md-btn md-raised indigo\" onClick={(e) => {\n                  this.callUpdateDocuments(e);\n                }} />\n              </div>\n            </form>\n          </div>\n        </Dialog>\n        <div className=\"normal-text\"><b>Leaves</b></div>\n        <div className=\"row-col\">\n          <div className=\"list white\">\n            {leavesList}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserLeavesList;\n"]},"metadata":{},"sourceType":"module"}