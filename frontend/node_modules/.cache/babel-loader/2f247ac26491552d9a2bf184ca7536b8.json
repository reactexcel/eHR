{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/workingHours/components/UserPendingHoursList.jsx\";\nimport React from 'react';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { CONFIG } from '../../../config/index';\nimport { notify } from '../../../services/notify';\nimport PendingHourSummary from './PendingHourSummary';\nimport AddUserPendingHour from './AddUserPendingHour';\nimport AddAsLeaveHour from './AddAsLeaveHour';\nimport AddAsHalfDayLeave from './AddAsHalfDayLeave';\n\nvar UserPendingHoursList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserPendingHoursList, _React$Component);\n\n  function UserPendingHoursList(props) {\n    var _this;\n\n    _classCallCheck(this, UserPendingHoursList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserPendingHoursList).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      pendingTimeList: {},\n      usersList: [],\n      openMerge: false,\n      openLeave: false\n    };\n    _this.callAddUserPendingHours = _this.callAddUserPendingHours.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCloseMerge = _this.handleCloseMerge.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handOpenMerge = _this.handleOpenMerge.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handOpenLeave = _this.handleOpenLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCloseLeave = _this.handleCloseLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserPendingHoursList, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        pendingTimeList: this.props.manageUserPendingHours,\n        usersList: this.props.manageUserPendingHours.displayData.user_list\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (!props.loggedUser.isLoggedIn) {\n        this.props.history.push('/logout');\n      } else {\n        if (props.loggedUser.data.role === CONFIG.ADMIN) {} else {\n          this.props.history.push('/home');\n        }\n      }\n\n      this.setState({\n        pendingTimeList: props.manageUserPendingHours,\n        usersList: props.manageUserPendingHours.displayData.user_list\n      });\n    }\n  }, {\n    key: \"callAddUserPendingHours\",\n    value: function callAddUserPendingHours(userId, pendingHour, date, reason, empId, year, month) {\n      var _this2 = this;\n\n      this.props.onAddUserPendingHours(userId, pendingHour, date, reason, empId, year, month).then(function (message) {\n        _this2.setState({\n          reason: ''\n        }); // notify('Success !', message, 'success');\n\n\n        _this2.handleCloseMerge();\n      }, function (error) {\n        notify('Error !', error, 'error');\n      });\n    }\n  }, {\n    key: \"handleOpenMerge\",\n    value: function handleOpenMerge() {\n      this.setState({\n        openMerge: true\n      });\n    }\n  }, {\n    key: \"handleCloseMerge\",\n    value: function handleCloseMerge() {\n      this.setState({\n        openMerge: false,\n        reason: ''\n      });\n    }\n  }, {\n    key: \"handleOpenLeave\",\n    value: function handleOpenLeave() {\n      this.setState({\n        openLeave: true\n      });\n    }\n  }, {\n    key: \"handleCloseLeave\",\n    value: function handleCloseLeave() {\n      this.setState({\n        openMerge: false,\n        reason: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // Map UserPendingDetails -->\n      var pendingList = this.state.usersList || [];\n      var pendingTimeMap = pendingList.map(function (val, i) {\n        var addButton = React.createElement(AddUserPendingHour, Object.assign({\n          val: val,\n          handleCloseMerge: _this3.handleCloseMerge,\n          handleOpenMerge: _this3.props.handleOpenMerge,\n          callAddUserPendingHours: _this3.callAddUserPendingHours\n        }, _this3.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }));\n        var HalfdayButton = React.createElement(AddAsHalfDayLeave, Object.assign({\n          val: val\n        }, _this3.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        })); // <br />;\n\n        var leaveButton = React.createElement(AddAsLeaveHour, Object.assign({\n          val: val\n        }, _this3.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        })); // Map pendingMessage -->\n\n        var pendingMessage = val.time_detail.t_detail;\n        var pendingMsgMap = pendingMessage.map(function (msg, i) {\n          return React.createElement(\"ul\", {\n            style: {\n              padding: '0 0 0 17px',\n              marginTop: '10px'\n            },\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            style: {\n              aling: 'center',\n              fontSize: '11px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, msg.message, \" \"));\n        });\n        return React.createElement(\"tr\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"p-r-xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, i + 1), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, val.name), val.pending_hour >= 9 ? React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(\"mark\", {\n          style: {\n            color: '#ffffff',\n            aling: 'center',\n            backgroundColor: '#ff0000'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, val.pending_hour, \" \", 'hr', \" \", val.pending_minute, \" \", 'min'), pendingMsgMap) : React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"mark\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \" \", val.pending_hour, \" \", 'hr', \" \", val.pending_minute, \" \", 'min', \" \"), pendingMsgMap), val.status ? React.createElement(\"td\", {\n          className: \"max-w-200\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, 'Updated On : ', val.date, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }), val.status) : React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"mark\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, 'Pending')), val.status_merged === '0' ? React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, addButton, \" \", HalfdayButton, \" \", leaveButton) : React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \" \", React.createElement(\"mark\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, 'No Action Required', \" \")));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-body\",\n        id: \"view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(PendingHourSummary, Object.assign({\n        callFetchPendingTime: this.callFetchPendingUserList,\n        manageUserPendingHours: this.props.manageUserPendingHours,\n        onUserPendingHoursData: this.props.onUserPendingHoursData\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-12 b-r box table-responsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-a block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, pendingTimeMap.length > 0 ? React.createElement(\"table\", {\n        key: \"\",\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"p-r-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, 'Sr.'), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"User Name\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Pending Time\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, pendingTimeMap)) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, 'Not Updated !'))))))));\n    }\n  }]);\n\n  return UserPendingHoursList;\n}(React.Component);\n\nexport { UserPendingHoursList as default };","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/workingHours/components/UserPendingHoursList.jsx"],"names":["React","_","PropTypes","CONFIG","notify","PendingHourSummary","AddUserPendingHour","AddAsLeaveHour","AddAsHalfDayLeave","UserPendingHoursList","props","onIsAlreadyLogin","state","pendingTimeList","usersList","openMerge","openLeave","callAddUserPendingHours","bind","handleCloseMerge","handOpenMerge","handleOpenMerge","handOpenLeave","handleOpenLeave","handleCloseLeave","setState","manageUserPendingHours","displayData","user_list","loggedUser","isLoggedIn","history","push","data","role","ADMIN","userId","pendingHour","date","reason","empId","year","month","onAddUserPendingHours","then","message","error","pendingList","pendingTimeMap","map","val","i","addButton","HalfdayButton","leaveButton","pendingMessage","time_detail","t_detail","pendingMsgMap","msg","padding","marginTop","aling","fontSize","name","pending_hour","color","backgroundColor","pending_minute","status","status_merged","callFetchPendingUserList","onUserPendingHoursData","length","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport {CONFIG} from '../../../config/index';\nimport {notify} from '../../../services/notify';\nimport PendingHourSummary from './PendingHourSummary';\nimport AddUserPendingHour from './AddUserPendingHour';\nimport AddAsLeaveHour from './AddAsLeaveHour';\nimport AddAsHalfDayLeave from './AddAsHalfDayLeave';\n\nexport default class UserPendingHoursList extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      pendingTimeList: {},\n      usersList:       [],\n      openMerge:       false,\n      openLeave:       false\n    };\n    this.callAddUserPendingHours = this.callAddUserPendingHours.bind(this);\n    this.handleCloseMerge = this.handleCloseMerge.bind(this);\n    this.handOpenMerge = this.handleOpenMerge.bind(this);\n    this.handOpenLeave = this.handleOpenLeave.bind(this);\n    this.handleCloseLeave = this.handleCloseLeave.bind(this);\n  }\n\n  componentWillMount () {\n    this.setState({\n      pendingTimeList: this.props.manageUserPendingHours,\n      usersList:       this.props.manageUserPendingHours.displayData.user_list\n    });\n  }\n\n  componentWillReceiveProps (props) {\n    if (!props.loggedUser.isLoggedIn) {\n      this.props.history.push('/logout');\n    } else {\n      if (props.loggedUser.data.role === CONFIG.ADMIN) {\n      } else {\n        this.props.history.push('/home');\n      }\n    }\n\n    this.setState({\n      pendingTimeList: props.manageUserPendingHours,\n      usersList:       props.manageUserPendingHours.displayData.user_list\n    });\n  }\n\n  callAddUserPendingHours (userId, pendingHour, date, reason, empId, year, month) {\n    this.props.onAddUserPendingHours(userId, pendingHour, date, reason, empId, year, month).then((message) => {\n      this.setState({\n        reason: ''\n      });\n      // notify('Success !', message, 'success');\n      this.handleCloseMerge();\n    }, (error) => {\n      notify('Error !', error, 'error');\n    });\n  }\n  handleOpenMerge () {\n    this.setState({\n      openMerge: true\n    });\n  }\n  handleCloseMerge () {\n    this.setState({\n      openMerge: false,\n      reason:    ''\n    });\n  }\n\n  handleOpenLeave () {\n    this.setState({\n      openLeave: true\n    });\n  }\n  handleCloseLeave () {\n    this.setState({\n      openMerge: false,\n      reason:    ''\n    });\n  }\n\n  render () {\n  // Map UserPendingDetails -->\n    var pendingList = this.state.usersList || [];\n    let pendingTimeMap = pendingList.map((val, i) => {\n      let addButton = <AddUserPendingHour val={val}\n        handleCloseMerge={this.handleCloseMerge}\n        handleOpenMerge={this.props.handleOpenMerge}\n        callAddUserPendingHours={this.callAddUserPendingHours}\n        {...this.props} />;\n      let HalfdayButton = <AddAsHalfDayLeave val={val} {...this.props} />;\n      // <br />;\n      let leaveButton = <AddAsLeaveHour val={val}\n        {...this.props} />;\n\n      // Map pendingMessage -->\n      let pendingMessage = val.time_detail.t_detail;\n      let pendingMsgMap = pendingMessage.map((msg, i) => {\n        return (\n          <ul style={{padding: '0 0 0 17px', marginTop: '10px'}} key={i}>\n            <li style={{aling: 'center', fontSize: '11px'}}>{msg.message} </li>\n          </ul>\n        );\n      });\n\n      return (\n        <tr key={i}>\n          <td className=\"p-r-xs\">{i + 1}</td>\n          <td>{val.name}</td>\n          {val.pending_hour >= 9\n            ? <td><mark style={{color: '#ffffff', aling: 'center', backgroundColor: '#ff0000'}}>\n            {val.pending_hour} {'hr'} {val.pending_minute} {'min'}</mark>\n          {pendingMsgMap}\n            </td>\n            : <td><mark> {val.pending_hour} {'hr'} {val.pending_minute} {'min'} </mark>\n          {pendingMsgMap}\n            </td>\n          }\n\n          {val.status\n            ? <td className=\"max-w-200\">\n            {'Updated On : '}{val.date}\n              <br />\n              {val.status}\n\n            </td>\n            : <td><mark>{'Pending'}</mark></td>\n        }\n        {val.status_merged === '0'\n          ? <td>{addButton} {HalfdayButton} {leaveButton}</td>\n          : <td> <mark>{'No Action Required'} </mark></td>\n      }\n        </tr>\n      );\n    });\n\n    return (\n      <div>\n        <div className=\"app-body\" id=\"view\">\n          <div className=\"padding\">\n            <div className=\"row\">\n              <PendingHourSummary\n                callFetchPendingTime={this.callFetchPendingUserList}\n                manageUserPendingHours={this.props.manageUserPendingHours}\n                onUserPendingHoursData={this.props.onUserPendingHoursData}\n                {...this.props} />\n\n              <div className=\"col-md-12 b-r box table-responsive\">\n                <div className=\"p-a block\">\n                    {\n                      pendingTimeMap.length > 0\n                      ? <table key='' className=\"table table-striped\">\n                        <thead className=\"active\">\n                          <tr>\n                            <th className=\"p-r-xs\">{'Sr.'}</th>\n                            <th>User Name</th>\n                            <th className=\"text-center\">Pending Time</th>\n                            <th >Status</th>\n                            <th>Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {pendingTimeMap}\n                        </tbody>\n                      </table>\n                      : <div>\n                        <h5 className=\"text-center\">\n                          {'Not Updated !'}\n                        </h5>\n                      </div>\n                    }\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  }\n"]},"metadata":{},"sourceType":"module"}