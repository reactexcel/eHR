{"ast":null,"code":"import { createAction } from 'redux-actions';\nimport * as _ from 'lodash';\nimport { CONFIG } from '../../../config/index';\nimport { fireAjax } from '../../../services/index';\nimport { show_loading, hide_loading } from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\nexport function success_leaves_summary(data) {\n  return createAction(constants.ACTION_SUCCESS_LEAVES_SUMMARY)(data);\n}\nexport function empty_leaves_summary(data) {\n  return createAction(constants.ACTION_EMPTY_LEAVES_SUMMARY)(data);\n}\nexport function error_leaves_summary(data) {\n  return createAction(constants.ACTION_ERROR_LEAVES_SUMMARY)(data);\n}\n\nfunction async_get_all_leaves_summary(year, month) {\n  return fireAjax('POST', '', {\n    action: 'get_all_leaves_summary',\n    year: year,\n    month: month\n  });\n}\n\nexport function get_all_leaves_summary(year, month) {\n  //  console.log(userid, year, month);\n  return function (dispatch, getState) {\n    return new Promise(function (resolve, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_get_all_leaves_summary(year, month).then(function (json) {\n        resolve(json); // console.log(json);\n\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error == 0) {\n          dispatch(success_leaves_summary(json.data));\n        } else {\n          dispatch(empty_leaves_summary({}));\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        dispatch(error_leaves_summary({}));\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/redux/leave/actions/leavesSummary.js"],"names":["createAction","_","CONFIG","fireAjax","show_loading","hide_loading","constants","success_leaves_summary","data","ACTION_SUCCESS_LEAVES_SUMMARY","empty_leaves_summary","ACTION_EMPTY_LEAVES_SUMMARY","error_leaves_summary","ACTION_ERROR_LEAVES_SUMMARY","async_get_all_leaves_summary","year","month","action","get_all_leaves_summary","dispatch","getState","Promise","resolve","reject","then","json","error"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,eAA3B;AACA,OAAO,KAAKC,CAAZ,MAAmB,QAAnB;AACA,SAAQC,MAAR,QAAqB,uBAArB;AACA,SAAQC,QAAR,QAAuB,yBAAvB;AACA,SAAQC,YAAR,EAAsBC,YAAtB,QAAyC,yCAAzC;AACA,OAAO,KAAKC,SAAZ,MAA2B,0BAA3B;AAEA,OAAO,SAASC,sBAAT,CAAiCC,IAAjC,EAAuC;AAC5C,SAAOR,YAAY,CAACM,SAAS,CAACG,6BAAX,CAAZ,CAAsDD,IAAtD,CAAP;AACD;AAED,OAAO,SAASE,oBAAT,CAA+BF,IAA/B,EAAqC;AAC1C,SAAOR,YAAY,CAACM,SAAS,CAACK,2BAAX,CAAZ,CAAoDH,IAApD,CAAP;AACD;AAED,OAAO,SAASI,oBAAT,CAA+BJ,IAA/B,EAAqC;AAC1C,SAAOR,YAAY,CAACM,SAAS,CAACO,2BAAX,CAAZ,CAAoDL,IAApD,CAAP;AACD;;AAED,SAASM,4BAAT,CAAuCC,IAAvC,EAA6CC,KAA7C,EAAoD;AAClD,SAAOb,QAAQ,CAAC,MAAD,EAAS,EAAT,EAAa;AAC1Bc,IAAAA,MAAM,EAAE,wBADkB;AAE1BF,IAAAA,IAAI,EAAIA,IAFkB;AAG1BC,IAAAA,KAAK,EAAGA;AAHkB,GAAb,CAAf;AAKD;;AAED,OAAO,SAASE,sBAAT,CAAiCH,IAAjC,EAAuCC,KAAvC,EAA8C;AACnD;AACA,SAAO,UAAUG,QAAV,EAAoBC,QAApB,EAA8B;AACnC,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCJ,MAAAA,QAAQ,CAACf,YAAY,EAAb,CAAR,CADsC,CACZ;;AAC1BU,MAAAA,4BAA4B,CAACC,IAAD,EAAOC,KAAP,CAA5B,CAA0CQ,IAA1C,CAA+C,UAACC,IAAD,EAAU;AACvDH,QAAAA,OAAO,CAACG,IAAD,CAAP,CADuD,CAEvD;;AACAN,QAAAA,QAAQ,CAACd,YAAY,EAAb,CAAR,CAHuD,CAG7B;;AAC1B,YAAIoB,IAAI,CAACC,KAAL,IAAc,CAAlB,EAAqB;AACnBP,UAAAA,QAAQ,CAACZ,sBAAsB,CAACkB,IAAI,CAACjB,IAAN,CAAvB,CAAR;AACD,SAFD,MAEO;AACLW,UAAAA,QAAQ,CAACT,oBAAoB,CAAC,EAAD,CAArB,CAAR;AACD;AACF,OATD,EASG,UAACgB,KAAD,EAAW;AACZP,QAAAA,QAAQ,CAACd,YAAY,EAAb,CAAR,CADY,CACc;;AAC1Bc,QAAAA,QAAQ,CAACP,oBAAoB,CAAC,EAAD,CAArB,CAAR;AACD,OAZD;AAaD,KAfM,CAAP;AAgBD,GAjBD;AAkBD","sourcesContent":["import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\n\nexport function success_leaves_summary (data) {\n  return createAction(constants.ACTION_SUCCESS_LEAVES_SUMMARY)(data);\n}\n\nexport function empty_leaves_summary (data) {\n  return createAction(constants.ACTION_EMPTY_LEAVES_SUMMARY)(data);\n}\n\nexport function error_leaves_summary (data) {\n  return createAction(constants.ACTION_ERROR_LEAVES_SUMMARY)(data);\n}\n\nfunction async_get_all_leaves_summary (year, month) {\n  return fireAjax('POST', '', {\n    action: 'get_all_leaves_summary',\n    year:   year,\n    month:  month\n  });\n}\n\nexport function get_all_leaves_summary (year, month) {\n  //  console.log(userid, year, month);\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_get_all_leaves_summary(year, month).then((json) => {\n        resolve(json);\n        // console.log(json);\n        dispatch(hide_loading()); // hide loading icon\n        if (json.error == 0) {\n          dispatch(success_leaves_summary(json.data));\n        } else {\n          dispatch(empty_leaves_summary({}));\n        }\n      }, (error) => {\n        dispatch(hide_loading()); // hide loading icon\n        dispatch(error_leaves_summary({}));\n      });\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}