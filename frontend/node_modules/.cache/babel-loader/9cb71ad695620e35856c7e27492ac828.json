{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/addDocuments/components/FormAddDocuments.jsx\";\nimport React, { Component } from \"react\";\nimport { CONFIG } from \"../../../config/index\";\nimport { notify } from \"../../../services/notify\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { getToken } from \"../../../services/generic\";\nimport * as actions from \"../../../redux/actions\";\nimport Header from \"../../../components/generic/Header\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport { browserHistory } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nvar FormAddDocument =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormAddDocument, _Component);\n\n  function FormAddDocument(props) {\n    var _this;\n\n    _classCallCheck(this, FormAddDocument);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormAddDocument).call(this, props));\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.state = {\n      document_type: \"\",\n      token: \"\",\n      file: [],\n      user_id: _this.props.match.params.userId,\n      page_url: window.location.href,\n      imageUrl: \"\"\n    };\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.handleFileChange = _this.handleFileChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.callUpdateDocuments = _this.callUpdateDocuments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(FormAddDocument, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"resize\", this.toggleCollapse);\n    }\n  }, {\n    key: \"callUpdateDocuments\",\n    value: function callUpdateDocuments(e) {\n      var type = this.state.document_type;\n      var link1 = this.refs.file.value;\n      var file = this.state.file[0];\n      var userId = this.props.match.params.userId;\n      var stop = false;\n\n      if (!userId) {\n        stop = true;\n        notify(\"Warning!\", \"Please select a User.\", \"warning\");\n      } else if (type === \"\") {\n        stop = true;\n        notify(\"Warning!\", \"Please select document type.\", \"warning\");\n      } else if (link1 === \"\") {\n        stop = true;\n        notify(\"Warning!\", \"Please select a file\", \"warning\");\n      }\n\n      if (stop) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount(props) {\n      this.setState({\n        token: getToken()\n      });\n    }\n  }, {\n    key: \"handleFileChange\",\n    value: function handleFileChange(e) {\n      var _this2 = this;\n\n      this.setState({\n        file: Array.from(e.target.files)\n      });\n      var file = this.refs.file.files[0];\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        _this2.setState({\n          imageUrl: reader.result\n        });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n        this.setState({\n          imageUrl: reader.result\n        });\n      } else {\n        this.setState({\n          imageUrl: \"\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var actions = [React.createElement(FlatButton, {\n        label: \"Close\",\n        primary: true,\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Menu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"content\",\n        className: \"app-content box-shadow-z0\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Header, {\n        pageTitle: \"Add Documents\",\n        showLoading: this.props.frontend.show_loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row p-t-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-offset-3 col-sm-6 p-x-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        id: \"uploadMyDoc\",\n        className: \"text-center pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Upload Documents\"), React.createElement(\"div\", {\n        className: \"row box p-a-md m-b-lg \",\n        id: \"uploadDoc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Document Type\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        ref: \"document_type\",\n        onChange: function onChange() {\n          _this3.setState({\n            document_type: _this3.refs.document_type.value,\n            file: []\n          });\n\n          _this3.refs.file.value = \"\";\n        },\n        value: this.state.document_type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"--- Select Doc Type ---\"), React.createElement(\"option\", {\n        value: \"CV\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"CV\"), React.createElement(\"option\", {\n        value: \"PAN Card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"PAN Card\"), React.createElement(\"option\", {\n        value: \"Address Proof\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Address Proof\"), React.createElement(\"option\", {\n        value: \"Photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Photo\"), React.createElement(\"option\", {\n        value: \"Offer Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Offer Letter\"), React.createElement(\"option\", {\n        value: \"Appointment Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Appointment Letter\"), React.createElement(\"option\", {\n        value: \"Previous Company Experience Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Previous Company Experience Letter\"), React.createElement(\"option\", {\n        value: \"Previous Company Offer Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Previous Company Offer Letter\"), React.createElement(\"option\", {\n        value: \"Previous Company Salary Slip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Previous Company Salary Slip\"), React.createElement(\"option\", {\n        value: \"Previous Company Other Documents\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Previous Company Other Documents\"), React.createElement(\"option\", {\n        value: \"Qualification Certificate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Qualification Certificate\"), React.createElement(\"option\", {\n        value: \"Other Documents\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Other Documents\"))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Attachment \"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        ref: \"file\",\n        name: \"link_1\",\n        multiple: \"multiple\",\n        onChange: this.handleFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, this.state.file[0] ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Image Preview \"), React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        onClick: function onClick() {\n          _this3.handleOpen();\n        },\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })) : null, React.createElement(Dialog, {\n        actions: actions,\n        modal: false,\n        open: this.state.open,\n        onRequestClose: this.handleClose,\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"form-group col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(UploadImageComp, {\n        callUpdateDocuments: this.callUpdateDocuments,\n        url: CONFIG.upload_url,\n        params: this.state,\n        file: this.state.file[0],\n        fileName: \"link_1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })))), React.createElement(\"button\", {\n        className: \"col-xs-8 col-xs-offset-2 col-md-4 col-md-offset-4 md-btn md-raised indigo\",\n        onClick: function onClick() {\n          _this3.props.history.push(\"manage_users\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \" \", \"Go to Employee Page\")))));\n    }\n  }]);\n\n  return FormAddDocument;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS()\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIsAlreadyLogin: function onIsAlreadyLogin() {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    requestUsersList: function requestUsersList() {\n      return dispatch(actions.requestUsersList());\n    }\n  };\n};\n\nvar VisibleAddDocuments = connect(mapStateToProps, mapDispatchToProps)(FormAddDocument);\nvar FormAddDocuments = withRouter(VisibleAddDocuments);\nexport default FormAddDocuments;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/addDocuments/components/FormAddDocuments.jsx"],"names":["React","Component","CONFIG","notify","Menu","getToken","actions","Header","UploadImageComp","browserHistory","connect","withRouter","Dialog","FlatButton","FormAddDocument","props","handleClose","setState","open","handleOpen","state","document_type","token","file","user_id","match","params","userId","page_url","window","location","href","imageUrl","onIsAlreadyLogin","handleFileChange","bind","callUpdateDocuments","addEventListener","toggleCollapse","e","type","link1","refs","value","stop","preventDefault","Array","from","target","files","reader","FileReader","onloadend","result","readAsDataURL","frontend","show_loading","upload_url","history","push","mapStateToProps","toJS","loggedUser","logged_user","userLogin","usersList","mapDispatchToProps","dispatch","isAlreadyLogin","requestUsersList","VisibleAddDocuments","FormAddDocuments"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CONFIG } from \"../../../config/index\";\nimport { notify } from \"../../../services/notify\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { getToken } from \"../../../services/generic\";\nimport * as actions from \"../../../redux/actions\";\nimport Header from \"../../../components/generic/Header\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport { browserHistory } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nclass FormAddDocument extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      document_type: \"\",\n      token: \"\",\n      file: [],\n      user_id: this.props.match.params.userId,\n      page_url: window.location.href,\n      imageUrl:\"\"\n    };\n    this.props.onIsAlreadyLogin();\n\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n  }\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.toggleCollapse);\n  }\n\n  callUpdateDocuments(e) {\n    let type = this.state.document_type;\n    let link1 = this.refs.file.value;\n    let file = this.state.file[0];\n    let userId = this.props.match.params.userId;\n    let stop = false;\n    if (!userId) {\n      stop = true;\n      notify(\"Warning!\", \"Please select a User.\", \"warning\");\n    } else if (type === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select document type.\", \"warning\");\n    } else if (link1 === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select a file\", \"warning\");\n    }\n\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n  componentWillMount(props) {\n    this.setState({\n      token: getToken()\n    });\n  }\n  handleFileChange(e) {\n    this.setState({ file: Array.from(e.target.files) });\n    const file = this.refs.file.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imageUrl: reader.result\n      });\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n      this.setState({\n        imageUrl: reader.result\n      });\n    } else {\n      this.setState({\n        imageUrl: \"\"\n      });\n    }\n  }\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  handleOpen = () => {\n    this.setState({open:true});\n  }\n  render() {\n    const actions = [\n      <FlatButton label=\"Close\" primary={true} onClick={this.handleClose} />\n    ];\n    return <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={\"Add Documents\"} showLoading={this.props.frontend.show_loading} />\n          <br />\n          <br />\n          <div className=\"row p-t-md\">\n            <div className=\"col-sm-offset-3 col-sm-6 p-x-md\">\n              <h6 id=\"uploadMyDoc\" className=\"text-center pointer\">\n                Upload Documents\n              </h6>\n              <div className=\"row box p-a-md m-b-lg \" id=\"uploadDoc\">\n                <form encType=\"multipart/form-data\">\n                  <div className=\"form-group\">\n                    <label className=\"col-sm-12\">Document Type</label>\n                    <select className=\"form-control\" ref=\"document_type\" \n                      onChange={() => {\n                        this.setState({\n                          document_type: this.refs.document_type.value,\n                          file: []\n                        });\n                        this.refs.file.value = \"\";\n                      }} \n                      value={this.state.document_type}>\n                      <option value=\"\">--- Select Doc Type ---</option>\n                      <option value=\"CV\">CV</option>\n                      <option value=\"PAN Card\">PAN Card</option>\n                      <option value=\"Address Proof\">Address Proof</option>\n                      <option value=\"Photo\">Photo</option>\n                      <option value=\"Offer Letter\">Offer Letter</option>\n                      <option value=\"Appointment Letter\">\n                        Appointment Letter\n                      </option>\n                      <option value=\"Previous Company Experience Letter\">\n                        Previous Company Experience Letter\n                      </option>\n                      <option value=\"Previous Company Offer Letter\">\n                        Previous Company Offer Letter\n                      </option>\n                      <option value=\"Previous Company Salary Slip\">\n                        Previous Company Salary Slip\n                      </option>\n                      <option value=\"Previous Company Other Documents\">\n                        Previous Company Other Documents\n                      </option>\n                      <option value=\"Qualification Certificate\">\n                        Qualification Certificate\n                      </option>\n                      <option value=\"Other Documents\">\n                        Other Documents\n                      </option>\n                    </select>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"col-sm-12\">Attachment </label>\n                    <input type=\"file\" className=\"form-control\" ref=\"file\" name=\"link_1\" multiple=\"multiple\" onChange={this.handleFileChange} />\n                  </div>\n                  <div className=\"form-group\">\n                    {this.state.file[0] ? <div>\n                        <label className=\"col-xs-12\">Image Preview </label>\n                        <img src={this.state.imageUrl} onClick={() => {\n                            this.handleOpen();\n                          }} className=\"small\" />\n                        <br />\n                      </div> : null}\n                    <Dialog actions={actions} modal={false} open={this.state.open} onRequestClose={this.handleClose} autoScrollBodyContent={true}>\n                      <div className=\"thumbnail\">\n                        <img src={this.state.imageUrl} />\n                      </div>\n                    </Dialog>\n                  </div>\n                  <div className=\"form-group col-sm-12\">\n                    <UploadImageComp callUpdateDocuments={this.callUpdateDocuments} url={CONFIG.upload_url} params={this.state} file={this.state.file[0]} fileName=\"link_1\" />\n                  </div>\n                </form>\n              </div>\n              <button className=\"col-xs-8 col-xs-offset-2 col-md-4 col-md-offset-4 md-btn md-raised indigo\" onClick={() => {\n                  this.props.history.push(\"manage_users\");\n                }}>\n                {\" \"}\n                Go to Employee Page\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS()\n  };\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    requestUsersList: () => {\n      return dispatch(actions.requestUsersList());\n    }\n  };\n};\nconst VisibleAddDocuments = connect(mapStateToProps, mapDispatchToProps)(\n  FormAddDocument\n);\n\nconst FormAddDocuments = withRouter(VisibleAddDocuments);\n\nexport default FormAddDocuments;\n"]},"metadata":{},"sourceType":"module"}