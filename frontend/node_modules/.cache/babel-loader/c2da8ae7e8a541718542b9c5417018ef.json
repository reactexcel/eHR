{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/leave/components/manageLeaves/ViewLeave.jsx\";\nimport React from 'react';\nimport * as _ from 'lodash';\nimport { CONFIG } from '../../../../config/index';\nimport { getToken } from '../../../../services/generic';\nimport { ButtonRaised, ButtonFlat } from '../../../../components/generic/buttons';\n\nvar ViewLeave =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewLeave, _React$Component);\n\n  function ViewLeave(props) {\n    var _this;\n\n    _classCallCheck(this, ViewLeave);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewLeave).call(this, props));\n    _this.state = {\n      messagetouser: '',\n      notifyMsg: 'Document Required Notification Sent',\n      document_required: true,\n      messageByHr: '',\n      edit: false,\n      editedComment: ''\n    };\n    _this.handleNotify = _this.handleNotify.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleComment = _this.handleComment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleExtraDay = _this.handleExtraDay.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSave = _this.handleSave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEdit = _this.handleEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpdate = _this.handleUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRevert = _this.handleRevert.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewLeave, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        messagetouser: '',\n        edit: false\n      });\n    }\n  }, {\n    key: \"handleRevert\",\n    value: function handleRevert() {\n      this.props.leaveRevertRequest(this.props.selectedLeave.id, getToken());\n    }\n  }, {\n    key: \"handleSave\",\n    value: function handleSave(data) {\n      this.props.onAddDescription(this.props.selectedLeave.id, this.state.messageByHr, data);\n      this.setState({\n        edit: false,\n        messageByHr: ''\n      });\n    }\n  }, {\n    key: \"handleUpdate\",\n    value: function handleUpdate(data) {\n      this.props.onAddDescription(this.props.selectedLeave.id, this.state.editedComment, data);\n      this.setState({\n        edit: false,\n        editedComment: ''\n      });\n    }\n  }, {\n    key: \"handleExtraDay\",\n    value: function handleExtraDay(day) {\n      this.props.onAddExtraDay(this.props.selectedLeave.id, getToken(), day);\n    }\n  }, {\n    key: \"handleNotify\",\n    value: function handleNotify() {\n      this.props.onDocRequired(this.props.selectedLeave.id, '1', '');\n    }\n  }, {\n    key: \"handleComment\",\n    value: function handleComment() {\n      this.props.onDocRequired(this.props.selectedLeave.id, '', this.state.messagetouser);\n    }\n  }, {\n    key: \"handleEdit\",\n    value: function handleEdit() {\n      var comments = this.props.selectedLeave.hr_comment;\n      this.setState({\n        edit: true,\n        editedComment: comments\n      });\n    }\n  }, {\n    key: \"changeStatus\",\n    value: function changeStatus(leaveid, newstatus) {\n      this.props.doLeaveStatusChange(leaveid, newstatus, this.state.messagetouser);\n    }\n  }, {\n    key: \"_getChangeStatusButtons\",\n    value: function _getChangeStatusButtons(leaveid, status) {\n      var _this2 = this;\n\n      var statusList = ['Approved', 'Pending', 'Rejected'];\n      var HRDisplay = '';\n\n      if (this.props.loggedUser.data.role === CONFIG.HR) {\n        HRDisplay = 'none';\n      }\n\n      if (this.props.selectedLeave.status === 'Approved') {\n        HRDisplay = 'none';\n      }\n\n      if (this.props.selectedLeave.status === 'Rejected') {\n        HRDisplay = 'none';\n      }\n\n      var soptions = _.map(statusList, function (s, k) {\n        var leaveStatusColor = '';\n\n        if (s == status) {} else if (s === 'Approved') {\n          return React.createElement(ButtonRaised, {\n            key: k,\n            style: {\n              display: HRDisplay\n            },\n            className: \"indigo\",\n            onClick: function onClick() {\n              return _this2.changeStatus(leaveid, s);\n            },\n            label: \"Approve\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          });\n        } else if (s === 'Pending') {\n          return React.createElement(ButtonRaised, {\n            key: k,\n            style: {\n              display: HRDisplay\n            },\n            className: \"blue\",\n            onClick: function onClick() {\n              return _this2.changeStatus(leaveid, s);\n            },\n            label: \"Mark Pending\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          });\n        } else if (s === 'Rejected') {\n          return React.createElement(ButtonFlat, {\n            key: k,\n            style: {\n              display: HRDisplay\n            },\n            className: \"m-b-sm text-danger\",\n            onClick: function onClick() {\n              return _this2.changeStatus(leaveid, s);\n            },\n            label: \"Reject\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          });\n        }\n      });\n\n      return soptions;\n    }\n  }, {\n    key: \"_getLastAppliedLeaves\",\n    value: function _getLastAppliedLeaves(dd) {\n      var prev_leaves = _.map(dd, function (d, k) {\n        return React.createElement(\"div\", {\n          className: \"sl-item b-info\",\n          key: k,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"sl-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"sl-date text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"  Applied On  : \", d.applied_on), React.createElement(\"div\", {\n          className: \"sl-date text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, d.from_date, \" to \", d.to_date, \" / No of Days : \", d.no_of_days), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, d.status, \" - \", d.reason)));\n      });\n\n      return React.createElement(\"div\", {\n        className: \"box-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"streamline b-l m-l\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, prev_leaves));\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify() {\n      if (!_.isUndefined(this.props.selectedLeave.doc_require) && this.props.selectedLeave.doc_require != '0') {\n        return React.createElement(\"div\", {\n          className: \"text-left\",\n          style: {\n            marginTop: '10px',\n            border: '1px dotted green',\n            width: '56%',\n            padding: '11px 5px 5px',\n            background: '#c8e4c8',\n            color: '#0d7b2a',\n            borderRadius: '7px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          style: {\n            fontWeight: '500'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, this.state.notifyMsg));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var styles = _.cloneDeep(this.constructor.styles);\n\n      var notify = this._notify();\n\n      var changeStatusButton = this._getChangeStatusButtons(this.props.selectedLeave.id, this.props.selectedLeave.status);\n\n      var key = parseInt(this.props.keyval); // previoud leaves\n\n      var last_applied_leaves = this.props.selectedLeave.last_applied_leaves;\n      var last_applied_leaves_html = '';\n\n      if (typeof last_applied_leaves !== 'undefined' && last_applied_leaves.length > 0) {\n        var aa = this._getLastAppliedLeaves(this.props.selectedLeave.last_applied_leaves);\n\n        last_applied_leaves_html = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Leave history\"), aa);\n      }\n\n      var display = '';\n\n      if (this.props.loggedUser.data.role === CONFIG.ADMIN && this.props.selectedLeave.hr_comment === '') {\n        display = 'none';\n      }\n\n      var HRDisplay = '';\n\n      if (this.props.loggedUser.data.role === CONFIG.ADMIN) {\n        HRDisplay = 'none';\n      }\n\n      var adminDisplay = '';\n\n      if (this.props.loggedUser.data.role === CONFIG.HR) {\n        adminDisplay = 'none';\n      }\n\n      var status = this.props.selectedLeave.status;\n\n      if (this.props.selectedLeave.status === 'Pending' && this.props.selectedLeave.hr_approved === '1') {\n        status = 'Approved By HR';\n      }\n\n      return React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"p-a-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row m-t\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-4 leave-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        className: \"pull-left m-r-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"avatar w-96\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.props.selectedLeave.user_profile_image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"clear m-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"m-a-0 m-b-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.props.selectedLeave.user_profile_name), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, this.props.selectedLeave.user_profile_jobtitle)), React.createElement(\"hr\", {\n        className: \"col-xs-12 hidden-sm hidden-md hidden-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-8 leave-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Status - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, status)), (this.props.selectedLeave.status === \"Rejected\" || this.props.selectedLeave.status === \"Approved\") && React.createElement(\"div\", {\n        style: {\n          margin: '5px 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        style: {\n          backgroundColor: '#ffff00'\n        },\n        onClick: this.handleRevert,\n        label: \"Revert to pending\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Applied On \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.props.selectedLeave.applied_on))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, this.props.selectedLeave.from_date, \" To \", this.props.selectedLeave.to_date)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"No. of Days - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, this.props.selectedLeave.no_of_days))), this.props.selectedLeave.day_status === '' ? '' : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Leave apply for - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, this.props.selectedLeave.day_status === '1' ? 'First Half' : 'Second Half'))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Reason - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.props.selectedLeave.reason))), this.props.selectedLeave.leave_type !== '' ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Leave Type - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.props.selectedLeave.leave_type))) : null, this.props.selectedLeave.late_reason !== '' ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Reason For Late Applying - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, this.props.selectedLeave.late_reason))) : null, this.props.selectedLeave.extra_day !== '0' ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Extra Day Added - \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, this.props.selectedLeave.extra_day))) : null, this.props.selectedLeave.doc_require === '0' && this.props.selectedLeave.hr_approved !== '2' && this.props.selectedLeave.status !== 'Approved' ? React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px',\n          display: HRDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: this.handleNotify,\n        label: \"Notify Document Required\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      })) : null, this.props.selectedLeave.hr_approved === '0' && this.props.selectedLeave.hr_comment !== '' ? React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px',\n          display: HRDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: function onClick() {\n          _this3.handleSave('1');\n        },\n        label: \"HR Approval\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        style: {\n          marginLeft: '3px'\n        },\n        onClick: function onClick() {\n          _this3.handleSave('2');\n        },\n        label: \"HR Rejected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })) : null, this.props.selectedLeave.hr_approved !== '0' && this.props.selectedLeave.hr_approved !== '2' ? React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px',\n          border: '1px dotted green',\n          width: '56%',\n          padding: '11px 5px 5px',\n          background: '#c8e4c8',\n          color: '#0d7b2a',\n          borderRadius: '7px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Approved By HR\")) : null, this.props.selectedLeave.hr_approved !== '0' && this.props.selectedLeave.hr_approved !== '1' ? React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px',\n          border: '1px dotted green',\n          width: '56%',\n          padding: '11px 5px 5px',\n          background: '#c8e4c8',\n          color: '#0d7b2a',\n          borderRadius: '7px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"Rejected By HR\")) : null, this.props.selectedLeave.doc_link === '' && this.props.selectedLeave.doc_require === '1' ? notify : null, this.props.selectedLeave.doc_link !== '' ? React.createElement(\"form\", {\n        method: \"get\",\n        target: \"_blank\",\n        action: this.props.selectedLeave.doc_link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \" text-left\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        label: \"View Document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }))) : null, this.props.selectedLeave.late_reason === '' && this.props.selectedLeave !== 'Rejected' ? null : React.createElement(\"div\", {\n        className: \"row m-0\",\n        style: {\n          display: adminDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3 p-0 pt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \" text-left\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: function onClick() {\n          _this3.handleExtraDay('0.5');\n        },\n        label: \"Add Half Day\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-sm-3 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: function onClick() {\n          _this3.handleExtraDay('1');\n        },\n        label: \"Add Full Day\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }))), this.props.selectedLeave.extra_day === '0' ? null : React.createElement(\"div\", {\n        className: \"col-sm-4 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"red\",\n        onClick: function onClick() {\n          _this3.handleExtraDay('0');\n        },\n        label: \"Remove Extra Day\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }), this.props.selectedLeave.comment === '' ? React.createElement(\"div\", {\n        style: {\n          display: adminDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"md-input\",\n        placeholder: \"Enter message for employee\",\n        onChange: function onChange(e) {\n          return _this3.setState({\n            messagetouser: e.target.value\n          });\n        },\n        value: this.state.messagetouser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-right\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: this.handleComment,\n        label: \"Comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Comment\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px',\n          border: '1px dotted #514eff',\n          width: '56%',\n          padding: '11px 5px 5px',\n          background: 'rgb(191, 195, 245)',\n          color: 'rgb(64, 78, 247)',\n          borderRadius: '7px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, this.props.selectedLeave.comment))), this.props.selectedLeave.hr_comment === '' && this.props.loggedUser.data.role === CONFIG.HR ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \"Write Entire Leave Details After Talking To Employee\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"md-input\",\n        onChange: function onChange(e) {\n          return _this3.setState({\n            messageByHr: e.target.value\n          });\n        },\n        value: this.state.messageByHr,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-right\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: function onClick() {\n          _this3.handleSave('');\n        },\n        label: \"Save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }))) : null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, this.props.loggedUser.data.role === CONFIG.HR && this.props.selectedLeave.hr_comment === '' ? null : React.createElement(\"div\", {\n        style: {\n          display: display\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, \"Description By HR\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px',\n          border: '1px dotted #514eff',\n          width: '56%',\n          padding: '11px 5px 5px',\n          background: 'rgb(191, 195, 245)',\n          color: 'rgb(64, 78, 247)',\n          borderRadius: '7px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, this.props.selectedLeave.hr_comment))), this.state.edit && this.props.loggedUser.data.role === CONFIG.HR ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"md-input\",\n        onChange: function onChange(e) {\n          return _this3.setState({\n            editedComment: e.target.value\n          });\n        },\n        value: this.state.editedComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-right\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      })) : null, this.props.selectedLeave.hr_comment !== '' ? React.createElement(\"div\", {\n        className: \"row m-0\",\n        style: {\n          display: HRDisplay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, this.state.edit ? React.createElement(\"div\", {\n        className: \"text-left\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: function onClick() {\n          _this3.handleUpdate('');\n        },\n        label: \"Save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \" text-left\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"indigo\",\n        onClick: function onClick() {\n          _this3.handleEdit();\n        },\n        label: \"Edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      })))) : null)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }), changeStatusButton, last_applied_leaves_html))));\n    }\n  }]);\n\n  return ViewLeave;\n}(React.Component);\n\nViewLeave.styles = {\n  leaveDiv: {\n    'marginBottom': '10px'\n  }\n};\nexport default ViewLeave;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/leave/components/manageLeaves/ViewLeave.jsx"],"names":["React","_","CONFIG","getToken","ButtonRaised","ButtonFlat","ViewLeave","props","state","messagetouser","notifyMsg","document_required","messageByHr","edit","editedComment","handleNotify","bind","handleComment","handleExtraDay","handleSave","handleEdit","handleUpdate","handleRevert","setState","leaveRevertRequest","selectedLeave","id","data","onAddDescription","day","onAddExtraDay","onDocRequired","comments","hr_comment","leaveid","newstatus","doLeaveStatusChange","status","statusList","HRDisplay","loggedUser","role","HR","soptions","map","s","k","leaveStatusColor","display","changeStatus","dd","prev_leaves","d","applied_on","from_date","to_date","no_of_days","reason","isUndefined","doc_require","marginTop","border","width","padding","background","color","borderRadius","fontWeight","styles","cloneDeep","constructor","notify","_notify","changeStatusButton","_getChangeStatusButtons","key","parseInt","keyval","last_applied_leaves","last_applied_leaves_html","length","aa","_getLastAppliedLeaves","ADMIN","adminDisplay","hr_approved","user_profile_image","user_profile_name","user_profile_jobtitle","margin","backgroundColor","day_status","leave_type","late_reason","extra_day","marginLeft","doc_link","comment","e","target","value","Component","leaveDiv"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as _ from 'lodash';\nimport {CONFIG} from '../../../../config/index';\nimport {getToken} from '../../../../services/generic';\nimport {ButtonRaised, ButtonFlat} from '../../../../components/generic/buttons';\n\nclass ViewLeave extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      messagetouser:     '',\n      notifyMsg:         'Document Required Notification Sent',\n      document_required: true,\n      messageByHr:       '',\n      edit:              false,\n      editedComment:     ''\n    };\n    this.handleNotify = this.handleNotify.bind(this);\n    this.handleComment = this.handleComment.bind(this);\n    this.handleExtraDay = this.handleExtraDay.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.handleRevert = this.handleRevert.bind(this);\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({messagetouser: '', edit: false});\n  }\n  handleRevert () {\n    this.props.leaveRevertRequest(this.props.selectedLeave.id, getToken());\n  }\n  handleSave (data) {\n    this.props.onAddDescription(this.props.selectedLeave.id, this.state.messageByHr, data);\n    this.setState({\n      edit:        false,\n      messageByHr: ''\n    });\n  }\n\n  handleUpdate (data) {\n    this.props.onAddDescription(this.props.selectedLeave.id, this.state.editedComment, data);\n    this.setState({\n      edit:          false,\n      editedComment: ''\n    });\n  }\n\n  handleExtraDay (day) {\n    this.props.onAddExtraDay(this.props.selectedLeave.id, getToken(), day);\n  }\n  handleNotify () {\n    this.props.onDocRequired(this.props.selectedLeave.id, '1', '');\n  }\n  handleComment () {\n    this.props.onDocRequired(this.props.selectedLeave.id, '', this.state.messagetouser);\n  }\n  handleEdit () {\n    let comments = this.props.selectedLeave.hr_comment;\n    this.setState({\n      edit:          true,\n      editedComment: comments\n    });\n  }\n\n  changeStatus (leaveid, newstatus) {\n    this.props.doLeaveStatusChange(leaveid, newstatus, this.state.messagetouser);\n  }\n\n  _getChangeStatusButtons (leaveid, status) {\n    let statusList = [ 'Approved', 'Pending', 'Rejected' ];\n    let HRDisplay = '';\n    if (this.props.loggedUser.data.role === CONFIG.HR) {\n      HRDisplay = 'none';\n    }\n    if (this.props.selectedLeave.status === 'Approved') {\n      HRDisplay = 'none';\n    }\n    if (this.props.selectedLeave.status === 'Rejected') {\n      HRDisplay = 'none';\n    }\n    let soptions = _.map(statusList, (s, k) => {\n      let leaveStatusColor = '';\n\n      if (s == status) {\n\n      } else if (s === 'Approved') {\n        return <ButtonRaised key={k} style={{display: HRDisplay}} className=\"indigo\" onClick={() => this.changeStatus(leaveid, s)} label=\"Approve\" />;\n      } else if (s === 'Pending') {\n        return <ButtonRaised key={k} style={{display: HRDisplay}} className=\"blue\" onClick={() => this.changeStatus(leaveid, s)} label=\"Mark Pending\" />;\n      } else if (s === 'Rejected') {\n        return <ButtonFlat key={k} style={{display: HRDisplay}} className=\"m-b-sm text-danger\" onClick={() => this.changeStatus(leaveid, s)} label=\"Reject\" />;\n      }\n    });\n\n    return soptions;\n  }\n\n  _getLastAppliedLeaves (dd) {\n    let prev_leaves = _.map(dd, (d, k) => {\n      return (\n        <div className=\"sl-item b-info\" key={k}>\n          <div className=\"sl-content\">\n            <div className=\"sl-date text-muted\">  Applied On  : {d.applied_on}</div>\n            <div className=\"sl-date text-muted\">{d.from_date} to {d.to_date} / No of Days : {d.no_of_days}</div>\n            <div>\n              {d.status} - {d.reason}\n            </div>\n          </div>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"box-body\">\n        <div className=\"streamline b-l m-l\">\n          {prev_leaves}\n        </div>\n      </div>\n    );\n  }\n  _notify () {\n    if (!_.isUndefined(this.props.selectedLeave.doc_require) && this.props.selectedLeave.doc_require != '0') {\n      return (\n        <div className=\"text-left\" style={{marginTop: '10px', border: '1px dotted green', width: '56%', padding: '11px 5px 5px', background: '#c8e4c8', color: '#0d7b2a', borderRadius: '7px'}}>\n          <label style={{fontWeight: '500'}}>{this.state.notifyMsg}</label>\n        </div>\n      );\n    }\n  }\n\n  render () {    \n    let styles = _.cloneDeep(this.constructor.styles);\n    let notify = this._notify();\n    let changeStatusButton = this._getChangeStatusButtons(this.props.selectedLeave.id, this.props.selectedLeave.status);\n    let key = parseInt(this.props.keyval);\n\n      // previoud leaves\n    let last_applied_leaves = this.props.selectedLeave.last_applied_leaves;\n    let last_applied_leaves_html = '';\n    if (typeof last_applied_leaves !== 'undefined' && last_applied_leaves.length > 0) {\n      let aa = this._getLastAppliedLeaves(this.props.selectedLeave.last_applied_leaves);\n      last_applied_leaves_html = <div><hr /><h5>Leave history</h5>{aa}</div>;\n    }\n    let display = '';\n    if (this.props.loggedUser.data.role === CONFIG.ADMIN && this.props.selectedLeave.hr_comment === '') {\n      display = 'none';\n    }\n    let HRDisplay = '';\n    if (this.props.loggedUser.data.role === CONFIG.ADMIN) {\n      HRDisplay = 'none';\n    }\n    let adminDisplay = '';\n    if (this.props.loggedUser.data.role === CONFIG.HR) {\n      adminDisplay = 'none';\n    }\n    let status = this.props.selectedLeave.status;\n    if (this.props.selectedLeave.status === 'Pending' && this.props.selectedLeave.hr_approved === '1') {\n      status = 'Approved By HR';\n    }\n    return (\n      <div className=\"item\">\n        <div className=\"item-bg\">\n        </div>\n        <div className=\"p-a-md\">\n          <div className=\"row m-t\">\n            <div className=\"col-xs-12 col-sm-4 leave-profile\">\n              <a href=\"\" className=\"pull-left m-r-md\">\n                <span className=\"avatar w-96\">\n                  <img src={this.props.selectedLeave.user_profile_image} />\n                </span>\n              </a>\n              <div className=\"clear m-b\">\n                <h6 className=\"m-a-0 m-b-xs\">{this.props.selectedLeave.user_profile_name}</h6>\n                <div>{this.props.selectedLeave.user_profile_jobtitle}</div>\n              </div>\n              <hr className=\"col-xs-12 hidden-sm hidden-md hidden-lg\" />\n            </div>\n            <div className=\"col-xs-12 col-sm-8 leave-details\">\n              <div>Status - <i><b>{status}</b></i> \n                { (this.props.selectedLeave.status ===\"Rejected\" || this.props.selectedLeave.status === \"Approved\") &&\n                  <div style={{margin: '5px 0'}} >\n                    <ButtonRaised style={{backgroundColor:'#ffff00'}} onClick={this.handleRevert} label=\"Revert to pending\" />\n                  </div>\n                }\n              </div>\n              <div>Applied On <i><b>{this.props.selectedLeave.applied_on}</b></i></div>\n              <div><b>{this.props.selectedLeave.from_date} To {this.props.selectedLeave.to_date}</b></div>\n              <div>No. of Days - <i><b>{this.props.selectedLeave.no_of_days}</b></i></div>\n              {this.props.selectedLeave.day_status === '' ? '' : <div>Leave apply for - <i><b>{this.props.selectedLeave.day_status === '1' ? 'First Half' : 'Second Half'}</b></i></div>}\n              <div>Reason - <i><b>{this.props.selectedLeave.reason}</b></i></div>\n              {\n                this.props.selectedLeave.leave_type !== ''\n                ? <div>Leave Type - <i><b>{this.props.selectedLeave.leave_type}</b></i></div> : null\n              }\n              {\n                this.props.selectedLeave.late_reason !== ''\n                ? <div>Reason For Late Applying - <i><b>{this.props.selectedLeave.late_reason}</b></i></div> : null\n              }\n\n              {\n                this.props.selectedLeave.extra_day !== '0'\n                ? <div>Extra Day Added - <i><b>{this.props.selectedLeave.extra_day}</b></i></div> : null\n              }\n            {/* {\n              this.state.document_required ?\n              <div className=\"text-left\" style={{marginTop:'10px'}}>\n                <button className=\"md-btn md-raised indigo\" onTouchTap={this.handleNotify}>ent Required</button>\n              </div>:<div className=\"text-left\" style={{marginTop:'10px',border:\"1px dotted green\",width:\"56%\",padding:\"11px 5px 5px\",background:'#c8e4c8',color:'#0d7b2a',borderRadius:\"7px\"}}>\n                  <label style={{fontWeight:\"500\"}}>{this.state.notifyMsg}</label>\n                  </div>\n            } */}\n              {\n                this.props.selectedLeave.doc_require === '0' && this.props.selectedLeave.hr_approved !== '2' && this.props.selectedLeave.status !== 'Approved'\n                ? <div className=\"text-left\" style={{marginTop: '10px', display: HRDisplay}}>\n                  <ButtonRaised className=\"indigo\" onClick={this.handleNotify} label=\"Notify Document Required\" />\n                </div> : null\n              }\n              {\n                this.props.selectedLeave.hr_approved === '0' && this.props.selectedLeave.hr_comment !== ''\n                ? <div className=\"text-left\" style={{marginTop: '10px', display: HRDisplay}}>\n                  <ButtonRaised className=\"indigo\" onClick={() => { this.handleSave('1'); }} label=\"HR Approval\" />\n                  <ButtonRaised className=\"indigo\" style={{marginLeft: '3px'}} onClick={() => { this.handleSave('2'); }} label=\"HR Rejected\" />\n\n                </div> : null\n              }\n              {\n                this.props.selectedLeave.hr_approved !== '0' && this.props.selectedLeave.hr_approved !== '2'\n                ? <div className=\"text-left\" style={{marginTop: '10px', border: '1px dotted green', width: '56%', padding: '11px 5px 5px', background: '#c8e4c8', color: '#0d7b2a', borderRadius: '7px'}}>\n                  <label style={{fontWeight: '500'}}>Approved By HR</label>\n                </div> : null\n              }\n\n              {\n                this.props.selectedLeave.hr_approved !== '0' && this.props.selectedLeave.hr_approved !== '1'\n                ? <div className=\"text-left\" style={{marginTop: '10px', border: '1px dotted green', width: '56%', padding: '11px 5px 5px', background: '#c8e4c8', color: '#0d7b2a', borderRadius: '7px'}}>\n                  <label style={{fontWeight: '500'}}>Rejected By HR</label>\n                </div> : null\n              }\n              {\n                this.props.selectedLeave.doc_link === '' && this.props.selectedLeave.doc_require === '1'\n                  ? notify : null\n              }\n              {\n                this.props.selectedLeave.doc_link !== ''\n                ? <form method=\"get\" target=\"_blank\" action={this.props.selectedLeave.doc_link}>\n                  <div className=\" text-left\" style={{marginTop: '10px'}}>\n                    <ButtonRaised className=\"indigo\" label=\"View Document\" />\n                  </div>\n                </form> : null\n              }\n\n              {\n                this.props.selectedLeave.late_reason === '' && this.props.selectedLeave !== 'Rejected' ? null\n                : <div className='row m-0' style={{display: adminDisplay}}>\n                  <div className='col-sm-3 p-0 pt-5'>\n                    <div className=\" text-left\" style={{marginTop: '10px'}}>\n                      <ButtonRaised className=\"indigo\" onClick={() => { this.handleExtraDay('0.5'); }} label=\"Add Half Day\" />\n                    </div>\n                  </div>\n                  <div className='col-sm-3 p-0'>\n                    <div className=\"text-left\" style={{marginTop: '10px'}}>\n                      <ButtonRaised className=\"indigo\" onClick={() => { this.handleExtraDay('1'); }} label=\"Add Full Day\" />\n                    </div>\n                  </div>\n                  {\n                    this.props.selectedLeave.extra_day === '0' ? null\n                    : <div className='col-sm-4 p-0'>\n                      <div className=\"text-left\" style={{marginTop: '10px'}}>\n                        <ButtonRaised className=\"red\" onClick={() => { this.handleExtraDay('0'); }} label=\"Remove Extra Day\" />\n                      </div>\n                    </div>\n                  }\n                </div>\n              }\n            {/* {\n              this.props.selectedLeave.doc_require === '0' ? null : <div className=\"text-left\" style={{marginTop:'10px',border:\"1px dotted green\",width:\"56%\",padding:\"11px 5px 5px\",background:'#c8e4c8',color:'#0d7b2a',borderRadius:\"7px\"}}>\n                  <label style={{fontWeight:\"500\"}}>{this.state.notifyMsg}</label>\n                  </div>\n            } */}\n              <br />\n              {\n                this.props.selectedLeave.comment === ''\n                ? <div style={{display: adminDisplay}}>\n                  <input type=\"text\" className=\"md-input\" placeholder=\"Enter message for employee\" onChange={(e) => this.setState({messagetouser: e.target.value})} value={this.state.messagetouser} />\n                  <div className=\"text-right\" style={{marginTop: '10px'}}>\n                    <ButtonRaised className=\"indigo\" onClick={this.handleComment} label=\"Comment\" />\n                  </div>\n                </div> : <div>\n                  <b>Comment</b><br />\n                  <div className=\"text-left\" style={{marginTop: '10px', border: '1px dotted #514eff', width: '56%', padding: '11px 5px 5px', background: 'rgb(191, 195, 245)', color: 'rgb(64, 78, 247)', borderRadius: '7px'}}>\n                    <label style={{fontWeight: '500'}}>{this.props.selectedLeave.comment}</label>\n                  </div>\n                </div>\n              }\n              {\n                this.props.selectedLeave.hr_comment === '' && this.props.loggedUser.data.role === CONFIG.HR\n                ? <div>\n                  <b>Write Entire Leave Details After Talking To Employee</b><br />\n                  <input type=\"text\" className=\"md-input\"\n                    onChange={(e) => this.setState({messageByHr: e.target.value})}\n                    value={this.state.messageByHr} />\n                  <div className=\"text-right\" style={{marginTop: '10px'}}>\n                    <ButtonRaised className=\"indigo\" onClick={() => { this.handleSave(''); }} label=\"Save\" />\n                  </div>\n                </div> : null\n             }\n              <div>\n                <div>\n                 {this.props.loggedUser.data.role === CONFIG.HR && this.props.selectedLeave.hr_comment === ''\n                   ? null : <div style={{display: display}}>\n                     <b>Description By HR</b><br />\n                     <div className=\"text-left\" style={{marginTop: '10px', border: '1px dotted #514eff', width: '56%', padding: '11px 5px 5px', background: 'rgb(191, 195, 245)', color: 'rgb(64, 78, 247)', borderRadius: '7px'}}>\n                       <label style={{fontWeight: '500'}}>{this.props.selectedLeave.hr_comment}</label>\n                     </div>\n                   </div>\n                  }\n                 {\n                   this.state.edit && this.props.loggedUser.data.role === CONFIG.HR\n                   ? <div>\n                     <input type=\"text\" className=\"md-input\"\n                       onChange={(e) => this.setState({editedComment: e.target.value})}\n                       value={this.state.editedComment} />\n                     <div className=\"text-right\" style={{marginTop: '10px'}}>\n                     </div>\n                   </div>\n                   : null\n                 }\n                 {\n                    this.props.selectedLeave.hr_comment !== ''\n                 ? <div className='row m-0' style={{display: HRDisplay}}>\n                   <div className='col-sm-3 p-0'>\n                     {\n                       this.state.edit\n                       ? <div className=\"text-left\" style={{marginTop: '10px'}}>\n                         <ButtonRaised className=\"indigo\" onClick={() => { this.handleUpdate(''); }} label=\"Save\" />\n                       </div>\n                       : <div className=\" text-left\" style={{marginTop: '10px'}}>\n                         <ButtonRaised className=\"indigo\" onClick={() => { this.handleEdit(); }} label=\"Edit\" />\n                       </div>\n                     }\n                   </div>\n                 </div> : null\n               }\n                </div>\n              </div>\n              <br />\n              <br />\n              {changeStatusButton}\n              {last_applied_leaves_html}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nViewLeave.styles = {\n  leaveDiv: {\n    'marginBottom': '10px'\n  }\n};\n\nexport default ViewLeave;\n"]},"metadata":{},"sourceType":"module"}