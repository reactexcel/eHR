{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _radioButton,\n    _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/templates/components/Variable.jsx\";\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as _ from 'lodash';\nimport { notify } from '../../../services/notify';\nimport { CONFIG } from '../../../config/index';\nimport LoadingIcon from '../../../components/generic/LoadingIcon';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { RadioButton, RadioButtonGroup } from 'material-ui/RadioButton';\nimport Dialog from 'material-ui/Dialog';\nimport Paper from 'material-ui/Paper';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport { Table, TableBody, TableHeader, TableRow, TableRowColumn } from 'material-ui/Table';\nimport RichTextEditor from 'react-rte';\nvar styles = {\n  block: {\n    maxWidth: 250\n  },\n  lable: {\n    fontWeight: 'normal',\n    fontSize: 15\n  },\n  container: {\n    position: 'relative',\n    textAlign: 'center',\n    paddingTop: '200px'\n  },\n  formInput: {\n    'marginLeft': '5%',\n    'marginRight': '5%',\n    'width': '90%',\n    'paddingTop': '10px',\n    'color': 'gray'\n  },\n  radioButton: (_radioButton = {\n    marginBottom: 16,\n    width: '50%',\n    float: 'left'\n  }, _defineProperty(_radioButton, \"marginBottom\", '0px'), _defineProperty(_radioButton, \"marginTop\", '16px'), _radioButton),\n  radioLabel: {\n    fontWeight: 300\n  }\n};\n\nvar Variables =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Variables, _React$Component);\n\n  function Variables(props) {\n    var _this;\n\n    _classCallCheck(this, Variables);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Variables).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      paper: 'show',\n      openDialog: false,\n      dialogTitle: '',\n      variableType: 'user',\n      variableCode: '',\n      floatingLabelCode: '',\n      hintCode: '',\n      varCodeError: '',\n      variableValue: RichTextEditor.createEmptyValue(),\n      variableValue_forTextArea: '',\n      floatingLabelValue: '',\n      hintValue: '',\n      varValError: '',\n      varId: '',\n      editor: 'show',\n      textArea: 'hidden'\n    };\n    _this.openCreateVariable = _this.openCreateVariable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.saveVariable = _this.saveVariable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteVariable = _this.deleteVariable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editVariable = _this.editVariable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeEditor = _this.changeEditor.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Variables, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      window.scrollTo(0, 0);\n\n      if (!props.loggedUser.isLoggedIn) {\n        this.props.history.push('/logout');\n      } else {\n        if (props.loggedUser.data.role === CONFIG.ADMIN || props.loggedUser.data.role === CONFIG.HR) {} else {\n          this.props.history.push('/home');\n        }\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.setState({\n        variableValue: value\n      });\n    }\n  }, {\n    key: \"changeEditor\",\n    value: function changeEditor(e) {\n      if (e.target.value === 'textArea') {\n        this.setState({\n          textArea: 'show',\n          editor: 'hidden'\n        });\n      } else {\n        this.setState({\n          textArea: 'hidden',\n          editor: 'show'\n        });\n      }\n    }\n  }, {\n    key: \"openCreateVariable\",\n    value: function openCreateVariable() {\n      this.setState({\n        variableCode: '',\n        varCodeError: '',\n        variableValue: RichTextEditor.createEmptyValue(),\n        variableValue_forTextArea: '',\n        varValError: '',\n        openDialog: true,\n        varId: '',\n        dialogTitle: 'Create Variable',\n        floatingLabelCode: 'Variable Code',\n        hintCode: 'Enter Variable Code',\n        floatingLabelValue: 'Variable Value',\n        hintValue: 'Enter Varaible Value'\n      });\n    }\n  }, {\n    key: \"gotoVariablePage\",\n    value: function gotoVariablePage() {\n      this.setState({\n        variableCode: '',\n        varCodeError: '',\n        variableValue: RichTextEditor.createEmptyValue(),\n        varValError: '',\n        openDialog: false,\n        dialogTitle: '',\n        hintValue: '',\n        textArea: 'hidden',\n        editor: 'show'\n      });\n    }\n  }, {\n    key: \"saveVariable\",\n    value: function saveVariable() {\n      var _this2 = this;\n\n      var varCode = this.state.variableCode.replace(/^\\s+|\\s+$/gm, '').trim();\n      var varVal = '';\n\n      if (this.state.editor === 'show') {\n        varVal = this.state.variableValue.toString('html'); // replace(/^\\s+|\\s+$/gm,'');\n      } else {\n        varVal = this.state.variableValue_forTextArea;\n      }\n\n      var varType = this.state.variableType.trim();\n      var id = this.state.varId;\n      var state = true;\n      var span = document.createElement('span');\n      span.innerHTML = varCode;\n      var codeText = span.textContent || span.innerText;\n      codeText = codeText.trim();\n\n      if (varCode !== '') {\n        this.setState({\n          varCodeError: ''\n        });\n      } else {\n        state = false;\n        this.setState({\n          varCodeError: 'Required'\n        });\n      }\n\n      if (varType === 'user') {\n        if (varVal !== '') {\n          this.setState({\n            varValError: ''\n          });\n        } else {\n          state = false;\n          this.setState({\n            varValError: 'Required'\n          });\n        }\n      } else {\n        varVal = '';\n      }\n\n      if (state) {\n        varCode = varCode.toLowerCase();\n\n        if (_.trim(varCode)[0] !== '#') {\n          varCode = '#' + varCode;\n        }\n\n        var variable = {\n          varCode: varCode,\n          varValue: varVal,\n          varType: varType\n        };\n        this.props.onSaveVariable(id, variable).then(function (data) {\n          _this2.setState({\n            variableCode: '',\n            variableValue: RichTextEditor.createEmptyValue(),\n            variableValue_forTextArea: '',\n            varId: ''\n          });\n\n          _this2.gotoVariablePage();\n        }).catch(function (error) {\n          _this2.setState({\n            variableCode: '',\n            variableValue: RichTextEditor.createEmptyValue(),\n            variableValue_forTextArea: ''\n          });\n        });\n      }\n    }\n  }, {\n    key: \"editVariable\",\n    value: function editVariable(data) {\n      this.setState(_defineProperty({\n        variableCode: data.name,\n        varCodeError: '',\n        variableValue: RichTextEditor.createValueFromString(data.value, 'html'),\n        variableValue_forTextArea: data.value,\n        varValError: '',\n        openDialog: true,\n        varId: data.id,\n        dialogTitle: 'Edit Variable',\n        floatingLabelCode: 'Variable Code',\n        hintCode: '',\n        floatingLabelValue: 'Variable Value'\n      }, \"hintCode\", ''));\n    }\n  }, {\n    key: \"deleteVariable\",\n    value: function deleteVariable(vari) {\n      this.props.onDeleteVariable(vari.id).then(function () {}).catch(function (error) {});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var actions = [React.createElement(FlatButton, {\n        label: \"BACK\",\n        primary: true,\n        onClick: this.gotoVariablePage.bind(this),\n        style: {\n          marginRight: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: \"Submit\",\n        primary: true,\n        onClick: this.saveVariable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      })];\n\n      var userVar = _.filter(this.props.variable.variable, function (o) {\n        return o.variable_type == 'user';\n      });\n\n      var systemVar = _.filter(this.props.variable.variable, function (o) {\n        return o.variable_type === 'system';\n      });\n\n      return React.createElement(\"div\", {\n        className: \"app-body\",\n        id: \"view\",\n        style: {\n          'marginTop': 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-12\",\n        style: {\n          'float': 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        className: \"add-variable-dialog\",\n        actionsContainerClassName: \"action-buttons\",\n        title: this.state.dialogTitle,\n        actions: actions,\n        modal: false,\n        open: this.state.openDialog,\n        onRequestClose: this.gotoVariablePage.bind(this),\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"add-variable-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        style: styles.formInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"variable-code\",\n        ref: \"value\",\n        floatingLabelText: this.state.floatingLabelCode,\n        floatingLabelFixed: true,\n        hintText: this.state.hintCode,\n        fullWidth: true,\n        errorText: this.state.varCodeError,\n        value: this.state.variableCode,\n        onChange: function onChange(e) {\n          _this3.setState({\n            variableCode: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: styles.formInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(RadioButtonGroup, {\n        name: \"shipSpeed\",\n        defaultSelected: \"richEditor\",\n        onChange: function onChange(e) {\n          _this3.changeEditor(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(RadioButton, {\n        className: \"headerFooter\",\n        value: \"textArea\",\n        label: \"Add header/footer\",\n        style: styles.radioButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), React.createElement(RadioButton, {\n        className: \"otherThanHeaderFooter\",\n        value: \"richEditor\",\n        label: \"Otherthen header/footer\",\n        style: styles.radioButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: styles.formInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          fontSize: '13px',\n          color: '#BFBFBF'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"Enter Variable Value\"), React.createElement(\"div\", {\n        className: this.state.editor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(RichTextEditor, {\n        style: styles.editorStyle,\n        value: this.state.variableValue,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.textArea,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        style: {\n          'width': '100%'\n        },\n        placeholder: \"Write html code for header/footer\",\n        className: \"form-control\",\n        rows: \"4\",\n        ref: \"client_address\",\n        onChange: function onChange(e) {\n          _this3.setState({\n            variableValue_forTextArea: e.target.value\n          });\n        },\n        value: this.state.variableValue_forTextArea,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          margin: '0px 4px 0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12\",\n        style: {\n          paddingTop: '16px',\n          paddingRight: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"md-btn md-raised m-b-sm indigo\",\n        id: \"add-new-variable\",\n        onClick: this.openCreateVariable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"Add New Variable\")), React.createElement(\"div\", {\n        className: this.state.paper,\n        style: {\n          'marginTop': '8%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table-responsive table-condensed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        zDepth: 1,\n        style: {\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"variable-list\",\n        fixedHeader: true,\n        fixedFooter: true,\n        onRowSelection: function onRowSelection(rowNumber) {\n          if (rowNumber.length == 1) {\n            _this3.editVariable(userVar[rowNumber]);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(TableHeader, {\n        adjustForCheckbox: false,\n        displaySelectAll: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(TableRowColumn, {\n        colSpan: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          float: 'left',\n          'marginLeft': '-5%',\n          'paddingTop': '1%',\n          'paddingBottom': '1%',\n          'paddingLeft': '5%',\n          'paddingRight': '3%',\n          'fontWeight': 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"User Variable(s)\"))), React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(TableRowColumn, {\n        colSpan: 1,\n        style: {\n          'fontWeight': 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, \"Variable code\"), React.createElement(TableRowColumn, {\n        colSpan: 1,\n        style: {\n          'fontWeight': 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, \"Variable value\"), React.createElement(TableRowColumn, {\n        colSpan: 1,\n        style: {\n          'fontWeight': 'bold',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(TableBody, {\n        className: \"variable-table-body\",\n        displayRowCheckbox: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, _.map(userVar, function (vari, i) {\n        return React.createElement(TableRow, {\n          id: vari.name.slice(1) + '_tr',\n          key: vari.id,\n          style: {\n            'cursor': 'pointer'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, React.createElement(TableRowColumn, {\n          colSpan: 1,\n          id: \"\".concat(vari.name.slice(1), \"_td'\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363\n          },\n          __self: this\n        }, vari.name), React.createElement(TableRowColumn, {\n          colSpan: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"p-l\",\n          dangerouslySetInnerHTML: {\n            __html: vari.value\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        })), React.createElement(TableRowColumn, {\n          colSpan: 1,\n          style: {\n            textAlign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          id: vari.name.slice(1) + '_button',\n          tooltip: \"Delete Variable\",\n          tooltipPosition: \"top-right\",\n          iconStyle: {\n            'color': '#B71C1C'\n          },\n          children: React.createElement(Delete, {\n            color: \"#B71C1C\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 372\n            },\n            __self: this\n          }),\n          onClick: function onClick(evt) {\n            evt.stopPropagation();\n\n            _this3.deleteVariable(vari);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        })));\n      })))), React.createElement(Paper, {\n        zDepth: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(Table, {\n        fixedHeader: true,\n        fixedFooter: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, React.createElement(TableHeader, {\n        adjustForCheckbox: false,\n        displaySelectAll: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, React.createElement(TableRowColumn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          float: 'left',\n          'marginLeft': '-5%',\n          'paddingTop': '1%',\n          'paddingBottom': '1%',\n          'paddingLeft': '5%',\n          'paddingRight': '3%',\n          'fontWeight': 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, \"System Variable(s)\"))), React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(TableRowColumn, {\n        colSpan: 1,\n        style: {\n          'fontWeight': 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"Variable code\"))), React.createElement(TableBody, {\n        displayRowCheckbox: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, _.map(systemVar, function (vari) {\n        return React.createElement(TableRow, {\n          key: vari.id,\n          style: {\n            'cursor': 'pointer'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411\n          },\n          __self: this\n        }, React.createElement(TableRowColumn, {\n          colSpan: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412\n          },\n          __self: this\n        }, vari.name));\n      })))))))))));\n    }\n  }]);\n\n  return Variables;\n}(React.Component);\n\nexport default Variables;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/templates/components/Variable.jsx"],"names":["React","connect","_","notify","CONFIG","LoadingIcon","TextField","FlatButton","RaisedButton","RadioButton","RadioButtonGroup","Dialog","Paper","IconButton","Delete","Table","TableBody","TableHeader","TableRow","TableRowColumn","RichTextEditor","styles","block","maxWidth","lable","fontWeight","fontSize","container","position","textAlign","paddingTop","formInput","radioButton","marginBottom","width","float","radioLabel","Variables","props","onIsAlreadyLogin","state","paper","openDialog","dialogTitle","variableType","variableCode","floatingLabelCode","hintCode","varCodeError","variableValue","createEmptyValue","variableValue_forTextArea","floatingLabelValue","hintValue","varValError","varId","editor","textArea","openCreateVariable","bind","saveVariable","deleteVariable","editVariable","onChange","changeEditor","window","scrollTo","loggedUser","isLoggedIn","history","push","data","role","ADMIN","HR","value","setState","e","target","varCode","replace","trim","varVal","toString","varType","id","span","document","createElement","innerHTML","codeText","textContent","innerText","toLowerCase","variable","varValue","onSaveVariable","then","gotoVariablePage","catch","error","name","createValueFromString","vari","onDeleteVariable","actions","marginRight","userVar","filter","o","variable_type","systemVar","color","editorStyle","margin","paddingRight","rowNumber","length","map","i","slice","__html","evt","stopPropagation","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport * as _ from 'lodash';\nimport {notify} from '../../../services/notify';\nimport {CONFIG} from '../../../config/index';\nimport LoadingIcon from '../../../components/generic/LoadingIcon';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\nimport Dialog from 'material-ui/Dialog';\nimport Paper from 'material-ui/Paper';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport {Table, TableBody, TableHeader, TableRow, TableRowColumn} from 'material-ui/Table';\nimport RichTextEditor from 'react-rte';\n\nconst styles = {\n  block: {\n    maxWidth: 250\n  },\n  lable: {\n    fontWeight: 'normal',\n    fontSize:   15\n  },\n  container: {\n    position:   'relative',\n    textAlign:  'center',\n    paddingTop: '200px'\n  },\n  formInput: {\n    'marginLeft':  '5%',\n    'marginRight': '5%',\n    'width':       '90%',\n    'paddingTop':  '10px',\n    'color':       'gray'\n  },\n  radioButton: {\n    marginBottom: 16,\n    width:        '50%',\n    float:        'left',\n    marginBottom: '0px',\n    marginTop:    '16px'\n  },\n  radioLabel: {\n    fontWeight: 300\n  }\n};\n\nclass Variables extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      paper:                     'show',\n      openDialog:                false,\n      dialogTitle:               '',\n      variableType:              'user',\n      variableCode:              '',\n      floatingLabelCode:         '',\n      hintCode:                  '',\n      varCodeError:              '',\n      variableValue:             RichTextEditor.createEmptyValue(),\n      variableValue_forTextArea: '',\n      floatingLabelValue:        '',\n      hintValue:                 '',\n      varValError:               '',\n      varId:                     '',\n      editor:                    'show',\n      textArea:                  'hidden'\n    };\n    this.openCreateVariable = this.openCreateVariable.bind(this);\n    this.saveVariable = this.saveVariable.bind(this);\n    this.deleteVariable = this.deleteVariable.bind(this);\n    this.editVariable = this.editVariable.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.changeEditor = this.changeEditor.bind(this);\n  }\n\n  componentWillReceiveProps (props) {\n    window.scrollTo(0, 0);\n\n    if (!props.loggedUser.isLoggedIn) {\n      this.props.history.push('/logout');\n    } else {\n      if (props.loggedUser.data.role === CONFIG.ADMIN || props.loggedUser.data.role === CONFIG.HR) {\n\n      } else {\n        this.props.history.push('/home');\n      }\n    }\n  }\n\n  onChange (value) {\n    this.setState({variableValue: value});\n  }\n  changeEditor (e) {\n    if (e.target.value === 'textArea') {\n      this.setState({\n        textArea: 'show',\n        editor:   'hidden'\n      });\n    } else {\n      this.setState({\n        textArea: 'hidden',\n        editor:   'show'\n      });\n    }\n  }\n  openCreateVariable () {\n    this.setState({\n      variableCode:              '',\n      varCodeError:              '',\n      variableValue:             RichTextEditor.createEmptyValue(),\n      variableValue_forTextArea: '',\n      varValError:               '',\n      openDialog:                true,\n      varId:                     '',\n      dialogTitle:               'Create Variable',\n      floatingLabelCode:         'Variable Code',\n      hintCode:                  'Enter Variable Code',\n      floatingLabelValue:        'Variable Value',\n      hintValue:                 'Enter Varaible Value'\n    });\n  }\n  gotoVariablePage () {\n    this.setState({\n      variableCode:  '',\n      varCodeError:  '',\n      variableValue: RichTextEditor.createEmptyValue(),\n      varValError:   '',\n      openDialog:    false,\n      dialogTitle:   '',\n      hintValue:     '',\n      textArea:      'hidden',\n      editor:        'show'\n    });\n  }\n  saveVariable () {\n    let varCode = this.state.variableCode.replace(/^\\s+|\\s+$/gm, '').trim();\n    let varVal = '';\n    if (this.state.editor === 'show') {\n      varVal = this.state.variableValue.toString('html'); // replace(/^\\s+|\\s+$/gm,'');\n    } else {\n      varVal = this.state.variableValue_forTextArea;\n    }\n    let varType = this.state.variableType.trim();\n    let id = this.state.varId;\n    let state = true;\n\n    var span = document.createElement('span');\n    span.innerHTML = varCode;\n    let codeText = span.textContent || span.innerText;\n    codeText = codeText.trim();\n\n    if (varCode !== '') {\n      this.setState({varCodeError: ''});\n    } else {\n      state = false;\n      this.setState({varCodeError: 'Required'});\n    }\n    if (varType === 'user') {\n      if (varVal !== '') {\n        this.setState({varValError: ''});\n      } else {\n        state = false;\n        this.setState({varValError: 'Required'});\n      }\n    } else {\n      varVal = '';\n    }\n    if (state) {\n      varCode = varCode.toLowerCase();\n      if (_.trim(varCode)[0] !== '#') {\n        varCode = '#' + varCode;\n      }\n      let variable = {\n        varCode:  varCode,\n        varValue: varVal,\n        varType:  varType\n      };\n      this.props.onSaveVariable(id, variable).then((data) => {\n        this.setState({\n          variableCode:              '',\n          variableValue:             RichTextEditor.createEmptyValue(),\n          variableValue_forTextArea: '',\n          varId:                     ''\n        });\n        this.gotoVariablePage();\n      }).catch((error) => {\n        this.setState({\n          variableCode:              '',\n          variableValue:             RichTextEditor.createEmptyValue(),\n          variableValue_forTextArea: ''\n        });\n      });\n    }\n  }\n  editVariable (data) {\n    this.setState({\n      variableCode:              data.name,\n      varCodeError:              '',\n      variableValue:             RichTextEditor.createValueFromString(data.value, 'html'),\n      variableValue_forTextArea: data.value,\n      varValError:               '',\n      openDialog:                true,\n      varId:                     data.id,\n      dialogTitle:               'Edit Variable',\n      floatingLabelCode:         'Variable Code',\n      hintCode:                  '',\n      floatingLabelValue:        'Variable Value',\n      hintCode:                  ''\n    });\n  }\n  deleteVariable (vari) {\n    this.props.onDeleteVariable(vari.id).then(() => {\n    }).catch((error) => {\n    });\n  }\n  render () {\n    const actions = [\n      <FlatButton\n        label=\"BACK\"\n        primary\n        onClick={this.gotoVariablePage.bind(this)}\n        style={{marginRight: 5}}\n            />,\n      <RaisedButton\n        label=\"Submit\"\n        primary\n        onClick={this.saveVariable}\n            />\n    ];\n    let userVar = _.filter(this.props.variable.variable, function (o) { return o.variable_type == 'user'; });\n    let systemVar = _.filter(this.props.variable.variable, function (o) { return o.variable_type === 'system'; });\n    return (\n      <div className=\"app-body\" id=\"view\" style={{'marginTop': 10}}>\n        <div className=\"col-xs-12 col-sm-12\" style={{'float': 'right'}}>\n          <Dialog\n            className=\"add-variable-dialog\"\n            actionsContainerClassName=\"action-buttons\"\n            title={this.state.dialogTitle}\n            actions={actions}\n            modal={false}\n            open={this.state.openDialog}\n            onRequestClose={this.gotoVariablePage.bind(this)}\n            autoScrollBodyContent\n            >\n            <div id=\"add-variable-form\">\n              <form className=\"form-inline\">\n                <div className=\"form-group\" style={styles.formInput}>\n                  <TextField\n                    className=\"variable-code\"\n                    ref='value'\n                    floatingLabelText={this.state.floatingLabelCode}\n                    floatingLabelFixed\n                    hintText={this.state.hintCode}\n                    fullWidth\n                    errorText={this.state.varCodeError}\n                    value={this.state.variableCode}\n                    onChange={(e) => {\n                      this.setState({\n                        variableCode: e.target.value\n                      });\n                    }}\n                    />\n                </div>\n                <div className=\"form-group\" style={styles.formInput}>\n                  <RadioButtonGroup name=\"shipSpeed\" defaultSelected=\"richEditor\" onChange={(e) => { this.changeEditor(e); }}>\n                    <RadioButton\n                      className=\"headerFooter\"\n                      value=\"textArea\"\n                      label=\"Add header/footer\"\n                      style={styles.radioButton}\n                      />\n                    <RadioButton\n                      className=\"otherThanHeaderFooter\"\n                      value=\"richEditor\"\n                      label=\"Otherthen header/footer\"\n                      style={styles.radioButton}\n                      />\n                  </RadioButtonGroup>\n                </div>\n                <div className=\"form-group\" style={styles.formInput}>\n                  <label style={{fontSize: '13px', color: '#BFBFBF'}}>Enter Variable Value</label>\n                  <div className={this.state.editor}>\n                    <RichTextEditor\n                      style={styles.editorStyle}\n                      value={this.state.variableValue}\n                      onChange={this.onChange}\n                      />\n                  </div>\n                  <div className={this.state.textArea}>\n                    <textarea\n                      style={{'width': '100%'}}\n                      placeholder=\"Write html code for header/footer\"\n                      className=\"form-control\"\n                      rows=\"4\"\n                      ref=\"client_address\"\n                      onChange={(e) => {\n                        this.setState({\n                          variableValue_forTextArea: e.target.value\n                        });\n                      }}\n                      value={this.state.variableValue_forTextArea}\n                      />\n                  </div>\n                </div>\n              </form>\n            </div>\n          </Dialog>\n\n          <div className=\"row\" style={{margin: '0px 4px 0px'}}>\n            <div className=\"col-xs-12\">\n              <div className='row'>\n                <div className='col-xs-12' style={{paddingTop: '16px', paddingRight: '0px'}}>\n                  <button\n                    className=\"md-btn md-raised m-b-sm indigo\"\n                    id=\"add-new-variable\"\n                    onClick={this.openCreateVariable}\n                    >Add New Variable</button>\n                </div>\n                <div className={this.state.paper} style={{'marginTop': '8%'}}>\n                  <div className=\"table-responsive table-condensed\">\n                  <Paper zDepth={1} style={{marginBottom: '10px'}} >\n                    <Table\n                      className = \"variable-list\"\n                      fixedHeader\n                      fixedFooter\n                      onRowSelection={\n                        (rowNumber) => {\n                          if (rowNumber.length == 1) {\n                            this.editVariable(userVar[rowNumber]);\n                          }\n                        }\n                      }\n                      >\n                      <TableHeader\n                        adjustForCheckbox={false}\n                        displaySelectAll={false}\n                        >\n                        <TableRow>\n                          <TableRowColumn colSpan=\"3\" >\n                            <h4 style={{float: 'left', 'marginLeft': '-5%', 'paddingTop': '1%', 'paddingBottom': '1%', 'paddingLeft': '5%', 'paddingRight': '3%', 'fontWeight': 'bold'}}>User Variable(s)</h4>\n                          </TableRowColumn>\n                        </TableRow>\n                        <TableRow>\n                          <TableRowColumn colSpan={1} style={{'fontWeight': 'bold'}}>Variable code</TableRowColumn>\n                          <TableRowColumn colSpan={1} style={{'fontWeight': 'bold'}}>Variable value</TableRowColumn>\n                          <TableRowColumn colSpan={1} style={{'fontWeight': 'bold', textAlign: 'center'}}>Delete</TableRowColumn>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody\n                          className=\"variable-table-body\"\n                        displayRowCheckbox={false}\n                        >\n                        {_.map(userVar, (vari, i) => (\n                          <TableRow\n                              id={vari.name.slice(1)+'_tr'}\n                              key={vari.id}\n                              style={{'cursor': 'pointer'}}\n                            >\n                            <TableRowColumn colSpan={1} id={`${vari.name.slice(1)}_td'`}>{vari.name}</TableRowColumn>\n                            <TableRowColumn colSpan={1}><div className=\"p-l\" dangerouslySetInnerHTML={{__html: vari.value}}></div></TableRowColumn>\n                            <TableRowColumn colSpan={1} style={{textAlign: 'center'}}>\n                              <IconButton\n                                id={vari.name.slice(1)+'_button'}\n                                tooltip=\"Delete Variable\"\n                                tooltipPosition=\"top-right\"\n                                iconStyle={{'color': '#B71C1C'}}\n                                children={\n                                  <Delete color='#B71C1C' />\n                                }\n                                onClick={\n                                  (evt) => {\n                                    evt.stopPropagation();\n                                    this.deleteVariable(vari);\n                                  }\n                                }\n                                />\n                            </TableRowColumn>\n                          </TableRow>\n                        )\n                      )\n                    }\n                      </TableBody>\n                    </Table>\n                  </Paper>\n                  <Paper zDepth={1} >\n                    <Table\n                      fixedHeader\n                      fixedFooter\n                      >\n                      <TableHeader\n                        adjustForCheckbox={false}\n                        displaySelectAll={false}\n                        >\n                        <TableRow>\n                          <TableRowColumn>\n                            <h4 style={{float: 'left', 'marginLeft': '-5%', 'paddingTop': '1%', 'paddingBottom': '1%', 'paddingLeft': '5%', 'paddingRight': '3%', 'fontWeight': 'bold'}}>System Variable(s)</h4>\n                          </TableRowColumn>\n                        </TableRow>\n                        <TableRow>\n                          <TableRowColumn colSpan={1} style={{'fontWeight': 'bold'}}>Variable code</TableRowColumn>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody\n                        displayRowCheckbox={false}\n                        >\n                        {_.map(systemVar, (vari) => (\n                          <TableRow key={vari.id} style={{'cursor': 'pointer'}} >\n                            <TableRowColumn colSpan={1} >{vari.name}</TableRowColumn>\n                          </TableRow>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  </Paper>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Variables;\n"]},"metadata":{},"sourceType":"module"}