{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/leave/containers/leavesSummary.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport Menu from '../../../components/generic/Menu';\nimport { isNotUserValid } from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport ViewLeavesSummary from '../../../components/leave/leavesSummary/ViewLeavesSummary';\nimport * as actions from '../../../redux/actions';\nimport * as actions_leavesSummary from '../../../redux/leave/actions/leavesSummary';\n\nvar LeavesSummary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LeavesSummary, _React$Component);\n\n  function LeavesSummary(props) {\n    var _this;\n\n    _classCallCheck(this, LeavesSummary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LeavesSummary).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      'defaultUserDisplay': '',\n      'daysummary_userid': '',\n      'daysummary_date': ''\n    };\n    return _this;\n  }\n\n  _createClass(LeavesSummary, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var d = new Date();\n      var year = d.getFullYear();\n      var month = d.getMonth() + 1; // +1 since getMonth starts from 0\n\n      this.props.on_all_leaves_summary(year, month);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      window.scrollTo(0, 0);\n      var isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n\n      if (isNotValid.status) {\n        this.props.history.push(isNotValid.redirectTo);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(Menu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"content\",\n        className: \"app-content box-shadow-z0\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(Header, {\n        pageTitle: 'Leaves Summary',\n        showLoading: this.props.frontend.show_loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(ViewLeavesSummary, {\n        componentData: this.props.leavesSummary,\n        on_all_leaves_summary: this.props.on_all_leaves_summary,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return LeavesSummary;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    leavesSummary: state.leavesSummary.toJS()\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIsAlreadyLogin: function onIsAlreadyLogin() {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    on_all_leaves_summary: function on_all_leaves_summary(year, month) {\n      return dispatch(actions_leavesSummary.get_all_leaves_summary(year, month));\n    }\n  };\n};\n\nvar VisibleLeavesSummary = connect(mapStateToProps, mapDispatchToProps)(LeavesSummary);\nvar RouterVisibleLeavesSummary = withRouter(VisibleLeavesSummary);\nexport default RouterVisibleLeavesSummary;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/leave/containers/leavesSummary.jsx"],"names":["React","connect","withRouter","Menu","isNotUserValid","Header","ViewLeavesSummary","actions","actions_leavesSummary","LeavesSummary","props","onIsAlreadyLogin","state","d","Date","year","getFullYear","month","getMonth","on_all_leaves_summary","window","scrollTo","isNotValid","location","pathname","loggedUser","status","history","push","redirectTo","frontend","show_loading","leavesSummary","Component","mapStateToProps","toJS","logged_user","userLogin","mapDispatchToProps","dispatch","isAlreadyLogin","get_all_leaves_summary","VisibleLeavesSummary","RouterVisibleLeavesSummary"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,OAAOC,IAAP,MAAiB,kCAAjB;AACA,SAAQC,cAAR,QAA6B,2BAA7B;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,iBAAP,MAA8B,2DAA9B;AACA,OAAO,KAAKC,OAAZ,MAAyB,wBAAzB;AACA,OAAO,KAAKC,qBAAZ,MAAuC,4CAAvC;;IAEMC,a;;;;;AACJ,yBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,uFAAMA,KAAN;;AACA,UAAKA,KAAL,CAAWC,gBAAX;;AACA,UAAKC,KAAL,GAAa;AACX,4BAAsB,EADX;AAEX,2BAAsB,EAFX;AAGX,yBAAsB;AAHX,KAAb;AAHkB;AAQnB;;;;yCACqB;AACpB,UAAIC,CAAC,GAAG,IAAIC,IAAJ,EAAR;AACA,UAAIC,IAAI,GAAGF,CAAC,CAACG,WAAF,EAAX;AACA,UAAIC,KAAK,GAAGJ,CAAC,CAACK,QAAF,KAAe,CAA3B,CAHoB,CAGU;;AAC9B,WAAKR,KAAL,CAAWS,qBAAX,CAAiCJ,IAAjC,EAAuCE,KAAvC;AACD;;;8CAC0BP,K,EAAO;AAChCU,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,UAAIC,UAAU,GAAGlB,cAAc,CAAC,KAAKM,KAAL,CAAWa,QAAX,CAAoBC,QAArB,EAA+Bd,KAAK,CAACe,UAArC,CAA/B;;AACA,UAAIH,UAAU,CAACI,MAAf,EAAuB;AACrB,aAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwBN,UAAU,CAACO,UAAnC;AACD;AACF;;;6BACS;AACR,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD,oBAAU,KAAKnB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAEE;AAAK,QAAA,EAAE,EAAC,SAAR;AAAkB,QAAA,SAAS,EAAC,2BAA5B;AAAwD,QAAA,IAAI,EAAC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAE,gBAAnB;AAAqC,QAAA,WAAW,EAAE,KAAKA,KAAL,CAAWoB,QAAX,CAAoBC,YAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,iBAAD;AAAmB,QAAA,aAAa,EAAE,KAAKrB,KAAL,CAAWsB,aAA7C;AAA4D,QAAA,qBAAqB,EAAE,KAAKtB,KAAL,CAAWS,qBAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,CADF;AASD;;;;EAjCyBnB,KAAK,CAACiC,S;;AAoClC,SAASC,eAAT,CAA0BtB,KAA1B,EAAiC;AAC/B,SAAO;AACLkB,IAAAA,QAAQ,EAAOlB,KAAK,CAACkB,QAAN,CAAeK,IAAf,EADV;AAELV,IAAAA,UAAU,EAAKb,KAAK,CAACwB,WAAN,CAAkBC,SAF5B;AAGLL,IAAAA,aAAa,EAAEpB,KAAK,CAACoB,aAAN,CAAoBG,IAApB;AAHV,GAAP;AAKD;;AACD,IAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACL5B,IAAAA,gBAAgB,EAAE,4BAAM;AACtB,aAAO4B,QAAQ,CAAChC,OAAO,CAACiC,cAAR,EAAD,CAAf;AACD,KAHI;AAILrB,IAAAA,qBAAqB,EAAE,+BAACJ,IAAD,EAAOE,KAAP,EAAiB;AACtC,aAAOsB,QAAQ,CAAC/B,qBAAqB,CAACiC,sBAAtB,CAA6C1B,IAA7C,EAAmDE,KAAnD,CAAD,CAAf;AACD;AANI,GAAP;AAQD,CATD;;AAWA,IAAMyB,oBAAoB,GAAGzC,OAAO,CAACiC,eAAD,EAAkBI,kBAAlB,CAAP,CAA6C7B,aAA7C,CAA7B;AAEA,IAAMkC,0BAA0B,GAAGzC,UAAU,CAACwC,oBAAD,CAA7C;AAEA,eAAeC,0BAAf","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport Menu from '../../../components/generic/Menu';\nimport {isNotUserValid} from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport ViewLeavesSummary from '../../../components/leave/leavesSummary/ViewLeavesSummary';\nimport * as actions from '../../../redux/actions';\nimport * as actions_leavesSummary from '../../../redux/leave/actions/leavesSummary';\n\nclass LeavesSummary extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      'defaultUserDisplay': '',\n      'daysummary_userid':  '',\n      'daysummary_date':    ''\n    };\n  }\n  componentWillMount () {\n    let d = new Date();\n    let year = d.getFullYear();\n    let month = d.getMonth() + 1; // +1 since getMonth starts from 0\n    this.props.on_all_leaves_summary(year, month);\n  }\n  componentWillReceiveProps (props) {\n    window.scrollTo(0, 0);\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n  }\n  render () {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'Leaves Summary'} showLoading={this.props.frontend.show_loading} />\n          <ViewLeavesSummary componentData={this.props.leavesSummary} on_all_leaves_summary={this.props.on_all_leaves_summary} />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps (state) {\n  return {\n    frontend:      state.frontend.toJS(),\n    loggedUser:    state.logged_user.userLogin,\n    leavesSummary: state.leavesSummary.toJS()\n  };\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    on_all_leaves_summary: (year, month) => {\n      return dispatch(actions_leavesSummary.get_all_leaves_summary(year, month));\n    }\n  };\n};\n\nconst VisibleLeavesSummary = connect(mapStateToProps, mapDispatchToProps)(LeavesSummary);\n\nconst RouterVisibleLeavesSummary = withRouter(VisibleLeavesSummary);\n\nexport default RouterVisibleLeavesSummary;\n"]},"metadata":{},"sourceType":"module"}