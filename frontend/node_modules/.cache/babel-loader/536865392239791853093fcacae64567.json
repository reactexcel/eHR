{"ast":null,"code":"var _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/components/inventory/DeviceCounterTab.jsx\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from 'lodash';\nimport DeviceCounter from \"./DeviceCounter\";\nimport style from \"../../styles/inventory/viewUser.scss\";\nimport { CSVLink } from 'react-csv';\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\"; //  import FormAddNewInventory from '/home/etech/Documents/ReactReduxHR/src/modules/inventory/components/AddInventory.jsx'\n\nvar DeviceCounterTab = function DeviceCounterTab(_ref) {\n  var statusList = _ref.statusList,\n      deviceCountList = _ref.deviceCountList,\n      history = _ref.history;\n  var total = 0;\n  var newDeviceCountData = [];\n  var headers = [{\n    label: 'Device Name',\n    key: 'deviceName'\n  }];\n  var datas = [];\n  var headerData = [];\n  console.log(deviceCountList, \"customerererere\");\n  Object.keys(deviceCountList).map(function (key) {\n    Object.keys(deviceCountList[key]).map(function (keys) {\n      headers.map(function (data) {\n        if (data.label !== keys) {\n          var modLabel = keys.split(\"_\").join(\" \");\n          var label = modLabel.charAt(0).toUpperCase() + modLabel.slice(1);\n          headerData.push({\n            label: label,\n            key: keys\n          });\n        }\n      });\n    });\n  });\n\n  var hdata = _.map(_.uniq(_.map(headerData, function (obj) {\n    return JSON.stringify(obj);\n  })), function (obj) {\n    return JSON.parse(obj);\n  });\n\n  var headersData = headers.concat(hdata);\n  Object.keys(deviceCountList).map(function (key) {\n    var deriveData = {\n      deviceName: key\n    };\n    Object.keys(deviceCountList[key]).map(function (keys) {\n      deriveData[keys] = deviceCountList[key][keys];\n    });\n    datas.push(deriveData);\n  });\n\n  for (var key in deviceCountList) {\n    if (deviceCountList.hasOwnProperty(key)) {\n      var deviceData = deviceCountList[key];\n      total = total + deviceData.total;\n      newDeviceCountData.push(React.createElement(DeviceCounter, {\n        key: key,\n        deviceData: deviceData,\n        deviceName: key,\n        history: history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }));\n    }\n  }\n\n  var statusList1 = statusList.map(function (val, i) {\n    return React.createElement(\"div\", {\n      className: \"col-xs-4 col-sm-4 col-md-3 col-lg-2\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"p-a\",\n      style: {\n        backgroundColor: val.color,\n        margin: \"2px 2px 2px 2px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"h-3x text-u-c _600 text-sm\",\n      style: {\n        paddingTop: \"20%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, val.status)));\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box p-a counter-tab\",\n    style: {\n      height: \"87px\",\n      marginTop: \"6%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pull-left m-r\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"w-48 rounded primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-pie-chart fa-lg\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"clear\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"m-a-0 text-lg _300\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \" Total Device \"), React.createElement(\"h1\", {\n    style: {\n      right: \"1%\",\n      bottom: \"20%\",\n      position: 'absolute',\n      color: \"#0E9BB1\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, total), React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      right: \"1%\",\n      bottom: \"2%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"\",\n    style: {\n      color: '#337ab7',\n      textDecoration: 'underline'\n    },\n    to: \"/audit_inventory_list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"View Audit History \"), React.createElement(\"span\", {\n    style: {\n      backgroundColor: \"black\",\n      width: \"2px\",\n      margin: \"0 6px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(CSVLink, {\n    data: datas,\n    headers: headersData,\n    filename: \"device-report-\".concat(moment().format(\"YYYY-MMMM-DD\"), \".csv\"),\n    style: {\n      color: '#337ab7',\n      textDecoration: 'underline'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Download Report\")))))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, newDeviceCountData));\n};\n\nDeviceCounterTab.propTypes = {\n  statusList: PropTypes.array.isRequired\n};\nexport default DeviceCounterTab;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/components/inventory/DeviceCounterTab.jsx"],"names":["React","PropTypes","_","DeviceCounter","style","CSVLink","moment","Link","DeviceCounterTab","statusList","deviceCountList","history","total","newDeviceCountData","headers","label","key","datas","headerData","console","log","Object","keys","map","data","modLabel","split","join","charAt","toUpperCase","slice","push","hdata","uniq","obj","JSON","stringify","parse","headersData","concat","deriveData","deviceName","hasOwnProperty","deviceData","statusList1","val","i","backgroundColor","color","margin","paddingTop","status","height","marginTop","right","bottom","position","textDecoration","width","format","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from 'lodash';\nimport DeviceCounter from \"./DeviceCounter\";\nimport style from \"../../styles/inventory/viewUser.scss\";\nimport {CSVLink} from 'react-csv';\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\";\n//  import FormAddNewInventory from '/home/etech/Documents/ReactReduxHR/src/modules/inventory/components/AddInventory.jsx'\n\n\n\nconst DeviceCounterTab = ({ statusList, deviceCountList, history }) => {\n  let total = 0;\n  let newDeviceCountData = [];\n  let headers = [\n    {label: 'Device Name', key: 'deviceName'},\n  ];\n  let datas =[];\n  let headerData=[];\n  console.log(deviceCountList,\"customerererere\")\n  Object.keys(deviceCountList).map((key)=>{\n    Object.keys(deviceCountList[key]).map((keys)=>{\n      headers.map((data)=>{\n        if(data.label !== keys){\n          let modLabel = keys.split(\"_\").join(\" \");\n          let label = modLabel.charAt(0).toUpperCase() + modLabel.slice(1)\n            headerData.push({\n            label: label,\n            key:keys\n          })\n        }\n      })\n    });\n  });\n  let hdata =  _.map(\n    _.uniq(\n        _.map(headerData, function(obj){\n            return JSON.stringify(obj);\n        })\n    ), function(obj) {\n        return JSON.parse(obj);\n    }\n  );\n    let headersData = headers.concat(hdata);\n    Object.keys(deviceCountList).map((key)=>{\n      let deriveData = {\n        deviceName:key,\n      }\n      Object.keys(deviceCountList[key]).map((keys)=>{\n           deriveData[keys] = deviceCountList[key][keys]\n      });\n      datas.push(deriveData);\n    });\n\n  for (var key in deviceCountList) {\n    if (deviceCountList.hasOwnProperty(key)) {\n      let deviceData = deviceCountList[key];\n      total = total + deviceData.total;\n      newDeviceCountData.push(\n        <DeviceCounter\n        key={key}\n          deviceData={deviceData}\n          deviceName={key}\n          history={history}\n          />\n        );\n      }\n    }\n  let statusList1 = statusList.map((val, i) => {\n    return (\n      <div className=\"col-xs-4 col-sm-4 col-md-3 col-lg-2\" key={i}>\n        <div\n          className=\"p-a\"\n          style={{ backgroundColor: val.color, margin: \"2px 2px 2px 2px\" }}\n        >\n          <h4 />\n          <div\n            className=\"h-3x text-u-c _600 text-sm\"\n            style={{ paddingTop: \"20%\" }}\n          >\n            {val.status}\n          </div>\n        </div>\n      </div>\n    );\n  });\n  return (\n    <div>\n      <div className=\"col-xs-12\">\n        <div className=\"row\">\n          <div\n            className=\"box p-a counter-tab\"\n            style={{ height: \"87px\", marginTop: \"6%\" }}\n          >\n            <div className=\"pull-left m-r\">\n              <span className=\"w-48 rounded primary\">\n                <i className=\"fa fa-pie-chart fa-lg\" aria-hidden=\"true\" />\n              </span>\n            </div>\n            <div className=\"clear\">\n              <h4 className=\"m-a-0 text-lg _300\" />\n              <small className=\"text-muted\"> Total Device </small>\n              <h1 style={{ right:\"1%\",bottom:\"20%\",position:'absolute' , color: \"#0E9BB1\" }}>{total}</h1>\n              <div style={{position: \"absolute\", right: \"1%\", bottom: \"2%\"}}>\n                <Link className=\"\" style={{color:'#337ab7', textDecoration:'underline' }} to=\"/audit_inventory_list\">View Audit History </Link>\n                <span style={{backgroundColor: \"black\", width: \"2px\", margin: \"0 6px\"}}></span>\n                <CSVLink data={datas} headers={headersData} filename={`device-report-${moment().format(\"YYYY-MMMM-DD\")}.csv`} style={{color:'#337ab7',textDecoration:'underline'}} >\n                  Download Report\n                </CSVLink>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* <div className=\"col-xs-12\">\n        <div className='row'>\n          <div className=\"box\"> */}\n      {/* <div className=\"box-header\">\n              <small className=\"text-muted\"> Device Status Overview </small>\n            </div> */}\n      {/* <div className=\"box-body\">\n              <div className=\"row no-gutter m-b text-xs l-h-1x\">\n                <div className=\"row\"> */}\n      {/* {statusList1} */}\n      {/* </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div> */}\n      <div className=\"row\">{newDeviceCountData}</div>\n    </div>\n  );\n};\n\nDeviceCounterTab.propTypes = {\n  statusList: PropTypes.array.isRequired\n};\n\nexport default DeviceCounterTab;\n"]},"metadata":{},"sourceType":"module"}