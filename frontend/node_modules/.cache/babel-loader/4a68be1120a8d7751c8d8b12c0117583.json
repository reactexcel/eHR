{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/containers/disabledEmployes.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport _ from 'lodash';\nimport Menu from '../../../components/generic/Menu';\nimport { isNotUserValid } from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport UsersList from '../../../components/generic/UsersList';\nimport UsersListHeader from '../../../components/generic/UsersListHeader';\nimport DisabledUserDetails from '../../../components/manageUser/DisabledUserDetails';\nimport UserPayslipsHistory from '../../../components/salary/managePayslips/UserPayslipsHistory';\nimport UpdateEmployeeDocument from '../../../modules/manageUsers/components/UpdateEmployeeDocument';\nimport * as actions from '../../../redux/actions';\nimport * as actionsDisabledEmployee from '../../../redux/generic/actions/usersList';\nimport * as actionsManageUsers from '../../../redux/manageUsers/actions/manageUsers';\nimport * as actionsManagePayslips from '../../../redux/salary/actions/managePayslips';\n\nvar PageDisabledEmployes =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDisabledEmployes, _React$Component);\n\n  function PageDisabledEmployes(props) {\n    var _this;\n\n    _classCallCheck(this, PageDisabledEmployes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDisabledEmployes).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      disabled_users: [],\n      'defaultUserDisplay': '',\n      'selected_user_name': '',\n      'f_char': '',\n      'selected_user_jobtitle': '',\n      'selected_user_id': '',\n      'userDetails': '',\n      key: 0,\n      user_documents: {},\n      user_payslip_history: []\n    };\n    _this.onUserClick = _this.onUserClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeEmployeeStatus = _this.changeEmployeeStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PageDisabledEmployes, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      window.scrollTo(0, 0);\n      this.props.onFetchDisabledEmployee();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      window.scrollTo(0, 0);\n      var isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n\n      if (isNotValid.status) {\n        this.props.history.push(isNotValid.redirectTo);\n      }\n\n      this.setState({\n        user_payslip_history: props.managePayslips.user_payslip_history,\n        user_documents: props.manageUsers.user_documents\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.state.defaultUserDisplay === '') {\n        if (this.props.usersList.disabled_users.length > 0) {\n          var userList = this.props.usersList.disabled_users;\n          var firstUser = userList[this.state.key];\n\n          if (firstUser === undefined) {\n            firstUser = userList[0];\n          }\n\n          this.onUserClick(firstUser);\n        }\n      }\n    }\n  }, {\n    key: \"onUserClick\",\n    value: function onUserClick(firstUser) {\n      window.scrollTo(0, 0);\n      this.setState({\n        'defaultUserDisplay': firstUser.user_Id,\n        'selected_user_name': firstUser.name,\n        'f_char': firstUser.name.charAt(0),\n        'selected_user_jobtitle': firstUser.jobtitle,\n        'selected_user_id': firstUser.user_Id,\n        'userDetails': firstUser\n      });\n      this.props.onGetUserDocument(firstUser.user_Id);\n      this.props.onUserManagePayslipsData(firstUser.user_Id);\n    }\n  }, {\n    key: \"changeEmployeeStatus\",\n    value: function changeEmployeeStatus(userid, status) {\n      var _this2 = this;\n\n      this.props.onChangeEmployeeStatus(userid, status).then(function () {\n        _this2.props.onFetchDisabledEmployee();\n\n        if (_this2.props.usersList.disabled_users.length > 0) {\n          var userList = _this2.props.usersList.disabled_users;\n          var firstUser = userList[0];\n\n          _this2.onUserClick(firstUser);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var disabledUsers = _.orderBy(this.props.usersList.disabled_users, 'user_Id', 'asc');\n\n      var userDetails = '';\n\n      if (!_.isEmpty(this.state.userDetails)) {\n        userDetails = React.createElement(DisabledUserDetails, {\n          userDetails: this.state.userDetails,\n          changeEmployeeStatus: this.changeEmployeeStatus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Menu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"content\",\n        className: \"app-content box-shadow-z0\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Header, {\n        pageTitle: 'Disabled Employees',\n        showLoading: this.props.frontend.show_loading,\n        userListHeader: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(UsersListHeader, {\n        disabledUser: true,\n        users: disabledUsers,\n        selectedUserId: this.state.selected_user_id,\n        onUserClick: this.onUserClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"app-body\",\n        id: \"view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-t p-x\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3 hidden-xs\",\n        id: \"fixedScroll\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(UsersList, {\n        disabledUser: true,\n        users: disabledUsers,\n        selectedUserId: this.state.selected_user_id,\n        onUserClick: this.onUserClick,\n        top: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-9 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12 p-y-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"User Details\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"box-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, userDetails)), React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-6 col-md-6 profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Previous Payslips\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(UserPayslipsHistory, {\n        user_payslip_history: this.state.user_payslip_history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-xs-6 col-md-6 profile-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(UpdateEmployeeDocument, Object.assign({\n        disabled: true,\n        user_documents: this.state.user_documents,\n        user_id: this.state.selected_user_id,\n        onUpdatedocuments: this.props.onUpdatedocuments\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))))))))))));\n    }\n  }]);\n\n  return PageDisabledEmployes;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS(),\n    managePayslips: state.managePayslips.toJS(),\n    manageUsers: state.manageUsers.toJS()\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIsAlreadyLogin: function onIsAlreadyLogin() {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onFetchDisabledEmployee: function onFetchDisabledEmployee() {\n      return dispatch(actionsDisabledEmployee.getDisabledUsersList());\n    },\n    onChangeEmployeeStatus: function onChangeEmployeeStatus(userid, status) {\n      return dispatch(actionsManageUsers.changeEmployeeStatus(userid, status));\n    },\n    onDeleteDocument: function onDeleteDocument(docId) {\n      return dispatch(actionsManageUsers.deleteDocument(docId));\n    },\n    onGetUserDocument: function onGetUserDocument(userid) {\n      return dispatch(actionsManageUsers.getUserDocument(userid));\n    },\n    onUserManagePayslipsData: function onUserManagePayslipsData(userid) {\n      return dispatch(actionsManagePayslips.get_user_manage_payslips_data(userid));\n    }\n  };\n};\n\nvar VisiblePageDisabledEmployes = connect(mapStateToProps, mapDispatchToProps)(PageDisabledEmployes);\nvar RouterVisiblePageDisabledEmployes = withRouter(VisiblePageDisabledEmployes);\nexport default RouterVisiblePageDisabledEmployes;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/containers/disabledEmployes.jsx"],"names":["React","connect","withRouter","_","Menu","isNotUserValid","Header","UsersList","UsersListHeader","DisabledUserDetails","UserPayslipsHistory","UpdateEmployeeDocument","actions","actionsDisabledEmployee","actionsManageUsers","actionsManagePayslips","PageDisabledEmployes","props","onIsAlreadyLogin","state","disabled_users","key","user_documents","user_payslip_history","onUserClick","bind","changeEmployeeStatus","window","scrollTo","onFetchDisabledEmployee","isNotValid","location","pathname","loggedUser","status","history","push","redirectTo","setState","managePayslips","manageUsers","defaultUserDisplay","usersList","length","userList","firstUser","undefined","user_Id","name","charAt","jobtitle","onGetUserDocument","onUserManagePayslipsData","userid","onChangeEmployeeStatus","then","disabledUsers","orderBy","userDetails","isEmpty","frontend","show_loading","selected_user_id","onUpdatedocuments","Component","mapStateToProps","toJS","logged_user","userLogin","mapDispatchToProps","dispatch","isAlreadyLogin","getDisabledUsersList","onDeleteDocument","docId","deleteDocument","getUserDocument","get_user_manage_payslips_data","VisiblePageDisabledEmployes","RouterVisiblePageDisabledEmployes"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,IAAP,MAAiB,kCAAjB;AACA,SAAQC,cAAR,QAA6B,2BAA7B;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,SAAP,MAAsB,uCAAtB;AACA,OAAOC,eAAP,MAA4B,6CAA5B;AACA,OAAOC,mBAAP,MAAgC,oDAAhC;AACA,OAAOC,mBAAP,MAAgC,+DAAhC;AACA,OAAOC,sBAAP,MAAmC,gEAAnC;AACA,OAAO,KAAKC,OAAZ,MAAyB,wBAAzB;AACA,OAAO,KAAKC,uBAAZ,MAAyC,0CAAzC;AACA,OAAO,KAAKC,kBAAZ,MAAoC,gDAApC;AACA,OAAO,KAAKC,qBAAZ,MAAuC,8CAAvC;;IAEMC,oB;;;;;AACJ,gCAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,8FAAMA,KAAN;;AACA,UAAKA,KAAL,CAAWC,gBAAX;;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,cAAc,EAAY,EADf;AAEX,4BAA0B,EAFf;AAGX,4BAA0B,EAHf;AAIX,gBAA0B,EAJf;AAKX,gCAA0B,EALf;AAMX,0BAA0B,EANf;AAOX,qBAA0B,EAPf;AAQXC,MAAAA,GAAG,EAAuB,CARf;AASXC,MAAAA,cAAc,EAAY,EATf;AAUXC,MAAAA,oBAAoB,EAAM;AAVf,KAAb;AAYA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AACA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BD,IAA1B,uDAA5B;AAhBkB;AAiBnB;;;;yCACqB;AACpBE,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,WAAKX,KAAL,CAAWY,uBAAX;AACD;;;8CAC0BZ,K,EAAO;AAChCU,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,UAAIE,UAAU,GAAGzB,cAAc,CAAC,KAAKY,KAAL,CAAWc,QAAX,CAAoBC,QAArB,EAA+Bf,KAAK,CAACgB,UAArC,CAA/B;;AACA,UAAIH,UAAU,CAACI,MAAf,EAAuB;AACrB,aAAKjB,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwBN,UAAU,CAACO,UAAnC;AACD;;AACD,WAAKC,QAAL,CAAc;AACZf,QAAAA,oBAAoB,EAAEN,KAAK,CAACsB,cAAN,CAAqBhB,oBAD/B;AAEZD,QAAAA,cAAc,EAAQL,KAAK,CAACuB,WAAN,CAAkBlB;AAF5B,OAAd;AAID;;;yCACqB;AACpB,UAAI,KAAKH,KAAL,CAAWsB,kBAAX,KAAkC,EAAtC,EAA0C;AACxC,YAAI,KAAKxB,KAAL,CAAWyB,SAAX,CAAqBtB,cAArB,CAAoCuB,MAApC,GAA6C,CAAjD,EAAoD;AAClD,cAAIC,QAAQ,GAAG,KAAK3B,KAAL,CAAWyB,SAAX,CAAqBtB,cAApC;AACA,cAAIyB,SAAS,GAAGD,QAAQ,CAAC,KAAKzB,KAAL,CAAWE,GAAZ,CAAxB;;AACA,cAAIwB,SAAS,KAAKC,SAAlB,EAA6B;AAC3BD,YAAAA,SAAS,GAAGD,QAAQ,CAAC,CAAD,CAApB;AACD;;AACD,eAAKpB,WAAL,CAAiBqB,SAAjB;AACD;AACF;AACF;;;gCACYA,S,EAAW;AACtBlB,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,WAAKU,QAAL,CAAc;AACZ,8BAA0BO,SAAS,CAACE,OADxB;AAEZ,8BAA0BF,SAAS,CAACG,IAFxB;AAGZ,kBAA0BH,SAAS,CAACG,IAAV,CAAeC,MAAf,CAAsB,CAAtB,CAHd;AAIZ,kCAA0BJ,SAAS,CAACK,QAJxB;AAKZ,4BAA0BL,SAAS,CAACE,OALxB;AAMZ,uBAA0BF;AANd,OAAd;AAQA,WAAK5B,KAAL,CAAWkC,iBAAX,CAA6BN,SAAS,CAACE,OAAvC;AACA,WAAK9B,KAAL,CAAWmC,wBAAX,CAAoCP,SAAS,CAACE,OAA9C;AACD;;;yCACqBM,M,EAAQnB,M,EAAQ;AAAA;;AACpC,WAAKjB,KAAL,CAAWqC,sBAAX,CAAkCD,MAAlC,EAA0CnB,MAA1C,EAAkDqB,IAAlD,CAAuD,YAAM;AAC3D,QAAA,MAAI,CAACtC,KAAL,CAAWY,uBAAX;;AACA,YAAI,MAAI,CAACZ,KAAL,CAAWyB,SAAX,CAAqBtB,cAArB,CAAoCuB,MAApC,GAA6C,CAAjD,EAAoD;AAClD,cAAIC,QAAQ,GAAG,MAAI,CAAC3B,KAAL,CAAWyB,SAAX,CAAqBtB,cAApC;AACA,cAAIyB,SAAS,GAAGD,QAAQ,CAAC,CAAD,CAAxB;;AACA,UAAA,MAAI,CAACpB,WAAL,CAAiBqB,SAAjB;AACD;AACF,OAPD;AAQD;;;6BACS;AACR,UAAIW,aAAa,GAAGrD,CAAC,CAACsD,OAAF,CAAU,KAAKxC,KAAL,CAAWyB,SAAX,CAAqBtB,cAA/B,EAA+C,SAA/C,EAA0D,KAA1D,CAApB;;AACA,UAAIsC,WAAW,GAAG,EAAlB;;AACA,UAAI,CAACvD,CAAC,CAACwD,OAAF,CAAU,KAAKxC,KAAL,CAAWuC,WAArB,CAAL,EAAwC;AACtCA,QAAAA,WAAW,GAAG,oBAAC,mBAAD;AAAqB,UAAA,WAAW,EAAE,KAAKvC,KAAL,CAAWuC,WAA7C;AAA0D,UAAA,oBAAoB,EAAE,KAAKhC,oBAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;AACD;;AACD,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD,oBAAU,KAAKT,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAEE;AAAK,QAAA,EAAE,EAAC,SAAR;AAAkB,QAAA,SAAS,EAAC,2BAA5B;AAAwD,QAAA,IAAI,EAAC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAE,oBAAnB;AAAyC,QAAA,WAAW,EAAE,KAAKA,KAAL,CAAW2C,QAAX,CAAoBC,YAA1E;AAAwF,QAAA,cAAc,MAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,eAAD;AAAiB,QAAA,YAAY,MAA7B;AAA8B,QAAA,KAAK,EAAEL,aAArC;AAAoD,QAAA,cAAc,EAAE,KAAKrC,KAAL,CAAW2C,gBAA/E;AAAiG,QAAA,WAAW,EAAE,KAAKtC,WAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAK,QAAA,SAAS,EAAC,UAAf;AAA0B,QAAA,EAAE,EAAC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAoC,QAAA,EAAE,EAAC,aAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,YAAY,MAAvB;AAAwB,QAAA,KAAK,EAAEgC,aAA/B;AAA8C,QAAA,cAAc,EAAE,KAAKrC,KAAL,CAAW2C,gBAAzE;AAA2F,QAAA,WAAW,EAAE,KAAKtC,WAA7G;AAA0H,QAAA,GAAG,EAAE,CAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkC;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAlC,EAA+E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA/E,CADF,EAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BkC,WAA3B,CAFF,CADF,EAKE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,mBAAD;AAAqB,QAAA,oBAAoB,EAAE,KAAKvC,KAAL,CAAWI,oBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF,EAME;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,sBAAD;AACE,QAAA,QAAQ,MADV;AACW,QAAA,cAAc,EAAE,KAAKJ,KAAL,CAAWG,cADtC;AAEE,QAAA,OAAO,EAAE,KAAKH,KAAL,CAAW2C,gBAFtB;AAGE,QAAA,iBAAiB,EAAE,KAAK7C,KAAL,CAAW8C;AAHhC,SAIM,KAAK9C,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,CANF,CADF,CADF,CALF,CAJF,CADF,CADF,CAHF,CAFF,CADF;AA0CD;;;;EArHgCjB,KAAK,CAACgE,S;;AAwHzC,SAASC,eAAT,CAA0B9C,KAA1B,EAAiC;AAC/B,SAAO;AACLyC,IAAAA,QAAQ,EAAQzC,KAAK,CAACyC,QAAN,CAAeM,IAAf,EADX;AAELjC,IAAAA,UAAU,EAAMd,KAAK,CAACgD,WAAN,CAAkBC,SAF7B;AAGL1B,IAAAA,SAAS,EAAOvB,KAAK,CAACuB,SAAN,CAAgBwB,IAAhB,EAHX;AAIL3B,IAAAA,cAAc,EAAEpB,KAAK,CAACoB,cAAN,CAAqB2B,IAArB,EAJX;AAKL1B,IAAAA,WAAW,EAAKrB,KAAK,CAACqB,WAAN,CAAkB0B,IAAlB;AALX,GAAP;AAOD;;AACD,IAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACLpD,IAAAA,gBAAgB,EAAU,4BAAM;AAAE,aAAOoD,QAAQ,CAAC1D,OAAO,CAAC2D,cAAR,EAAD,CAAf;AAA4C,KADzE;AAEL1C,IAAAA,uBAAuB,EAAG,mCAAM;AAAE,aAAOyC,QAAQ,CAACzD,uBAAuB,CAAC2D,oBAAxB,EAAD,CAAf;AAAkE,KAF/F;AAGLlB,IAAAA,sBAAsB,EAAI,gCAACD,MAAD,EAASnB,MAAT,EAAoB;AAAE,aAAOoC,QAAQ,CAACxD,kBAAkB,CAACY,oBAAnB,CAAwC2B,MAAxC,EAAgDnB,MAAhD,CAAD,CAAf;AAA2E,KAHtH;AAILuC,IAAAA,gBAAgB,EAAU,0BAACC,KAAD,EAAW;AAAE,aAAOJ,QAAQ,CAACxD,kBAAkB,CAAC6D,cAAnB,CAAkCD,KAAlC,CAAD,CAAf;AAA4D,KAJ9F;AAKLvB,IAAAA,iBAAiB,EAAS,2BAACE,MAAD,EAAY;AAAE,aAAOiB,QAAQ,CAACxD,kBAAkB,CAAC8D,eAAnB,CAAmCvB,MAAnC,CAAD,CAAf;AAA8D,KALjG;AAMLD,IAAAA,wBAAwB,EAAE,kCAACC,MAAD,EAAY;AAAE,aAAOiB,QAAQ,CAACvD,qBAAqB,CAAC8D,6BAAtB,CAAoDxB,MAApD,CAAD,CAAf;AAA+E;AANlH,GAAP;AAQD,CATD;;AAWA,IAAMyB,2BAA2B,GAAG7E,OAAO,CAACgE,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CrD,oBAA7C,CAApC;AAEA,IAAM+D,iCAAiC,GAAG7E,UAAU,CAAC4E,2BAAD,CAApD;AAEA,eAAeC,iCAAf","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport _ from 'lodash';\nimport Menu from '../../../components/generic/Menu';\nimport {isNotUserValid} from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport UsersList from '../../../components/generic/UsersList';\nimport UsersListHeader from '../../../components/generic/UsersListHeader';\nimport DisabledUserDetails from '../../../components/manageUser/DisabledUserDetails';\nimport UserPayslipsHistory from '../../../components/salary/managePayslips/UserPayslipsHistory';\nimport UpdateEmployeeDocument from '../../../modules/manageUsers/components/UpdateEmployeeDocument';\nimport * as actions from '../../../redux/actions';\nimport * as actionsDisabledEmployee from '../../../redux/generic/actions/usersList';\nimport * as actionsManageUsers from '../../../redux/manageUsers/actions/manageUsers';\nimport * as actionsManagePayslips from '../../../redux/salary/actions/managePayslips';\n\nclass PageDisabledEmployes extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      disabled_users:           [],\n      'defaultUserDisplay':     '',\n      'selected_user_name':     '',\n      'f_char':                 '',\n      'selected_user_jobtitle': '',\n      'selected_user_id':       '',\n      'userDetails':            '',\n      key:                      0,\n      user_documents:           {},\n      user_payslip_history:     []\n    };\n    this.onUserClick = this.onUserClick.bind(this);\n    this.changeEmployeeStatus = this.changeEmployeeStatus.bind(this);\n  }\n  componentWillMount () {\n    window.scrollTo(0, 0);\n    this.props.onFetchDisabledEmployee();\n  }\n  componentWillReceiveProps (props) {\n    window.scrollTo(0, 0);\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n    this.setState({\n      user_payslip_history: props.managePayslips.user_payslip_history,\n      user_documents:       props.manageUsers.user_documents\n    });\n  }\n  componentDidUpdate () {\n    if (this.state.defaultUserDisplay === '') {\n      if (this.props.usersList.disabled_users.length > 0) {\n        let userList = this.props.usersList.disabled_users;\n        let firstUser = userList[this.state.key];\n        if (firstUser === undefined) {\n          firstUser = userList[0];\n        }\n        this.onUserClick(firstUser);\n      }\n    }\n  }\n  onUserClick (firstUser) {\n    window.scrollTo(0, 0);\n    this.setState({\n      'defaultUserDisplay':     firstUser.user_Id,\n      'selected_user_name':     firstUser.name,\n      'f_char':                 firstUser.name.charAt(0),\n      'selected_user_jobtitle': firstUser.jobtitle,\n      'selected_user_id':       firstUser.user_Id,\n      'userDetails':            firstUser\n    });\n    this.props.onGetUserDocument(firstUser.user_Id);\n    this.props.onUserManagePayslipsData(firstUser.user_Id);\n  }\n  changeEmployeeStatus (userid, status) {\n    this.props.onChangeEmployeeStatus(userid, status).then(() => {\n      this.props.onFetchDisabledEmployee();\n      if (this.props.usersList.disabled_users.length > 0) {\n        let userList = this.props.usersList.disabled_users;\n        let firstUser = userList[0];\n        this.onUserClick(firstUser);\n      }\n    });\n  }\n  render () {\n    let disabledUsers = _.orderBy(this.props.usersList.disabled_users, 'user_Id', 'asc');\n    let userDetails = '';\n    if (!_.isEmpty(this.state.userDetails)) {\n      userDetails = <DisabledUserDetails userDetails={this.state.userDetails} changeEmployeeStatus={this.changeEmployeeStatus} />;\n    }\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'Disabled Employees'} showLoading={this.props.frontend.show_loading} userListHeader />\n          <UsersListHeader disabledUser users={disabledUsers} selectedUserId={this.state.selected_user_id} onUserClick={this.onUserClick} />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"p-t p-x\">\n              <div className=\"row\">\n                <div className=\"col-sm-3 hidden-xs\" id=\"fixedScroll\">\n                  <UsersList disabledUser users={disabledUsers} selectedUserId={this.state.selected_user_id} onUserClick={this.onUserClick} top={5} />\n                </div>\n                <div className=\"col-sm-9 col-xs-12\">\n                  <div className=\"box\">\n                    <div className=\"col-xs-12 p-y-sm\"><h6 className=\"text-center\">User Details</h6><hr /></div>\n                    <div className=\"box-body\">{userDetails}</div>\n                  </div>\n                  <div className=\"box\">\n                    <div className=\"box-body\">\n                      <div className=\"row\">\n                        <div className=\"col-xs-6 col-md-6 profile-input\">\n                          <h6 className=\"text-center\">Previous Payslips</h6>\n                          <hr />\n                          <UserPayslipsHistory user_payslip_history={this.state.user_payslip_history} />\n                        </div>\n                        <div className=\"col-xs-6 col-md-6 profile-input\">\n                          <UpdateEmployeeDocument\n                            disabled user_documents={this.state.user_documents}\n                            user_id={this.state.selected_user_id}\n                            onUpdatedocuments={this.props.onUpdatedocuments}\n                            {...this.props} />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps (state) {\n  return {\n    frontend:       state.frontend.toJS(),\n    loggedUser:     state.logged_user.userLogin,\n    usersList:      state.usersList.toJS(),\n    managePayslips: state.managePayslips.toJS(),\n    manageUsers:    state.manageUsers.toJS()\n  };\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onIsAlreadyLogin:         () => { return dispatch(actions.isAlreadyLogin()); },\n    onFetchDisabledEmployee:  () => { return dispatch(actionsDisabledEmployee.getDisabledUsersList()); },\n    onChangeEmployeeStatus:   (userid, status) => { return dispatch(actionsManageUsers.changeEmployeeStatus(userid, status)); },\n    onDeleteDocument:         (docId) => { return dispatch(actionsManageUsers.deleteDocument(docId)); },\n    onGetUserDocument:        (userid) => { return dispatch(actionsManageUsers.getUserDocument(userid)); },\n    onUserManagePayslipsData: (userid) => { return dispatch(actionsManagePayslips.get_user_manage_payslips_data(userid)); }\n  };\n};\n\nconst VisiblePageDisabledEmployes = connect(mapStateToProps, mapDispatchToProps)(PageDisabledEmployes);\n\nconst RouterVisiblePageDisabledEmployes = withRouter(VisiblePageDisabledEmployes);\n\nexport default RouterVisiblePageDisabledEmployes;\n"]},"metadata":{},"sourceType":"module"}