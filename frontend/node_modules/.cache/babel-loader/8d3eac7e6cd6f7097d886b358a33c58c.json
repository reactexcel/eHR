{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/workingHours/containers/manageUserWorkingHours.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { notify } from '../../../services/notify';\nimport Menu from '../../../components/generic/Menu';\nimport Header from '../../../components/generic/Header';\nimport { isNotUserValid } from '../../../services/generic';\nimport UsersList from '../../../components/generic/UsersList';\nimport UsersListHeader from '../../../components/generic/UsersListHeader';\nimport ListUserWorkingHours from '../../../components/workingHours/ListUserWorkingHours';\nimport FormAddUserWorkingHours from '../../../modules/workingHours/components/FormAddUserWorkingHours';\nimport * as actions from '../../../redux/actions';\nimport * as actionsUsersList from '../../../redux/generic/actions/usersList';\nimport * as actionsManageUserWorkingHours from '../../../redux/workingHours/actions/manageUserWorkingHours';\n\nvar ManageUserWorkingHours =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ManageUserWorkingHours, _React$Component);\n\n  function ManageUserWorkingHours(props) {\n    var _this;\n\n    _classCallCheck(this, ManageUserWorkingHours);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageUserWorkingHours).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      'defaultUserDisplay': '',\n      'daysummary_userid': '',\n      'daysummary_date': ''\n    };\n    _this.onUserClick = _this.onUserClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onShowDaySummary = _this.onShowDaySummary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.callAddUserWorkingHours = _this.callAddUserWorkingHours.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ManageUserWorkingHours, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.onUsersList();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n\n      if (isNotValid.status) {\n        this.props.history.push(isNotValid.redirectTo);\n      }\n\n      if (this.state.defaultUserDisplay === '') {\n        if (props.usersList.users.length > 0) {\n          var firstUser = props.usersList.users[0];\n          var defaultUserId = firstUser.user_Id;\n          this.onUserClick(defaultUserId);\n        }\n      }\n    }\n  }, {\n    key: \"onUserClick\",\n    value: function onUserClick(userid) {\n      this.setState({\n        'defaultUserDisplay': userid\n      });\n      this.props.onUserWorkingHoursData(userid);\n    }\n  }, {\n    key: \"onShowDaySummary\",\n    value: function onShowDaySummary(userid, date) {\n      this.setState({\n        daysummary_userid: userid,\n        daysummary_date: date\n      });\n      this.props.onUserDaySummary(userid, date);\n    }\n  }, {\n    key: \"callAddUserWorkingHours\",\n    value: function callAddUserWorkingHours(userid, date, workingHours, reason) {\n      this.props.onAddUserWorkingHours(userid, date, workingHours, reason).then(function (data) {}, function (error) {\n        notify(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var statusMessage = '';\n\n      if (this.props.manageUserWorkingHours.status_message !== '') {\n        statusMessage = React.createElement(\"span\", {\n          className: \"label label-lg primary pos-rlt m-r-xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          className: \"arrow left b-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), this.props.manageUserWorkingHours.status_message);\n      }\n\n      var selectedUserImage = '';\n      var selectedUserName = '';\n      var selectedUserJobtitle = '';\n      var selectedUserId = '';\n\n      try {\n        selectedUserImage = this.props.manageUserWorkingHours.userInfo.slack_profile.profile.image_192;\n        selectedUserName = this.props.manageUserWorkingHours.userInfo.name;\n        selectedUserJobtitle = this.props.manageUserWorkingHours.userInfo.jobtitle;\n        selectedUserId = this.props.manageUserWorkingHours.userInfo.user_Id;\n      } catch (err) {}\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Menu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"content\",\n        className: \"app-content box-shadow-z0\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Header, {\n        pageTitle: 'Manage Employees Working Hours' + statusMessage,\n        showLoading: this.props.frontend.show_loading,\n        userListHeader: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(UsersListHeader, {\n        users: this.props.usersList.users,\n        selectedUserId: this.state.selected_user_id,\n        onUserClick: this.onUserClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"app-body\",\n        id: \"view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3 hidden-xs\",\n        id: \"fixedScroll\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(UsersList, {\n        users: this.props.usersList.users,\n        selectedUserId: this.state.defaultUserDisplay,\n        onUserClick: this.onUserClick,\n        top: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-9 col-xs-12 col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: selectedUserImage,\n        className: \"blur\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"p-a-lg pos-rlt text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: selectedUserImage,\n        className: \"img-circle w-56\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"p-a text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        className: \"text-md m-t block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, selectedUserName), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, selectedUserJobtitle)))), React.createElement(\"div\", {\n        className: \"row no-gutter b-t box \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9 col-xs-12 b-r box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-a block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Add New\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(FormAddUserWorkingHours, Object.assign({}, this.props, {\n        userid: this.state.defaultUserDisplay,\n        callAddUserWorkingHours: this.callAddUserWorkingHours,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"col-md-3 col-xs-12  b-r box \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-a block \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Existing Working Hours\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"hour-overflow \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(ListUserWorkingHours, {\n        displayData: this.props.manageUserWorkingHours.displayData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })))))))))));\n    }\n  }]);\n\n  return ManageUserWorkingHours;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS(),\n    manageUserWorkingHours: state.manageUserWorkingHours.toJS()\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIsAlreadyLogin: function onIsAlreadyLogin() {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: function onUsersList() {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onUserWorkingHoursData: function onUserWorkingHoursData(userid) {\n      return dispatch(actionsManageUserWorkingHours.get_managed_user_working_hours(userid));\n    },\n    onAddUserWorkingHours: function onAddUserWorkingHours(userid, date, workingHours, reason) {\n      return dispatch(actionsManageUserWorkingHours.add_user_working_hours(userid, date, workingHours, reason));\n    }\n  };\n};\n\nvar VisibleManageUserWorkingHours = connect(mapStateToProps, mapDispatchToProps)(ManageUserWorkingHours);\nvar RouterVisibleManageUserWorkingHours = withRouter(VisibleManageUserWorkingHours);\nexport default RouterVisibleManageUserWorkingHours;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/workingHours/containers/manageUserWorkingHours.jsx"],"names":["React","connect","withRouter","notify","Menu","Header","isNotUserValid","UsersList","UsersListHeader","ListUserWorkingHours","FormAddUserWorkingHours","actions","actionsUsersList","actionsManageUserWorkingHours","ManageUserWorkingHours","props","onIsAlreadyLogin","state","onUserClick","bind","onShowDaySummary","callAddUserWorkingHours","onUsersList","isNotValid","location","pathname","loggedUser","status","history","push","redirectTo","defaultUserDisplay","usersList","users","length","firstUser","defaultUserId","user_Id","userid","setState","onUserWorkingHoursData","date","daysummary_userid","daysummary_date","onUserDaySummary","workingHours","reason","onAddUserWorkingHours","then","data","error","statusMessage","manageUserWorkingHours","status_message","selectedUserImage","selectedUserName","selectedUserJobtitle","selectedUserId","userInfo","slack_profile","profile","image_192","name","jobtitle","err","frontend","show_loading","selected_user_id","displayData","Component","mapStateToProps","toJS","logged_user","userLogin","mapDispatchToProps","dispatch","isAlreadyLogin","get_users_list","get_managed_user_working_hours","add_user_working_hours","VisibleManageUserWorkingHours","RouterVisibleManageUserWorkingHours"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport {notify} from '../../../services/notify';\nimport Menu from '../../../components/generic/Menu';\nimport Header from '../../../components/generic/Header';\nimport {isNotUserValid} from '../../../services/generic';\nimport UsersList from '../../../components/generic/UsersList';\nimport UsersListHeader from '../../../components/generic/UsersListHeader';\nimport ListUserWorkingHours from '../../../components/workingHours/ListUserWorkingHours';\nimport FormAddUserWorkingHours from '../../../modules/workingHours/components/FormAddUserWorkingHours';\nimport * as actions from '../../../redux/actions';\nimport * as actionsUsersList from '../../../redux/generic/actions/usersList';\nimport * as actionsManageUserWorkingHours from '../../../redux/workingHours/actions/manageUserWorkingHours';\n\nclass ManageUserWorkingHours extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      'defaultUserDisplay': '',\n      'daysummary_userid':  '',\n      'daysummary_date':    ''\n    };\n    this.onUserClick = this.onUserClick.bind(this);\n    this.onShowDaySummary = this.onShowDaySummary.bind(this);\n    this.callAddUserWorkingHours = this.callAddUserWorkingHours.bind(this);\n  }\n  componentWillMount () {\n    this.props.onUsersList();\n  }\n  componentWillReceiveProps (props) {\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n\n    if (this.state.defaultUserDisplay === '') {\n      if (props.usersList.users.length > 0) {\n        let firstUser = props.usersList.users[0];\n        let defaultUserId = firstUser.user_Id;\n        this.onUserClick(defaultUserId);\n      }\n    }\n  }\n  onUserClick (userid) {\n    this.setState({'defaultUserDisplay': userid});\n    this.props.onUserWorkingHoursData(userid);\n  }\n  onShowDaySummary (userid, date) {\n    this.setState({daysummary_userid: userid, daysummary_date: date});\n    this.props.onUserDaySummary(userid, date);\n  }\n\n  callAddUserWorkingHours (userid, date, workingHours, reason) {\n    this.props.onAddUserWorkingHours(userid, date, workingHours, reason).then((data) => {}, (error) => {\n      notify(error);\n    });\n  }\n\n  render () {\n    let statusMessage = '';\n    if (this.props.manageUserWorkingHours.status_message !== '') {\n      statusMessage = <span className=\"label label-lg primary pos-rlt m-r-xs\">\n        <b className=\"arrow left b-primary\"></b>{this.props.manageUserWorkingHours.status_message}</span>;\n    }\n\n    let selectedUserImage = '';\n    let selectedUserName = '';\n    let selectedUserJobtitle = '';\n    let selectedUserId = '';\n    try {\n      selectedUserImage = this.props.manageUserWorkingHours.userInfo.slack_profile.profile.image_192;\n      selectedUserName = this.props.manageUserWorkingHours.userInfo.name;\n      selectedUserJobtitle = this.props.manageUserWorkingHours.userInfo.jobtitle;\n      selectedUserId = this.props.manageUserWorkingHours.userInfo.user_Id;\n    } catch (err) {}    \n    \n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'Manage Employees Working Hours' + statusMessage} showLoading={this.props.frontend.show_loading} userListHeader />\n          <UsersListHeader\n            users={this.props.usersList.users}\n            selectedUserId={this.state.selected_user_id}\n            onUserClick={this.onUserClick}\n              />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding\">\n              <div className=\"row\">\n                <div className=\"col-sm-3 hidden-xs\" id=\"fixedScroll\">\n                  <UsersList users={this.props.usersList.users}\n                    selectedUserId={this.state.defaultUserDisplay}\n                    onUserClick={this.onUserClick}\n                    top={10}\n                    />\n                </div>\n                <div className=\"col-md-9 col-xs-12 col-sm-9\">\n                  <div className=\"box\">\n                    <div className=\"item\">\n                      <div className=\"item-bg\">\n                        <img src={selectedUserImage} className=\"blur\" />\n                      </div>\n                      <div className=\"p-a-lg pos-rlt text-center\">\n                        <img src={selectedUserImage} className=\"img-circle w-56\" />\n                      </div>\n                    </div>\n                    <div className=\"p-a text-center\">\n                      <a href=\"\" className=\"text-md m-t block\">{selectedUserName}</a>\n                      <p>\n                        <small>{selectedUserJobtitle}</small>\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"row no-gutter b-t box \">\n\n                    <div className=\"col-md-9 col-xs-12 b-r box\">\n                      <div className=\"p-a block\">\n                        <h6 className=\"text-center\">Add New</h6>\n                        <hr />\n                        <FormAddUserWorkingHours {...this.props}\n                          userid={this.state.defaultUserDisplay}\n                          callAddUserWorkingHours={this.callAddUserWorkingHours}\n                          />\n                      </div>\n                    </div>\n                    <div className=\"col-md-3 col-xs-12  b-r box \">\n                      <div className=\"p-a block \">\n                        <h6 className=\"text-center\">Existing Working Hours</h6>\n                        <hr />\n                        <div className=\"hour-overflow \">\n                          <ListUserWorkingHours displayData={this.props.manageUserWorkingHours.displayData} />\n                        </div>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps (state) {\n  return {\n    frontend:               state.frontend.toJS(),\n    loggedUser:             state.logged_user.userLogin,\n    usersList:              state.usersList.toJS(),\n    manageUserWorkingHours: state.manageUserWorkingHours.toJS()\n  };\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: () => {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onUserWorkingHoursData: (userid) => {\n      return dispatch(actionsManageUserWorkingHours.get_managed_user_working_hours(userid));\n    },\n    onAddUserWorkingHours: (userid, date, workingHours, reason) => {\n      return dispatch(actionsManageUserWorkingHours.add_user_working_hours(userid, date, workingHours, reason));\n    }\n  };\n};\n\nconst VisibleManageUserWorkingHours = connect(mapStateToProps, mapDispatchToProps)(ManageUserWorkingHours);\n\nconst RouterVisibleManageUserWorkingHours = withRouter(VisibleManageUserWorkingHours);\n\nexport default RouterVisibleManageUserWorkingHours;\n"]},"metadata":{},"sourceType":"module"}