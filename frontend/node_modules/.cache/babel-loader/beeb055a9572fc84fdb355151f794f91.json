{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/myDocuments/components/FormMyDocuments.jsx\";\nimport React from \"react\";\nimport { CONFIG } from \"../../../config/index\";\nimport { notify } from \"../../../services/notify\";\nimport { getToken } from \"../../../services/generic\";\nimport ListDocuments from \"../../../components/myDocuments/ListDocuments\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nvar FormMyDocuments =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormMyDocuments, _React$Component);\n\n  function FormMyDocuments(props) {\n    var _this;\n\n    _classCallCheck(this, FormMyDocuments);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormMyDocuments).call(this, props));\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.state = {\n      document_type: \"\",\n      token: \"\",\n      file: [],\n      user_id: _this.props.user_id,\n      page_url: window.location.href\n    };\n    _this.deleteDocument = _this.deleteDocument.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.callUpdateDocuments = _this.callUpdateDocuments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFileChange = _this.handleFileChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(FormMyDocuments, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        token: getToken()\n      });\n    }\n  }, {\n    key: \"handleFileChange\",\n    value: function handleFileChange(e) {\n      var _this2 = this;\n\n      this.setState({\n        file: Array.from(e.target.files)\n      });\n      var file = this.refs.file.files[0];\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        _this2.setState({\n          imageUrl: reader.result\n        });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n        this.setState({\n          imageUrl: reader.result\n        });\n      } else {\n        this.setState({\n          imageUrl: \"\"\n        });\n      }\n    }\n  }, {\n    key: \"callUpdateDocuments\",\n    value: function callUpdateDocuments(e) {\n      var type = this.state.document_type;\n      var link1 = this.refs.file.value;\n      var file = this.state.file[0];\n      var stop = false;\n\n      if (type === \"\") {\n        stop = true;\n        notify(\"Warning!\", \"Please select document type.\", \"warning\");\n      } else if (link1 === \"\") {\n        stop = true;\n        notify(\"Warning!\", \"Please select a file\", \"warning\");\n      } else if (this.refs.declear.checked !== true) {\n        stop = true;\n        notify(\"Warning!\", \"Mark declearation before submit\", \"warning\");\n      }\n\n      if (stop) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"deleteDocument\",\n    value: function deleteDocument(docId) {\n      var _this3 = this;\n\n      this.props.onDeleteDocument(docId).then(function (msg) {\n        _this3.props.onGetMydocuments();\n\n        notify(\"Success!\", msg.toString(), \"success\");\n      }).catch(function (err) {\n        notify(\"Error!\", err.toString(), \"error\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var actions = [React.createElement(FlatButton, {\n        label: \"Close\",\n        primary: true,\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })];\n      return React.createElement(\"div\", {\n        className: \"row p-t-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 p-x-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        id: \"uploadMyDoc\",\n        className: \"text-center pointer in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Upload New Documents\"), React.createElement(\"div\", {\n        className: \"row box p-a-md m-b-lg \",\n        id: \"uploadDoc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: CONFIG.upload_url,\n        method: \"POST\",\n        encType: \"multipart/form-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Document Type\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        ref: \"document_type\",\n        onChange: function onChange() {\n          _this4.setState({\n            document_type: _this4.refs.document_type.value,\n            file: []\n          });\n\n          _this4.refs.file.value = \"\";\n        },\n        value: this.state.document_type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"--- Select Doc Type ---\"), React.createElement(\"option\", {\n        value: \"CV\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"CV\"), React.createElement(\"option\", {\n        value: \"PAN Card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"PAN Card\"), React.createElement(\"option\", {\n        value: \"Address Proof\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Address Proof\"), React.createElement(\"option\", {\n        value: \"Photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Photo\"), React.createElement(\"option\", {\n        value: \"Offer Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Offer Letter\"), React.createElement(\"option\", {\n        value: \"Appointment Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Appointment Letter\"), React.createElement(\"option\", {\n        value: \"Previous Company Experience Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Previous Company Experience Letter\"), React.createElement(\"option\", {\n        value: \"Previous Company Offer Letter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Previous Company Offer Letter\"), React.createElement(\"option\", {\n        value: \"Previous Company Salary Slip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Previous Company Salary Slip\"), React.createElement(\"option\", {\n        value: \"Previous Company Other Documents\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Previous Company Other Documents\"), React.createElement(\"option\", {\n        value: \"Qualification Certificate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Qualification Certificate\"), React.createElement(\"option\", {\n        value: \"Other Documents\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Other Documents\"))), React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"document_type\",\n        value: this.state.document_type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Attachment \"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        ref: \"file\",\n        name: \"link_1\",\n        multiple: \"multiple\",\n        onChange: this.handleFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        ref: \"declear\",\n        className: \"vertical-middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"declaration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"*IMPORTANT: \"), \"\\xA0By uploading this document you certify that these document are true and all information is correct\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, this.state.file[0] ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Image Preview \"), React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        onClick: function onClick() {\n          _this4.handleOpen();\n        },\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })) : null, React.createElement(Dialog, {\n        actions: actions,\n        modal: false,\n        open: this.state.open,\n        onRequestClose: this.handleClose,\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"form-group col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(UploadImageComp, {\n        callUpdateDocuments: this.callUpdateDocuments,\n        url: CONFIG.upload_url,\n        params: this.state,\n        file: this.state.file[0],\n        fileName: \"link_1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }))))), React.createElement(ListDocuments, {\n        myDocuments: this.props.my_documents,\n        deleteDocument: this.deleteDocument,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return FormMyDocuments;\n}(React.Component);\n\nexport default FormMyDocuments;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/myDocuments/components/FormMyDocuments.jsx"],"names":["React","CONFIG","notify","getToken","ListDocuments","UploadImageComp","Dialog","FlatButton","FormMyDocuments","props","handleClose","setState","open","handleOpen","state","document_type","token","file","user_id","page_url","window","location","href","deleteDocument","bind","callUpdateDocuments","handleFileChange","e","Array","from","target","files","refs","reader","FileReader","onloadend","imageUrl","result","readAsDataURL","type","link1","value","stop","declear","checked","preventDefault","docId","onDeleteDocument","then","msg","onGetMydocuments","toString","catch","err","actions","upload_url","my_documents","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { CONFIG } from \"../../../config/index\";\nimport { notify } from \"../../../services/notify\";\nimport { getToken } from \"../../../services/generic\";\nimport ListDocuments from \"../../../components/myDocuments/ListDocuments\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\n\nclass FormMyDocuments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      document_type: \"\",\n      token: \"\",\n      file: [],\n      user_id: this.props.user_id,\n      page_url: window.location.href\n    };\n    this.deleteDocument = this.deleteDocument.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      token: getToken()\n    });\n  }\n  handleFileChange(e) {\n    this.setState({ file: Array.from(e.target.files) });\n    const file = this.refs.file.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imageUrl: reader.result\n      });\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n      this.setState({\n        imageUrl: reader.result\n      });\n    } else {\n      this.setState({\n        imageUrl: \"\"\n      });\n    }\n  }\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  handleOpen = () => {\n    this.setState({open:true});\n  }\n  callUpdateDocuments(e) {\n    let type = this.state.document_type;\n    let link1 = this.refs.file.value;\n    let file = this.state.file[0];\n    let stop = false;\n    if (type === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select document type.\", \"warning\");\n    } else if (link1 === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select a file\", \"warning\");\n    } else if (this.refs.declear.checked !== true) {\n      stop = true;\n      notify(\"Warning!\", \"Mark declearation before submit\", \"warning\");\n     } \n\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n  deleteDocument(docId) {\n    this.props\n      .onDeleteDocument(docId)\n      .then(msg => {\n        this.props.onGetMydocuments();\n        notify(\"Success!\", msg.toString(), \"success\");\n      })\n      .catch(err => {\n        notify(\"Error!\", err.toString(), \"error\");\n      });\n  }\n\n  render() {\n    const actions = [\n      <FlatButton label=\"Close\" primary={true} onClick={this.handleClose} />\n    ];\n    return <div className=\"row p-t-md\">\n        <div className=\"col-sm-6 p-x-md\">\n          <h6 id=\"uploadMyDoc\" className=\"text-center pointer in\">\n            Upload New Documents\n          </h6>\n          <div className=\"row box p-a-md m-b-lg \" id=\"uploadDoc\">\n            <form action={CONFIG.upload_url} method=\"POST\" encType=\"multipart/form-data\">\n              <div className=\"form-group\">\n                <label className=\"col-sm-12\">Document Type</label>\n                <select className=\"form-control\" ref=\"document_type\" \n                  onChange={() => {\n                    this.setState({\n                      document_type: this.refs.document_type.value,\n                      file: []\n                    });\n                    this.refs.file.value = \"\";\n                  }} \n                  value={this.state.document_type}>\n                  <option value=\"\">--- Select Doc Type ---</option>\n                  <option value=\"CV\">CV</option>\n                  <option value=\"PAN Card\">PAN Card</option>\n                  <option value=\"Address Proof\">Address Proof</option>\n                  <option value=\"Photo\">Photo</option>\n                  <option value=\"Offer Letter\">Offer Letter</option>\n                  <option value=\"Appointment Letter\">\n                    Appointment Letter\n                  </option>\n                  <option value=\"Previous Company Experience Letter\">\n                    Previous Company Experience Letter\n                  </option>\n                  <option value=\"Previous Company Offer Letter\">\n                    Previous Company Offer Letter\n                  </option>\n                  <option value=\"Previous Company Salary Slip\">\n                    Previous Company Salary Slip\n                  </option>\n                  <option value=\"Previous Company Other Documents\">\n                    Previous Company Other Documents\n                  </option>\n                  <option value=\"Qualification Certificate\">\n                    Qualification Certificate\n                  </option>\n                  <option value=\"Other Documents\">Other Documents</option>\n                </select>\n              </div>\n              <input type=\"hidden\" name=\"document_type\" value={this.state.document_type} />\n              <div className=\"form-group\">\n                <label className=\"col-sm-12\">Attachment </label>\n                <input type=\"file\" className=\"form-control\" ref=\"file\" name=\"link_1\" multiple=\"multiple\" onChange={this.handleFileChange} />\n              </div>\n              <div className=\"form-group col-sm-12\">\n                <input type=\"checkbox\" ref=\"declear\" className=\"vertical-middle\" />\n                <span className=\"declaration\">\n                  <b>*IMPORTANT: </b>&nbsp;By uploading this document you certify that these document are true and all information is correct\n                </span>\n              </div>\n              <div className=\"form-group\">\n                {this.state.file[0] ? <div>\n                    <label className=\"col-xs-12\">Image Preview </label>\n                    <img src={this.state.imageUrl} onClick={() => {\n                        this.handleOpen();\n                      }} className=\"small\" />\n                    <br />\n                  </div> : null}\n                <Dialog actions={actions} modal={false} open={this.state.open} onRequestClose={this.handleClose} autoScrollBodyContent={true}>\n                  <div className=\"thumbnail\">\n                    <img src={this.state.imageUrl} />\n                  </div>\n                </Dialog>\n              </div>\n              <div className=\"form-group col-sm-12\">\n                <UploadImageComp callUpdateDocuments={this.callUpdateDocuments} url={CONFIG.upload_url} params={this.state} file={this.state.file[0]} fileName=\"link_1\" />\n              </div>\n            </form>\n          </div>\n        </div>\n        <ListDocuments myDocuments={this.props.my_documents} deleteDocument={this.deleteDocument} />\n      </div>;\n  }\n}\n\nexport default FormMyDocuments;\n"]},"metadata":{},"sourceType":"module"}