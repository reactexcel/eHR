{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/components/PageEmployeeLifeCycle.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { notify } from '../../../services/notify';\nimport _ from 'lodash';\nimport { HighchartsChart, LineSeries, Chart, XAxis, YAxis, Title, Tooltip, Subtitle, Legend, ColumnSeries } from 'react-jsx-highcharts';\n\nvar PageEmployeeLifeCycle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageEmployeeLifeCycle, _Component);\n\n  function PageEmployeeLifeCycle(props) {\n    var _this;\n\n    _classCallCheck(this, PageEmployeeLifeCycle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageEmployeeLifeCycle).call(this, props));\n    _this.state = {\n      start_year: '',\n      end_year: '',\n      empLifeCycle: ''\n    };\n    _this.getByYearData = _this.getByYearData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartYear = _this.handleStartYear.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEndYear = _this.handleEndYear.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PageEmployeeLifeCycle, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount(props) {\n      var d = new Date();\n      var start_year = d.getFullYear();\n      var end_year = d.getFullYear();\n      var userId = localStorage.getItem('userid');\n      this.setState({\n        start_year: this.props.currentYear,\n        end_year: this.props.currentYear,\n        empLifeCycle: this.props.empLifeCycle\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        empLifeCycle: props.empLifeCycle\n      });\n    }\n  }, {\n    key: \"handleStartYear\",\n    value: function handleStartYear(data) {\n      this.setState({\n        start_year: data\n      });\n      this.getByYearData({\n        start_year: data,\n        change: 'start_year'\n      });\n    }\n  }, {\n    key: \"handleEndYear\",\n    value: function handleEndYear(data) {\n      this.setState({\n        end_year: data\n      });\n      this.getByYearData({\n        end_year: data,\n        change: 'end_year'\n      });\n    }\n  }, {\n    key: \"getByYearData\",\n    value: function getByYearData(data) {\n      var userId = localStorage.getItem('userid');\n      var start_year = this.state.start_year !== '' ? this.state.start_year : this.props.currentYear;\n      var end_year = this.state.end_year !== '' ? this.state.end_year : this.props.currentYear;\n\n      if (data.change === 'start_year') {\n        start_year = data.start_year;\n      } else if (data.change === 'end_year') {\n        end_year = data.end_year;\n      }\n\n      if (start_year > end_year) {\n        notify('Error!', 'Please Check End Year', 'error');\n      } else {\n        this.props.requestEmployeLifeCycle({\n          'start_year': start_year,\n          'end_year': end_year\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var yearS = [];\n      var yearOptions = [];\n      var endYearOptions = [];\n      var noOfMonths = [];\n      var countJoinees = [];\n      var countTerminations = [];\n      var EmpLife = this.state.empLifeCycle;\n\n      var startYearOptions = _.map(this.props.year, function (data, i) {\n        return yearOptions.push(React.createElement(\"option\", {\n          key: i,\n          value: data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, data));\n      });\n\n      var endYearOption = _.map(this.props.year, function (data, i) {\n        if (data >= _this2.state.start_year) {\n          return endYearOptions.push(React.createElement(\"option\", {\n            key: i,\n            value: data,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, data));\n        }\n      });\n\n      if (EmpLife !== undefined && EmpLife.isSuccess) {\n        var EmpGraphData = _.map(EmpLife.data, function (memberData, k) {\n          yearS.push(memberData.Year);\n\n          var dataStatus = _.map(memberData.Stats, function (empData, j) {\n            noOfMonths.push(empData.Month);\n            countJoinees.push(empData.details[0].count_joinees);\n            countTerminations.push(empData.details[0].count_terminations);\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94\n              },\n              __self: this\n            });\n          });\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"team row p-a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12 well\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(HighchartsChart, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Chart, {\n        backgroundColor: null,\n        style: {\n          'fontFamily': 'Dosis, sans-serif'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Title, {\n        style: {\n          'fontSize': '16px',\n          'fontWeight': 'bold',\n          'textTransform': 'uppercase'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, 'Employee Life Cycle in', yearS), React.createElement(Subtitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, 'Employee Recruit and Leave'), React.createElement(Legend, {\n        itemStyle: {\n          'fontWeight': 'bold',\n          'fontSize': '13px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(Tooltip, {\n        backgroundColor: 'rgba(219,219,216,0.8)',\n        shadow: false,\n        borderWidth: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(XAxis, {\n        id: \"x\",\n        categories: noOfMonths,\n        title: {\n          'style': {\n            'textTransform': 'uppercase'\n          }\n        },\n        gridLineWidth: 1,\n        labels: {\n          'style': {\n            'fontSize': '12px'\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(XAxis.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Month\")), React.createElement(YAxis, {\n        id: \"y\",\n        title: {\n          'style': {\n            'textTransform': 'uppercase'\n          }\n        },\n        labels: {\n          'style': {\n            'fontSize': '12px'\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(YAxis.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"No. of employee\"), React.createElement(LineSeries, {\n        id: \"countJoinees\",\n        name: \"Total Joining\",\n        data: countJoinees,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(LineSeries, {\n        id: \"countTerminations\",\n        name: \"Total Terminations\",\n        data: countTerminations,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"container p-t\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-xs-6 profile-input p-a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"sel1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Start Year:\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"sel1\",\n        defaultValue: this.props.currentYear,\n        onChange: function onChange(evt) {\n          _this2.handleStartYear(evt.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Select Start Year\"), yearOptions)), React.createElement(\"div\", {\n        className: \"form-group col-xs-6 profile-input p-a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"sel1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"End Year:\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"sel12\",\n        defaultValue: this.props.currentYear,\n        onChange: function onChange(evt) {\n          _this2.handleEndYear(evt.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Select End Year\"), endYearOptions)))));\n    }\n  }]);\n\n  return PageEmployeeLifeCycle;\n}(Component);\n\nexport default PageEmployeeLifeCycle;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/components/PageEmployeeLifeCycle.jsx"],"names":["React","Component","connect","withRouter","notify","_","HighchartsChart","LineSeries","Chart","XAxis","YAxis","Title","Tooltip","Subtitle","Legend","ColumnSeries","PageEmployeeLifeCycle","props","state","start_year","end_year","empLifeCycle","getByYearData","bind","handleStartYear","handleEndYear","d","Date","getFullYear","userId","localStorage","getItem","setState","currentYear","data","change","requestEmployeLifeCycle","yearS","yearOptions","endYearOptions","noOfMonths","countJoinees","countTerminations","EmpLife","startYearOptions","map","year","i","push","endYearOption","undefined","isSuccess","EmpGraphData","memberData","k","Year","dataStatus","Stats","empData","j","Month","details","count_joinees","count_terminations","evt","target","value"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,SAAQC,MAAR,QAAqB,0BAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAAQC,eAAR,EAAyBC,UAAzB,EAAqCC,KAArC,EAA4CC,KAA5C,EAAmDC,KAAnD,EAA0DC,KAA1D,EAAiEC,OAAjE,EAA0EC,QAA1E,EAAoFC,MAApF,EAA4FC,YAA5F,QAA+G,sBAA/G;;IAEMC,qB;;;;;AACJ,iCAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,+FAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAI,EADH;AAEXC,MAAAA,QAAQ,EAAM,EAFH;AAGXC,MAAAA,YAAY,EAAE;AAHH,KAAb;AAKA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,uDAArB;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,uDAAvB;AACA,UAAKE,aAAL,GAAqB,MAAKA,aAAL,CAAmBF,IAAnB,uDAArB;AATkB;AAUnB;;;;uCACmBN,K,EAAO;AACzB,UAAMS,CAAC,GAAG,IAAIC,IAAJ,EAAV;AACA,UAAMR,UAAU,GAAGO,CAAC,CAACE,WAAF,EAAnB;AACA,UAAMR,QAAQ,GAAGM,CAAC,CAACE,WAAF,EAAjB;AACA,UAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf;AACA,WAAKC,QAAL,CAAc;AACZb,QAAAA,UAAU,EAAC,KAAKF,KAAL,CAAWgB,WADV;AAEZb,QAAAA,QAAQ,EAAC,KAAKH,KAAL,CAAWgB,WAFR;AAGZZ,QAAAA,YAAY,EAAE,KAAKJ,KAAL,CAAWI;AAHb,OAAd;AAKD;;;8CAE0BJ,K,EAAO;AAChC,WAAKe,QAAL,CAAc;AACZX,QAAAA,YAAY,EAAEJ,KAAK,CAACI;AADR,OAAd;AAGD;;;oCAEea,I,EAAK;AACnB,WAAKF,QAAL,CAAc;AAAEb,QAAAA,UAAU,EAAEe;AAAd,OAAd;AACA,WAAKZ,aAAL,CAAmB;AAAEH,QAAAA,UAAU,EAAEe,IAAd;AAAqBC,QAAAA,MAAM,EAAC;AAA5B,OAAnB;AACD;;;kCAEaD,I,EAAK;AACjB,WAAKF,QAAL,CAAc;AAAEZ,QAAAA,QAAQ,EAAEc;AAAZ,OAAd;AACA,WAAKZ,aAAL,CAAmB;AAAEF,QAAAA,QAAQ,EAAEc,IAAZ;AAAmBC,QAAAA,MAAM,EAAC;AAA1B,OAAnB;AACD;;;kCAEcD,I,EAAM;AACnB,UAAML,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf;AACA,UAAIZ,UAAU,GAAG,KAAKD,KAAL,CAAWC,UAAX,KAA0B,EAA1B,GAA+B,KAAKD,KAAL,CAAWC,UAA1C,GAAuD,KAAKF,KAAL,CAAWgB,WAAnF;AACA,UAAIb,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAAX,KAAwB,EAAxB,GAA6B,KAAKF,KAAL,CAAWE,QAAxC,GAAmD,KAAKH,KAAL,CAAWgB,WAA7E;;AACA,UAAGC,IAAI,CAACC,MAAL,KAAgB,YAAnB,EAAgC;AAC9BhB,QAAAA,UAAU,GAAGe,IAAI,CAACf,UAAlB;AACD,OAFD,MAEM,IAAIe,IAAI,CAACC,MAAL,KAAgB,UAApB,EAAgC;AACpCf,QAAAA,QAAQ,GAAGc,IAAI,CAACd,QAAhB;AACD;;AACD,UAAGD,UAAU,GAAGC,QAAhB,EAAyB;AACvBhB,QAAAA,MAAM,CAAC,QAAD,EAAW,uBAAX,EAAoC,OAApC,CAAN;AACD,OAFD,MAEK;AACH,aAAKa,KAAL,CAAWmB,uBAAX,CAAmC;AACjC,wBAAcjB,UADmB;AAEjC,sBAAcC;AAFmB,SAAnC;AAID;AACF;;;6BACS;AAAA;;AACR,UAAIiB,KAAK,GAAG,EAAZ;AACA,UAAIC,WAAW,GAAG,EAAlB;AACA,UAAIC,cAAc,GAAG,EAArB;AACA,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAIC,iBAAiB,GAAG,EAAxB;AACA,UAAIC,OAAO,GAAG,KAAKzB,KAAL,CAAWG,YAAzB;;AACA,UAAIuB,gBAAgB,GAAGvC,CAAC,CAACwC,GAAF,CAAM,KAAK5B,KAAL,CAAW6B,IAAjB,EAAuB,UAACZ,IAAD,EAAOa,CAAP,EAAa;AACzD,eACAT,WAAW,CAACU,IAAZ,CAAiB;AAAQ,UAAA,GAAG,EAAED,CAAb;AAAgB,UAAA,KAAK,EAAEb,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA8BA,IAA9B,CAAjB,CADA;AAGD,OAJsB,CAAvB;;AAKA,UAAIe,aAAa,GAAG5C,CAAC,CAACwC,GAAF,CAAM,KAAK5B,KAAL,CAAW6B,IAAjB,EAAuB,UAACZ,IAAD,EAAOa,CAAP,EAAa;AACtD,YAAGb,IAAI,IAAI,MAAI,CAAChB,KAAL,CAAWC,UAAtB,EAAiC;AACjC,iBACAoB,cAAc,CAACS,IAAf,CAAoB;AAAQ,YAAA,GAAG,EAAED,CAAb;AAAgB,YAAA,KAAK,EAAEb,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA8BA,IAA9B,CAApB,CADA;AAGD;AACA,OANmB,CAApB;;AAOA,UAAGS,OAAO,KAAKO,SAAZ,IAAyBP,OAAO,CAACQ,SAApC,EAA8C;AAC9C,YAAIC,YAAY,GAAG/C,CAAC,CAACwC,GAAF,CAAMF,OAAO,CAACT,IAAd,EAAoB,UAACmB,UAAD,EAAaC,CAAb,EAAmB;AACxDjB,UAAAA,KAAK,CAACW,IAAN,CAAWK,UAAU,CAACE,IAAtB;;AACA,cAAIC,UAAU,GAAGnD,CAAC,CAACwC,GAAF,CAAMQ,UAAU,CAACI,KAAjB,EAAwB,UAACC,OAAD,EAAUC,CAAV,EAAgB;AACvDnB,YAAAA,UAAU,CAACQ,IAAX,CAAgBU,OAAO,CAACE,KAAxB;AACAnB,YAAAA,YAAY,CAACO,IAAb,CAAkBU,OAAO,CAACG,OAAR,CAAgB,CAAhB,EAAmBC,aAArC;AACApB,YAAAA,iBAAiB,CAACM,IAAlB,CAAuBU,OAAO,CAACG,OAAR,CAAgB,CAAhB,EAAmBE,kBAA1C;AACA,mBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA;AAGD,WAPgB,CAAjB;AAQD,SAVkB,CAAnB;AAWC;;AACD,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,eAAe,EAAE,IAAxB;AAA8B,QAAA,KAAK,EAAE;AAAC,wBAAc;AAAf,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAAC,sBAAY,MAAb;AAAqB,wBAAc,MAAnC;AAA2C,2BAAiB;AAA5D,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyF,wBAAzF,EAAmH1B,KAAnH,CAFF,EAGE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAW,4BAAX,CAHF,EAIE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAE;AAAC,wBAAc,MAAf;AAAuB,sBAAY;AAAnC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE,oBAAC,OAAD;AAAS,QAAA,eAAe,EAAE,uBAA1B;AAAmD,QAAA,MAAM,EAAE,KAA3D;AAAkE,QAAA,WAAW,EAAE,CAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAME,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,GAAV;AAAc,QAAA,UAAU,EAAEG,UAA1B;AAAsC,QAAA,KAAK,EAAE;AAAC,mBAAS;AAAC,6BAAiB;AAAlB;AAAV,SAA7C;AAAwF,QAAA,aAAa,EAAE,CAAvG;AAA0G,QAAA,MAAM,EAAE;AAAC,mBAAS;AAAC,wBAAY;AAAb;AAAV,SAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CANF,EASE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,GAAV;AAAc,QAAA,KAAK,EAAE;AAAC,mBAAS;AAAC,6BAAiB;AAAlB;AAAV,SAArB;AAAgE,QAAA,MAAM,EAAE;AAAC,mBAAS;AAAC,wBAAY;AAAb;AAAV,SAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,cAAf;AAA8B,QAAA,IAAI,EAAC,eAAnC;AAAmD,QAAA,IAAI,EAAEC,YAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,mBAAf;AAAmC,QAAA,IAAI,EAAC,oBAAxC;AAA6D,QAAA,IAAI,EAAEC,iBAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CATF,CADF,CADF,CADF,EAoBE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,EAAE,EAAC,MAApC;AAA2C,QAAA,YAAY,EAAE,KAAKzB,KAAL,CAAWgB,WAApE;AACE,QAAA,QAAQ,EAAE,kBAAC+B,GAAD,EAAS;AAAE,UAAA,MAAI,CAACxC,eAAL,CAAqBwC,GAAG,CAACC,MAAJ,CAAWC,KAAhC;AAAwC,SAD/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,EAGG5B,WAHH,CAFF,CADF,EASE;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,EAAE,EAAC,OAApC;AAA4C,QAAA,YAAY,EAAE,KAAKrB,KAAL,CAAWgB,WAArE;AACE,QAAA,QAAQ,EAAE,kBAAC+B,GAAD,EAAS;AAAE,UAAA,MAAI,CAACvC,aAAL,CAAmBuC,GAAG,CAACC,MAAJ,CAAWC,KAA9B;AAAsC,SAD7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFF,EAGG3B,cAHH,CAFF,CATF,CADF,CApBF,CADF;AA8CD;;;;EAzIiCtC,S;;AA4IpC,eAAee,qBAAf","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport {notify} from '../../../services/notify';\nimport _ from 'lodash';\nimport {HighchartsChart, LineSeries, Chart, XAxis, YAxis, Title, Tooltip, Subtitle, Legend, ColumnSeries} from 'react-jsx-highcharts';\n\nclass PageEmployeeLifeCycle extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      start_year:   '',\n      end_year:     '',\n      empLifeCycle: ''\n    };\n    this.getByYearData = this.getByYearData.bind(this);\n    this.handleStartYear = this.handleStartYear.bind(this);\n    this.handleEndYear = this.handleEndYear.bind(this);\n  }\n  componentWillMount (props) {\n    const d = new Date();\n    const start_year = d.getFullYear();\n    const end_year = d.getFullYear();\n    const userId = localStorage.getItem('userid');\n    this.setState({\n      start_year:this.props.currentYear,\n      end_year:this.props.currentYear,\n      empLifeCycle: this.props.empLifeCycle\n    });\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({\n      empLifeCycle: props.empLifeCycle\n    });\n  }\n\n  handleStartYear(data){\n    this.setState({ start_year: data });\n    this.getByYearData({ start_year: data , change:'start_year'});\n  }\n\n  handleEndYear(data){\n    this.setState({ end_year: data });\n    this.getByYearData({ end_year: data , change:'end_year'});\n  }\n\n  getByYearData (data) {\n    const userId = localStorage.getItem('userid');\n    let start_year = this.state.start_year !== '' ? this.state.start_year : this.props.currentYear;\n    let end_year = this.state.end_year !== '' ? this.state.end_year : this.props.currentYear;\n    if(data.change === 'start_year'){\n      start_year = data.start_year;\n    }else if (data.change === 'end_year') {\n      end_year = data.end_year;\n    }\n    if(start_year > end_year){\n      notify('Error!', 'Please Check End Year', 'error');\n    }else{\n      this.props.requestEmployeLifeCycle({\n        'start_year': start_year,\n        'end_year':   end_year\n      });\n    }\n  }\n  render () {\n    let yearS = [];\n    let yearOptions = [];\n    let endYearOptions = [];\n    let noOfMonths = [];\n    let countJoinees = [];\n    let countTerminations = [];\n    let EmpLife = this.state.empLifeCycle;\n    let startYearOptions = _.map(this.props.year, (data, i) => {\n      return (\n      yearOptions.push(<option key={i} value={data}>{data}</option>)\n      );\n    });\n    let endYearOption = _.map(this.props.year, (data, i) => {\n      if(data >= this.state.start_year){\n      return (\n      endYearOptions.push(<option key={i} value={data}>{data}</option>)\n      );\n    }\n    });\n    if(EmpLife !== undefined && EmpLife.isSuccess){\n    let EmpGraphData = _.map(EmpLife.data, (memberData, k) => {\n      yearS.push(memberData.Year);\n      let dataStatus = _.map(memberData.Stats, (empData, j) => {\n        noOfMonths.push(empData.Month);\n        countJoinees.push(empData.details[0].count_joinees);\n        countTerminations.push(empData.details[0].count_terminations);\n        return (\n        <div></div>\n        );\n      });\n    });\n    }\n    return (\n      <div>\n        <div className=\"team row p-a\">\n          <div className=\"col-xs-12 well\">\n            <HighchartsChart>\n              <Chart backgroundColor={null} style={{'fontFamily': 'Dosis, sans-serif'}} />\n              <Title style={{'fontSize': '16px', 'fontWeight': 'bold', 'textTransform': 'uppercase'}}>{'Employee Life Cycle in'}{yearS}</Title>\n              <Subtitle>{'Employee Recruit and Leave'}</Subtitle>\n              <Legend itemStyle={{'fontWeight': 'bold', 'fontSize': '13px'}} />\n              <Tooltip backgroundColor={'rgba(219,219,216,0.8)'} shadow={false} borderWidth={0} />\n              <XAxis id=\"x\" categories={noOfMonths} title={{'style': {'textTransform': 'uppercase'}}} gridLineWidth={1} labels={{'style': {'fontSize': '12px'}}}>\n                <XAxis.Title>Month</XAxis.Title>\n              </XAxis>\n              <YAxis id=\"y\" title={{'style': {'textTransform': 'uppercase'}}} labels={{'style': {'fontSize': '12px'}}} >\n                <YAxis.Title >No. of employee</YAxis.Title>\n                <LineSeries id=\"countJoinees\" name=\"Total Joining\" data={countJoinees} />\n                <LineSeries id=\"countTerminations\" name=\"Total Terminations\" data={countTerminations} />\n              </YAxis>\n            </HighchartsChart>\n          </div>\n        </div>\n        <div className=\"container p-t\">\n          <div className=\"row\">\n            <div className=\"form-group col-xs-6 profile-input p-a\">\n              <label htmlFor=\"sel1\">Start Year:</label>\n              <select className=\"form-control\" id=\"sel1\" defaultValue={this.props.currentYear}\n                onChange={(evt) => { this.handleStartYear(evt.target.value);}}>\n                <option >Select Start Year</option>\n                {yearOptions}\n              </select>\n            </div>\n            <div className=\"form-group col-xs-6 profile-input p-a\">\n              <label htmlFor=\"sel1\">End Year:</label>\n              <select className=\"form-control\" id=\"sel12\" defaultValue={this.props.currentYear}\n                onChange={(evt) => { this.handleEndYear(evt.target.value);}}>\n                <option>Select End Year</option>\n                {endYearOptions}\n              </select>\n            </div>\n            {/* <div className=\"form-group col-md-2 col-sm-3 col-xs-3\">\n              <button type=\"button\" onClick={(evt) => this.getByData()} className=\"btn btn-primary form-group m-t-md\">Get Details</button>\n            </div> */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PageEmployeeLifeCycle;\n"]},"metadata":{},"sourceType":"module"}