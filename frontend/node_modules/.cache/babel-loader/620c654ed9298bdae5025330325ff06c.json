{"ast":null,"code":"import { createAction } from 'redux-actions';\nimport * as _ from 'lodash';\nimport { fireAjax } from '../../../services/index';\nimport { show_loading, hide_loading } from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\nexport function success_user_salary_details(data) {\n  return createAction(constants.ACTION_SUCCESS_USER_SALARY_DETAILS)(data);\n}\nexport function empty_user_salary_details(data) {\n  return createAction(constants.ACTION_EMPTY_USER_SALARY_DETAILS)(data);\n}\n\nfunction async_get_user_salary_details(userid) {\n  return fireAjax('POST', '', {\n    action: 'get_user_salary_info_by_id',\n    user_id: userid\n  });\n}\n\nexport function get_user_salary_details(userid) {\n  return function (dispatch, getState) {\n    return new Promise(function (resolve, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_get_user_salary_details(userid).then(function (json) {\n        resolve(json);\n        dispatch(hide_loading()); // hide loading icon\n\n        if (typeof json.data !== 'undefined' && typeof json.data.salary_details !== 'undefined' && json.data.salary_details.length > 0) {\n          var data = json.data;\n          dispatch(success_user_salary_details(data));\n        } else {\n          dispatch(success_user_salary_details([]));\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        dispatch(success_user_salary_details([]));\n      });\n    });\n  };\n} // -------------------\n\nexport function success_add_user_salary(data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_USER_SALARY)(data);\n}\nexport function error_add_user_salary(data) {\n  return createAction(constants.ACTION_ERROR_ADD_USER_SALARY)(data);\n}\n\nfunction async_add_user_new_salary(n_userid, n_applicable_from, n_applicable_till, n_applicable_month, n_total_salary, n_leave, n_increment_amount, n_basic, n_hra, n_conveyance, n_medical_allowance, n_special_allowance, n_arrear, n_epf, n_loan, n_advance, n_misc_deduction, n_tds, first_update) {\n  var payload = {\n    action: 'add_user_salary',\n    user_id: n_userid,\n    applicable_from: n_applicable_from,\n    applicable_till: n_applicable_till,\n    applicable_month: n_applicable_month,\n    total_salary: n_total_salary,\n    leave: n_leave,\n    increment_amount: n_increment_amount,\n    basic: n_basic,\n    hra: n_hra,\n    conveyance: n_conveyance,\n    medical_allowance: n_medical_allowance,\n    special_allowance: n_special_allowance,\n    arrear: n_arrear,\n    epf: n_epf,\n    loan: n_loan,\n    advance: n_advance,\n    misc_deduction: n_misc_deduction,\n    tds: n_tds\n  };\n\n  if (first_update) {\n    payload.first_update = first_update;\n  }\n\n  return fireAjax('POST', '', payload);\n}\n\nexport function add_user_new_salary(new_salary_data) {\n  return function (dispatch, getState) {\n    // n_userid,n_applicable_from,n_total_salary,n_leave,n_basic,n_hra,n_conveyance,n_medical_allowance,n_special_allowance,n_arrear,n_epf,n_loan,n_advance,n_misc_deduction,n_tds\n    var n_userid = '';\n    var n_applicable_from = '';\n    var n_applicable_till = '';\n    var n_applicable_month = '';\n    var n_total_salary = '';\n    var n_leave = '';\n    var n_increment_amount = '';\n    var n_basic = '';\n    var n_hra = '';\n    var n_conveyance = '';\n    var n_medical_allowance = '';\n    var n_special_allowance = '';\n    var n_arrear = '';\n    var n_epf = '';\n    var n_loan = '';\n    var n_advance = '';\n    var n_misc_deduction = '';\n    var n_tds = '';\n\n    if (typeof new_salary_data.user_id !== 'undefined') {\n      n_userid = new_salary_data.user_id;\n    }\n\n    if (typeof new_salary_data.applicable_from !== 'undefined') {\n      n_applicable_from = new_salary_data.applicable_from;\n    }\n\n    if (typeof new_salary_data.applicable_till !== 'undefined') {\n      n_applicable_till = new_salary_data.applicable_till;\n    }\n\n    if (typeof new_salary_data.applicable_month !== 'undefined') {\n      n_applicable_month = new_salary_data.applicable_month;\n    }\n\n    if (typeof new_salary_data.total_salary !== 'undefined') {\n      n_total_salary = new_salary_data.total_salary;\n    }\n\n    if (typeof new_salary_data.leave !== 'undefined') {\n      n_leave = new_salary_data.leave;\n    }\n\n    if (typeof new_salary_data.increment_amount !== 'undefined') {\n      n_increment_amount = new_salary_data.increment_amount;\n    }\n\n    if (typeof new_salary_data.basic !== 'undefined') {\n      n_basic = new_salary_data.basic;\n    }\n\n    if (typeof new_salary_data.hra !== 'undefined') {\n      n_hra = new_salary_data.hra;\n    }\n\n    if (typeof new_salary_data.conveyance !== 'undefined') {\n      n_conveyance = new_salary_data.conveyance;\n    }\n\n    if (typeof new_salary_data.medical_allowance !== 'undefined') {\n      n_medical_allowance = new_salary_data.medical_allowance;\n    }\n\n    if (typeof new_salary_data.special_allowance !== 'undefined') {\n      n_special_allowance = new_salary_data.special_allowance;\n    }\n\n    if (typeof new_salary_data.arrear !== 'undefined') {\n      n_arrear = new_salary_data.arrear;\n    }\n\n    if (typeof new_salary_data.epf !== 'undefined') {\n      n_epf = new_salary_data.epf;\n    }\n\n    if (typeof new_salary_data.loan !== 'undefined') {\n      n_loan = new_salary_data.loan;\n    }\n\n    if (typeof new_salary_data.advance !== 'undefined') {\n      n_advance = new_salary_data.advance;\n    }\n\n    if (typeof new_salary_data.misc_deduction !== 'undefined') {\n      n_misc_deduction = new_salary_data.misc_deduction;\n    }\n\n    if (typeof new_salary_data.tds !== 'undefined') {\n      n_tds = new_salary_data.tds;\n    }\n\n    if (n_userid === '') {\n      return Promise.reject('User Id is empty');\n    }\n\n    if (n_applicable_from === '') {\n      return Promise.reject('Applicable from date is empty');\n    }\n\n    if (n_applicable_till === '') {\n      return Promise.reject('Applicable till date is empty');\n    }\n\n    if (n_applicable_month === '') {\n      return Promise.reject('Applicable month empty');\n    }\n\n    if (n_total_salary === '') {\n      return Promise.reject('Total Salary is empty');\n    }\n\n    if (n_leave === '') {\n      return Promise.reject('Leave is empty');\n    }\n\n    if (n_increment_amount === '') {\n      return Promise.reject('Incremented amount empty');\n    }\n\n    if (n_basic === '') {\n      return Promise.reject('Basic is empty');\n    }\n\n    if (n_hra === '') {\n      return Promise.reject('HRA date is empty');\n    }\n\n    if (n_conveyance === '') {\n      return Promise.reject('Conveyance is empty');\n    }\n\n    if (n_medical_allowance === '') {\n      return Promise.reject('Medical_allowance is empty');\n    }\n\n    if (n_special_allowance === '') {\n      return Promise.reject('Special Allowance is empty');\n    }\n\n    if (n_arrear === '') {\n      return Promise.reject('Arrear is empty');\n    }\n\n    if (n_epf === '') {\n      return Promise.reject('EPF is empty');\n    }\n\n    if (n_loan === '') {\n      return Promise.reject('Loan is empty');\n    }\n\n    if (n_advance === '') {\n      return Promise.reject('Advance is empty');\n    }\n\n    if (n_misc_deduction === '') {\n      return Promise.reject('Misc Deduction is empty');\n    }\n\n    if (n_tds === '') {\n      return Promise.reject('TDS is empty');\n    }\n\n    return new Promise(function (resolve, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_add_user_new_salary(n_userid, n_applicable_from, n_applicable_till, n_applicable_month, n_total_salary, n_leave, n_increment_amount, n_basic, n_hra, n_conveyance, n_medical_allowance, n_special_allowance, n_arrear, n_epf, n_loan, n_advance, n_misc_deduction, n_tds, new_salary_data.first_update).then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error.length == 0) {\n          dispatch(success_add_user_salary(json.data));\n          dispatch(get_user_salary_details(n_userid));\n          resolve();\n        } else {\n          dispatch(error_add_user_salary(json.error[0]));\n          reject(json.error[0]);\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        dispatch(error_add_user_salary('error occurs'));\n      });\n    });\n  };\n} // /-----holding---------------------------------------------------------\n\nexport function success_add_user_holding(data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_USER_HOLDING)(data);\n}\nexport function error_add_user_holding(data) {\n  return createAction(constants.ACTION_ERROR_ADD_USER_HOLDING)(data);\n}\n\nfunction async_add_user_new_holding(n_userid, n_holding_from, n_holding_till, n_holding_amount, n_holding_reason) {\n  return fireAjax('POST', '', {\n    action: 'add_user_holding',\n    user_id: n_userid,\n    holding_start_date: n_holding_from,\n    holding_end_date: \"\",\n    holding_month: n_holding_till,\n    holding_amt: n_holding_amount,\n    reason: n_holding_reason\n  });\n}\n\nexport function add_user_new_holding(data) {\n  return function (dispatch, getState) {\n    var n_userid = '';\n    var n_holding_from = '';\n    var n_holding_till = '';\n    var n_holding_amount = '';\n    var n_holding_reason = '';\n\n    if (typeof data.user_id !== 'undefined') {\n      n_userid = data.user_id;\n    }\n\n    if (typeof data.holding_from !== 'undefined') {\n      n_holding_from = data.holding_from;\n    }\n\n    if (typeof data.holding_till !== 'undefined') {\n      n_holding_till = data.holding_till;\n    }\n\n    if (typeof data.holding_amount !== 'undefined') {\n      n_holding_amount = data.holding_amount;\n    }\n\n    if (typeof data.reason !== 'undefined') {\n      n_holding_reason = data.reason;\n    }\n\n    if (n_userid === '') {\n      return Promise.reject('User Id is empty');\n    }\n\n    if (n_holding_from === '') {\n      return Promise.reject('Holding from date is empty');\n    }\n\n    if (n_holding_till === '') {\n      return Promise.reject('Holding till date is empty');\n    }\n\n    if (n_holding_amount === '') {\n      return Promise.reject('Holding amount is empty');\n    }\n\n    if (n_holding_reason === '') {\n      return Promise.reject('Reason is empty');\n    }\n\n    return new Promise(function (resolve, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_add_user_new_holding(n_userid, n_holding_from, n_holding_till, n_holding_amount, n_holding_reason).then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error.length == 0) {\n          dispatch(success_add_user_holding(json.data));\n          dispatch(get_user_salary_details(n_userid));\n        } else {\n          dispatch(error_add_user_holding(json.error[0]));\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        dispatch(error_add_user_holding('error occurs'));\n      });\n    });\n  };\n} // //---------------\n\nexport function success_delete_user_salary(data) {\n  return createAction(constants.ACTION_SUCCESS_DELETE_USER_SALARY)(data);\n}\nexport function error_delete_user_salary(data) {\n  return createAction(constants.ACTION_ERROR_DELETE_USER_SALARY)(data);\n}\n\nfunction async_delete_user_salary(user_id, salary_id) {\n  return fireAjax('POST', '', {\n    action: 'delete_salary',\n    user_id: user_id,\n    salary_id: salary_id\n  });\n}\n\nexport function delete_user_salary(user_id, salary_id) {\n  return function (dispatch, getState) {\n    return new Promise(function (resolve, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_delete_user_salary(user_id, salary_id).then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (typeof json.error !== 'undefined' && json.error == 0) {\n          var message = json.data.message;\n          dispatch(success_delete_user_salary(message));\n          resolve(message);\n        } else {\n          dispatch(error_delete_user_salary('error'));\n          reject('error occurs');\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        dispatch(error_delete_user_salary('error'));\n        reject('error occurs');\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/redux/salary/actions/manageSalary.js"],"names":["createAction","_","fireAjax","show_loading","hide_loading","constants","success_user_salary_details","data","ACTION_SUCCESS_USER_SALARY_DETAILS","empty_user_salary_details","ACTION_EMPTY_USER_SALARY_DETAILS","async_get_user_salary_details","userid","action","user_id","get_user_salary_details","dispatch","getState","Promise","resolve","reject","then","json","salary_details","length","error","success_add_user_salary","ACTION_SUCCESS_ADD_USER_SALARY","error_add_user_salary","ACTION_ERROR_ADD_USER_SALARY","async_add_user_new_salary","n_userid","n_applicable_from","n_applicable_till","n_applicable_month","n_total_salary","n_leave","n_increment_amount","n_basic","n_hra","n_conveyance","n_medical_allowance","n_special_allowance","n_arrear","n_epf","n_loan","n_advance","n_misc_deduction","n_tds","first_update","payload","applicable_from","applicable_till","applicable_month","total_salary","leave","increment_amount","basic","hra","conveyance","medical_allowance","special_allowance","arrear","epf","loan","advance","misc_deduction","tds","add_user_new_salary","new_salary_data","success_add_user_holding","ACTION_SUCCESS_ADD_USER_HOLDING","error_add_user_holding","ACTION_ERROR_ADD_USER_HOLDING","async_add_user_new_holding","n_holding_from","n_holding_till","n_holding_amount","n_holding_reason","holding_start_date","holding_end_date","holding_month","holding_amt","reason","add_user_new_holding","holding_from","holding_till","holding_amount","success_delete_user_salary","ACTION_SUCCESS_DELETE_USER_SALARY","error_delete_user_salary","ACTION_ERROR_DELETE_USER_SALARY","async_delete_user_salary","salary_id","delete_user_salary","message"],"mappings":"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","sourcesContent":["import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport {fireAjax} from '../../../services/index';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\n\nexport function success_user_salary_details (data) {\n  return createAction(constants.ACTION_SUCCESS_USER_SALARY_DETAILS)(data);\n}\n\nexport function empty_user_salary_details (data) {\n  return createAction(constants.ACTION_EMPTY_USER_SALARY_DETAILS)(data);\n}\n\nfunction async_get_user_salary_details (userid) {\n  return fireAjax('POST', '', {\n    action:  'get_user_salary_info_by_id',\n    user_id: userid\n  });\n}\nexport function get_user_salary_details (userid) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_get_user_salary_details(userid).then(\n        (json) => {\n          resolve(json);\n          dispatch(hide_loading()); // hide loading icon\n          if (typeof json.data !== 'undefined' && typeof json.data.salary_details !== 'undefined' && json.data.salary_details.length > 0) {\n            let data = json.data;\n            dispatch(success_user_salary_details(data));\n          } else {\n            dispatch(success_user_salary_details([]));\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(success_user_salary_details([]));\n        }\n      );\n    });\n  };\n}\n\n// -------------------\n\nexport function success_add_user_salary (data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_USER_SALARY)(data);\n}\nexport function error_add_user_salary (data) {\n  return createAction(constants.ACTION_ERROR_ADD_USER_SALARY)(data);\n}\n\nfunction async_add_user_new_salary (n_userid, n_applicable_from, n_applicable_till, n_applicable_month, n_total_salary, n_leave, n_increment_amount,  n_basic, n_hra, n_conveyance, n_medical_allowance, n_special_allowance, n_arrear, n_epf, n_loan, n_advance, n_misc_deduction, n_tds, first_update) {\n  let payload = {\n    action:            'add_user_salary',\n    user_id:           n_userid,\n    applicable_from:   n_applicable_from,\n    applicable_till:   n_applicable_till,\n    applicable_month:  n_applicable_month,\n    total_salary:      n_total_salary,\n    leave:             n_leave,\n    increment_amount:  n_increment_amount,\n    basic:             n_basic,\n    hra:               n_hra,\n    conveyance:        n_conveyance,\n    medical_allowance: n_medical_allowance,\n    special_allowance: n_special_allowance,\n    arrear:            n_arrear,\n    epf:               n_epf,\n    loan:              n_loan,\n    advance:           n_advance,\n    misc_deduction:    n_misc_deduction,\n    tds:               n_tds\n  }\n  if(first_update){\n    payload.first_update = first_update;\n  }\n  return fireAjax('POST', '', payload);\n}\n\nexport function add_user_new_salary (new_salary_data) {\n  return function (dispatch, getState) {\n    // n_userid,n_applicable_from,n_total_salary,n_leave,n_basic,n_hra,n_conveyance,n_medical_allowance,n_special_allowance,n_arrear,n_epf,n_loan,n_advance,n_misc_deduction,n_tds\n\n    let n_userid = '';\n    let n_applicable_from = '';\n    let n_applicable_till = '';\n    let n_applicable_month = '';\n    let n_total_salary = '';\n    let n_leave = '';\n    let n_increment_amount = '';\n    let n_basic = '';\n    let n_hra = '';\n    let n_conveyance = '';\n    let n_medical_allowance = '';\n    let n_special_allowance = '';\n    let n_arrear = '';\n    let n_epf = '';\n    let n_loan = '';\n    let n_advance = '';\n    let n_misc_deduction = '';\n    let n_tds = '';\n\n    if (typeof new_salary_data.user_id !== 'undefined') {\n      n_userid = new_salary_data.user_id;\n    }\n    if (typeof new_salary_data.applicable_from !== 'undefined') {\n      n_applicable_from = new_salary_data.applicable_from;\n    }\n    if (typeof new_salary_data.applicable_till !== 'undefined') {\n      n_applicable_till = new_salary_data.applicable_till;\n    }\n    if (typeof new_salary_data.applicable_month !== 'undefined'){\n      n_applicable_month = new_salary_data.applicable_month;\n    }\n    if (typeof new_salary_data.total_salary !== 'undefined') {\n      n_total_salary = new_salary_data.total_salary;\n    }\n    if (typeof new_salary_data.leave !== 'undefined') {\n      n_leave = new_salary_data.leave;\n    }\n    if (typeof new_salary_data.increment_amount !== 'undefined') {\n      n_increment_amount = new_salary_data.increment_amount;\n    }\n    if (typeof new_salary_data.basic !== 'undefined') {\n      n_basic = new_salary_data.basic;\n    }\n    if (typeof new_salary_data.hra !== 'undefined') {\n      n_hra = new_salary_data.hra;\n    }\n    if (typeof new_salary_data.conveyance !== 'undefined') {\n      n_conveyance = new_salary_data.conveyance;\n    }\n    if (typeof new_salary_data.medical_allowance !== 'undefined') {\n      n_medical_allowance = new_salary_data.medical_allowance;\n    }\n    if (typeof new_salary_data.special_allowance !== 'undefined') {\n      n_special_allowance = new_salary_data.special_allowance;\n    }\n    if (typeof new_salary_data.arrear !== 'undefined') {\n      n_arrear = new_salary_data.arrear;\n    }\n    if (typeof new_salary_data.epf !== 'undefined') {\n      n_epf = new_salary_data.epf;\n    }\n    if (typeof new_salary_data.loan !== 'undefined') {\n      n_loan = new_salary_data.loan;\n    }\n    if (typeof new_salary_data.advance !== 'undefined') {\n      n_advance = new_salary_data.advance;\n    }\n    if (typeof new_salary_data.misc_deduction !== 'undefined') {\n      n_misc_deduction = new_salary_data.misc_deduction;\n    }\n    if (typeof new_salary_data.tds !== 'undefined') {\n      n_tds = new_salary_data.tds;\n    }\n\n    if (n_userid === '') {\n      return Promise.reject('User Id is empty');\n    }\n    if (n_applicable_from === '') {\n      return Promise.reject('Applicable from date is empty');\n    }\n    if (n_applicable_till === '') {\n      return Promise.reject('Applicable till date is empty');\n    }\n    if (n_applicable_month === '') {\n      return Promise.reject('Applicable month empty');\n    }\n    if (n_total_salary === '') {\n      return Promise.reject('Total Salary is empty');\n    }\n    if (n_leave === '') {\n      return Promise.reject('Leave is empty');\n    }\n    if (n_increment_amount === ''){\n      return Promise.reject('Incremented amount empty');\n    }\n    if (n_basic === '') {\n      return Promise.reject('Basic is empty');\n    }\n    if (n_hra === '') {\n      return Promise.reject('HRA date is empty');\n    }\n    if (n_conveyance === '') {\n      return Promise.reject('Conveyance is empty');\n    }\n    if (n_medical_allowance === '') {\n      return Promise.reject('Medical_allowance is empty');\n    }\n    if (n_special_allowance === '') {\n      return Promise.reject('Special Allowance is empty');\n    }\n    if (n_arrear === '') {\n      return Promise.reject('Arrear is empty');\n    }\n    if (n_epf === '') {\n      return Promise.reject('EPF is empty');\n    }\n    if (n_loan === '') {\n      return Promise.reject('Loan is empty');\n    }\n    if (n_advance === '') {\n      return Promise.reject('Advance is empty');\n    }\n    if (n_misc_deduction === '') {\n      return Promise.reject('Misc Deduction is empty');\n    }\n    if (n_tds === '') {\n      return Promise.reject('TDS is empty');\n    }\n\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_add_user_new_salary(n_userid, n_applicable_from, n_applicable_till, n_applicable_month, n_total_salary, n_leave, n_increment_amount, n_basic, n_hra, n_conveyance, n_medical_allowance, n_special_allowance, n_arrear, n_epf, n_loan, n_advance, n_misc_deduction, n_tds, new_salary_data.first_update).then(\n        (json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error.length == 0) {\n            dispatch(success_add_user_salary(json.data));\n            dispatch(get_user_salary_details(n_userid));\n            resolve();\n          } else {\n            dispatch(error_add_user_salary(json.error[0]));\n            reject(json.error[0]);\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_add_user_salary('error occurs'));\n        }\n      );\n    });\n  };\n}\n\n// /-----holding---------------------------------------------------------\n\nexport function success_add_user_holding (data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_USER_HOLDING)(data);\n}\nexport function error_add_user_holding (data) {\n  return createAction(constants.ACTION_ERROR_ADD_USER_HOLDING)(data);\n}\n\nfunction async_add_user_new_holding (n_userid, n_holding_from, n_holding_till, n_holding_amount, n_holding_reason) {\n  return fireAjax('POST', '', {\n    action:             'add_user_holding',\n    user_id:            n_userid,\n    holding_start_date: n_holding_from,\n    holding_end_date:   \"\",\n    holding_month:      n_holding_till,\n    holding_amt:        n_holding_amount,\n    reason:             n_holding_reason\n  });\n}\n\nexport function add_user_new_holding (data) {\n  return function (dispatch, getState) {\n    let n_userid = '';\n    let n_holding_from = '';\n    let n_holding_till = '';\n    let n_holding_amount = '';\n    let n_holding_reason = '';\n\n    if (typeof data.user_id !== 'undefined') {\n      n_userid = data.user_id;\n    }\n    if (typeof data.holding_from !== 'undefined') {\n      n_holding_from = data.holding_from;\n    }\n    if (typeof data.holding_till !== 'undefined') {\n      n_holding_till = data.holding_till;\n    }\n    if (typeof data.holding_amount !== 'undefined') {\n      n_holding_amount = data.holding_amount;\n    }\n    if (typeof data.reason !== 'undefined') {\n      n_holding_reason = data.reason;\n    }\n\n    if (n_userid === '') {\n      return Promise.reject('User Id is empty');\n    }\n    if (n_holding_from === '') {\n      return Promise.reject('Holding from date is empty');\n    }\n    if (n_holding_till === '') {\n      return Promise.reject('Holding till date is empty');\n    }\n    if (n_holding_amount === '') {\n      return Promise.reject('Holding amount is empty');\n    }\n    if (n_holding_reason === '') {\n      return Promise.reject('Reason is empty');\n    }\n\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_add_user_new_holding(n_userid, n_holding_from, n_holding_till, n_holding_amount, n_holding_reason).then(\n        (json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error.length == 0) {\n            dispatch(success_add_user_holding(json.data));\n            dispatch(get_user_salary_details(n_userid));\n          } else {\n            dispatch(error_add_user_holding(json.error[0]));\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_add_user_holding('error occurs'));\n        }\n      );\n    });\n  };\n}\n\n// //---------------\n\nexport function success_delete_user_salary (data) {\n  return createAction(constants.ACTION_SUCCESS_DELETE_USER_SALARY)(data);\n}\n\nexport function error_delete_user_salary (data) {\n  return createAction(constants.ACTION_ERROR_DELETE_USER_SALARY)(data);\n}\n\nfunction async_delete_user_salary (user_id, salary_id) {\n  return fireAjax('POST', '', {\n    action:    'delete_salary',\n    user_id:   user_id,\n    salary_id: salary_id\n  });\n}\n\nexport function delete_user_salary (user_id, salary_id) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_delete_user_salary(user_id, salary_id).then(\n        (json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (typeof json.error !== 'undefined' && json.error == 0) {\n            let message = json.data.message;\n            dispatch(success_delete_user_salary(message));\n            resolve(message);\n          } else {\n            dispatch(error_delete_user_salary('error'));\n            reject('error occurs');\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_delete_user_salary('error'));\n          reject('error occurs');\n        }\n      );\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}