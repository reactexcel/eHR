{"ast":null,"code":"import { createAction } from 'redux-actions';\nimport * as _ from 'lodash';\nimport * as jwt from 'jwt-simple';\nimport { CONFIG } from '../../../config/index';\nimport { fireAjax } from '../../../services/index';\nimport * as constants from '../../../redux/constants';\nimport { show_loading, hide_loading } from '../../../redux/generic/actions/frontend';\nexport function list_my_leaves_sucess(data) {\n  return createAction(constants.ACTION_LIST_MY_LEAVES_SUCCESS)(data);\n}\nexport function list_my_leaves_empty(data) {\n  return createAction(constants.ACTION_LIST_MY_LEAVES_EMPTY)([]);\n}\nexport function list_my_leaves_error(err) {\n  return createAction(constants.ACTION_LIST_MY_LEAVES_ERROR)('Error Occurs !!');\n}\nexport function getRHLeavesListSuccess(data) {\n  return createAction(constants.REQUEST_RH_LIST_SUCCESS)(data);\n}\nexport function getRHLeavesListError(error) {\n  return createAction(constants.REQUEST_RH_LIST_ERROR)('Error Occurs !!');\n}\nexport function getRHStatusSuccess(data) {\n  return createAction(constants.REQUEST_RH_STATUS_SUCCESS)(data);\n}\nexport function getRHStatusError(error) {\n  return createAction(constants.REQUEST_RH_STATUS_ERROR)('Error Occurs !!');\n}\n\nfunction async_getMyLeaves() {\n  return fireAjax('POST', '', {\n    'action': 'get_my_leaves'\n  });\n}\n\nexport function getMyLeaves() {\n  return function (dispatch, getState) {\n    return new Promise(function (reslove, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_getMyLeaves().then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error == 0) {\n          dispatch(list_my_leaves_sucess(json.data));\n        } else {\n          dispatch(list_my_leaves_empty(json.data.message));\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        dispatch(list_my_leaves_error(error.data.message));\n      });\n    });\n  };\n}\n\nfunction async_cancelLeave(userId, from_date) {\n  return fireAjax('POST', '', {\n    'action': 'cancel_applied_leave',\n    'user_id': userId,\n    'date': from_date\n  });\n}\n\nexport function cancelLeave(userId, from_date) {\n  return function (dispatch, getState) {\n    return new Promise(function (reslove, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_cancelLeave(userId, from_date).then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error == 0) {\n          dispatch(getMyLeaves());\n        } else {\n          reject(json.data.message);\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\n\n        reject(error.data.message);\n      });\n    });\n  };\n}\n\nfunction async_getRHList(year, id) {\n  return fireAjax('POST', '', {\n    'action': 'get_my_rh_leaves',\n    'year': year,\n    \"user_id\": id\n  });\n}\n\nexport function getRHList(year, id) {\n  return function (dispatch, getState) {\n    return new Promise(function (reslove, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_getRHList(year, id).then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error == 0) {\n          dispatch(getRHLeavesListSuccess(json.data));\n        } else {\n          reject(json.data.message);\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\\\n\n        dispatch(getRHLeavesListError()); // reject(json.data.message);\n      });\n    });\n  };\n}\n\nfunction async_getRHStatus(year, id) {\n  return fireAjax('POST', '', {\n    'action': 'get_user_rh_stats',\n    'year': year,\n    \"user_id\": id\n  });\n}\n\nexport function getRHStatus(year, id) {\n  return function (dispatch, getState) {\n    return new Promise(function (reslove, reject) {\n      dispatch(show_loading()); // show loading icon\n\n      async_getRHStatus(year, id).then(function (json) {\n        dispatch(hide_loading()); // hide loading icon\n\n        if (json.error == 0) {\n          dispatch(getRHStatusSuccess(json.data));\n        } else {\n          reject(json.data);\n        }\n      }, function (error) {\n        dispatch(hide_loading()); // hide loading icon\\\n\n        dispatch(getRHStatusError()); // reject(json.data.message);\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/redux/leave/actions/myLeaves.js"],"names":["createAction","_","jwt","CONFIG","fireAjax","constants","show_loading","hide_loading","list_my_leaves_sucess","data","ACTION_LIST_MY_LEAVES_SUCCESS","list_my_leaves_empty","ACTION_LIST_MY_LEAVES_EMPTY","list_my_leaves_error","err","ACTION_LIST_MY_LEAVES_ERROR","getRHLeavesListSuccess","REQUEST_RH_LIST_SUCCESS","getRHLeavesListError","error","REQUEST_RH_LIST_ERROR","getRHStatusSuccess","REQUEST_RH_STATUS_SUCCESS","getRHStatusError","REQUEST_RH_STATUS_ERROR","async_getMyLeaves","getMyLeaves","dispatch","getState","Promise","reslove","reject","then","json","message","async_cancelLeave","userId","from_date","cancelLeave","async_getRHList","year","id","getRHList","async_getRHStatus","getRHStatus"],"mappings":"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","sourcesContent":["import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport * as jwt from 'jwt-simple';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport * as constants from '../../../redux/constants';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\n\nexport function list_my_leaves_sucess (data) {\n  return createAction(constants.ACTION_LIST_MY_LEAVES_SUCCESS)(data);\n}\n\nexport function list_my_leaves_empty (data) {\n  return createAction(constants.ACTION_LIST_MY_LEAVES_EMPTY)([]);\n}\n\nexport function list_my_leaves_error (err) {\n  return createAction(constants.ACTION_LIST_MY_LEAVES_ERROR)('Error Occurs !!');\n}\nexport function getRHLeavesListSuccess(data){    \n  return createAction(constants.REQUEST_RH_LIST_SUCCESS)(data)\n}\nexport function getRHLeavesListError(error){\n  return createAction(constants.REQUEST_RH_LIST_ERROR)('Error Occurs !!')\n}\nexport function getRHStatusSuccess(data){    \n  return createAction(constants.REQUEST_RH_STATUS_SUCCESS)(data)\n}\nexport function getRHStatusError(error){\n  return createAction(constants.REQUEST_RH_STATUS_ERROR)('Error Occurs !!')\n}\n\nfunction async_getMyLeaves () {\n  return fireAjax('POST', '', {\n    'action': 'get_my_leaves'\n  });\n}\n\nexport function getMyLeaves () {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getMyLeaves().then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(list_my_leaves_sucess(json.data));\n\t\t \t\t\t} else {\n\t\t \t\t\t\tdispatch(list_my_leaves_empty(json.data.message));\n\t\t \t\t\t}\n},\n\t\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  dispatch(list_my_leaves_error(error.data.message));\n}\n\t\t\t);\n    });\n  };\n}\n\nfunction async_cancelLeave (userId, from_date) {\n  return fireAjax('POST', '', {\n    'action':  'cancel_applied_leave',\n    'user_id': userId,\n \t\t'date':    from_date\n  });\n}\n\nexport function cancelLeave (userId, from_date) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_cancelLeave(userId, from_date).then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(getMyLeaves());\n\t\t \t\t\t} else {\n    reject(json.data.message);\n\t\t \t\t\t}\n},\n\t\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  reject(error.data.message);\n}\n\t\t\t);\n    });\n  };\n}\n\n\nfunction async_getRHList (year,id) {  \n  return fireAjax('POST', '', {\n    'action':  'get_my_rh_leaves',\n    'year': year,\n    \"user_id\":id\n  });\n}\n\nexport function getRHList(year,id) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getRHList(year,id).then(\n        (json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(getRHLeavesListSuccess(json.data));\n          } else {\n            reject(json.data.message);\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\\\n          dispatch(getRHLeavesListError())\n          // reject(json.data.message);\n        }\n      );\n    });\n  };\n}\n\n\nfunction async_getRHStatus (year,id) {  \n  return fireAjax('POST', '', {\n    'action':  'get_user_rh_stats',\n    'year': year,\n    \"user_id\":id\n  });\n}\n\nexport function getRHStatus(year,id) {  \n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getRHStatus(year,id).then(\n        (json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(getRHStatusSuccess(json.data));\n          } else {\n            reject(json.data);\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\\\n          dispatch(getRHStatusError())\n          // reject(json.data.message);\n        }\n      );\n    });\n  };\n}"]},"metadata":{},"sourceType":"module"}