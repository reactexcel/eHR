{"ast":null,"code":"// import $ from 'jquery';\nvar _ = require('underscore'); // let jQuery = $;\n\n\nvar app = window.app;\n\n(function ($) {\n  \"use strict\";\n\n  var promise = false,\n      deferred = $.Deferred();\n  _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n\n  $.fn.uiInclude = function () {\n    if (!promise) {\n      promise = deferred.promise();\n    } //console.log('start: includes');\n\n\n    compile(this);\n\n    function compile(node) {\n      node.find('[ui-include]').each(function () {\n        var that = $(this),\n            url = that.attr('ui-include');\n        promise = promise.then(function () {\n          //console.log('start: compile '+ url);\n          var request = $.ajax({\n            url: eval(url),\n            method: \"GET\",\n            dataType: \"text\"\n          }); //console.log('start: loading '+ url);\n\n          var chained = request.then(function (text) {\n            //console.log('done: loading '+ url);\n            var compiled = _.template(text.toString());\n\n            var html = compiled({\n              app: app\n            });\n            var ui = that.replaceWithPush(html);\n            ui.find('[ui-jp]').uiJp();\n            ui.find('[ui-include]').length && compile(ui);\n          });\n          return chained;\n        });\n      });\n    }\n\n    deferred.resolve();\n    return promise;\n  };\n\n  $.fn.replaceWithPush = function (o) {\n    var $o = $(o);\n    this.replaceWith($o);\n    return $o;\n  };\n})(window.jQuery);","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/themeFlatkit/scripts/ui-include.js"],"names":["_","require","app","window","$","promise","deferred","Deferred","templateSettings","interpolate","fn","uiInclude","compile","node","find","each","that","url","attr","then","request","ajax","eval","method","dataType","chained","text","compiled","template","toString","html","ui","replaceWithPush","uiJp","length","resolve","o","$o","replaceWith","jQuery"],"mappings":"AAAA;AACA,IAAIA,CAAC,GAAGC,OAAO,CAAC,YAAD,CAAf,C,CACA;;;AACA,IAAIC,GAAG,GAAGC,MAAM,CAACD,GAAjB;;AAEA,CAAC,UAAUE,CAAV,EAAa;AACb;;AAEA,MAAIC,OAAO,GAAG,KAAd;AAAA,MACCC,QAAQ,GAAGF,CAAC,CAACG,QAAF,EADZ;AAEAP,EAAAA,CAAC,CAACQ,gBAAF,CAAmBC,WAAnB,GAAiC,iBAAjC;;AACAL,EAAAA,CAAC,CAACM,EAAF,CAAKC,SAAL,GAAiB,YAAU;AAC1B,QAAG,CAACN,OAAJ,EAAY;AACXA,MAAAA,OAAO,GAAGC,QAAQ,CAACD,OAAT,EAAV;AACA,KAHyB,CAI1B;;;AAEAO,IAAAA,OAAO,CAAC,IAAD,CAAP;;AAEA,aAASA,OAAT,CAAiBC,IAAjB,EAAsB;AACrBA,MAAAA,IAAI,CAACC,IAAL,CAAU,cAAV,EAA0BC,IAA1B,CAA+B,YAAU;AACxC,YAAIC,IAAI,GAAGZ,CAAC,CAAC,IAAD,CAAZ;AAAA,YACCa,GAAG,GAAID,IAAI,CAACE,IAAL,CAAU,YAAV,CADR;AAEAb,QAAAA,OAAO,GAAGA,OAAO,CAACc,IAAR,CACT,YAAU;AACT;AACA,cAAIC,OAAO,GAAGhB,CAAC,CAACiB,IAAF,CAAO;AACpBJ,YAAAA,GAAG,EAAEK,IAAI,CAACL,GAAD,CADW;AAEpBM,YAAAA,MAAM,EAAE,KAFY;AAGpBC,YAAAA,QAAQ,EAAE;AAHU,WAAP,CAAd,CAFS,CAOT;;AACA,cAAIC,OAAO,GAAGL,OAAO,CAACD,IAAR,CACb,UAASO,IAAT,EAAc;AACb;AACA,gBAAIC,QAAQ,GAAG3B,CAAC,CAAC4B,QAAF,CAAWF,IAAI,CAACG,QAAL,EAAX,CAAf;;AACA,gBAAIC,IAAI,GAAGH,QAAQ,CAAC;AAACzB,cAAAA,GAAG,EAAEA;AAAN,aAAD,CAAnB;AACA,gBAAI6B,EAAE,GAAGf,IAAI,CAACgB,eAAL,CAAsBF,IAAtB,CAAT;AACGC,YAAAA,EAAE,CAACjB,IAAH,CAAQ,SAAR,EAAmBmB,IAAnB;AACHF,YAAAA,EAAE,CAACjB,IAAH,CAAQ,cAAR,EAAwBoB,MAAxB,IAAkCtB,OAAO,CAACmB,EAAD,CAAzC;AACA,WARY,CAAd;AAUA,iBAAON,OAAP;AACA,SApBQ,CAAV;AAsBA,OAzBD;AA0BA;;AAEDnB,IAAAA,QAAQ,CAAC6B,OAAT;AACA,WAAO9B,OAAP;AACA,GAvCD;;AAyCAD,EAAAA,CAAC,CAACM,EAAF,CAAKsB,eAAL,GAAuB,UAASI,CAAT,EAAY;AAC/B,QAAIC,EAAE,GAAGjC,CAAC,CAACgC,CAAD,CAAV;AACA,SAAKE,WAAL,CAAiBD,EAAjB;AACA,WAAOA,EAAP;AACH,GAJD;AAMA,CArDD,EAqDGlC,MAAM,CAACoC,MArDV","sourcesContent":["// import $ from 'jquery';\r\nvar _ = require('underscore');\r\n// let jQuery = $;\r\nlet app = window.app;\r\n\r\n(function ($) {\r\n\t\"use strict\";\r\n\t\r\n\tvar promise = false,\r\n\t\tdeferred = $.Deferred();\r\n\t_.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\r\n\t$.fn.uiInclude = function(){\r\n\t\tif(!promise){\r\n\t\t\tpromise = deferred.promise();\r\n\t\t}\r\n\t\t//console.log('start: includes');\r\n\r\n\t\tcompile(this);\r\n\r\n\t\tfunction compile(node){\r\n\t\t\tnode.find('[ui-include]').each(function(){\r\n\t\t\t\tvar that = $(this),\r\n\t\t\t\t\turl  = that.attr('ui-include');\r\n\t\t\t\tpromise = promise.then(\r\n\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t//console.log('start: compile '+ url);\r\n\t\t\t\t\t\tvar request = $.ajax({\r\n\t\t\t\t\t\t\turl: eval(url),\r\n\t\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\t\tdataType: \"text\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//console.log('start: loading '+ url);\r\n\t\t\t\t\t\tvar chained = request.then(\r\n\t\t\t\t\t\t\tfunction(text){\r\n\t\t\t\t\t\t\t\t//console.log('done: loading '+ url);\r\n\t\t\t\t\t\t\t\tvar compiled = _.template(text.toString());\r\n\t\t\t\t\t\t\t\tvar html = compiled({app: app});\r\n\t\t\t\t\t\t\t\tvar ui = that.replaceWithPush( html );\r\n\t\t\t\t    \t\t\tui.find('[ui-jp]').uiJp();\r\n\t\t\t\t\t\t\t\tui.find('[ui-include]').length && compile(ui);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn chained;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdeferred.resolve();\r\n\t\treturn promise;\r\n\t}\r\n\r\n\t$.fn.replaceWithPush = function(o) {\r\n\t    var $o = $(o);\r\n\t    this.replaceWith($o);\r\n\t    return $o;\r\n\t}\r\n\r\n})(window.jQuery);\r\n"]},"metadata":{},"sourceType":"module"}