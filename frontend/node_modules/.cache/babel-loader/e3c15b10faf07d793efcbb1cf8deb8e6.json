{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/components/FormAddNewEmployeeDetails.js\";\nimport React from \"react\";\nimport Dialog from \"material-ui/Dialog\";\nimport TextField from \"material-ui/TextField\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { notify } from \"../../../services/notify\";\nimport { DateField } from \"react-date-picker\";\nimport ToggleButton from \"react-toggle-button\"; // import \"react-date-picker/index.css\";\n\nimport { CONFIG } from \"../../../config/index\";\nimport Button from \"../../../components/generic/buttons/Button\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\nimport Header from \"../../../components/generic/Header\";\nimport { withRouter } from \"react-router\";\nimport ButtonRaised from \"../../../components/generic/buttons/ButtonRaised\";\nimport SignaturePad from \"signature_pad\";\nimport * as actions from \"../../../redux/actions\";\nimport * as actionsUsersList from \"../../../redux/generic/actions/usersList\";\nimport * as actionsManageUsers from \"../../../redux/manageUsers/actions/manageUsers\";\nvar signaturePad;\n\nvar FormAddNewEmployeeDetails =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormAddNewEmployeeDetails, _React$Component);\n\n  function FormAddNewEmployeeDetails(props) {\n    var _this;\n\n    _classCallCheck(this, FormAddNewEmployeeDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormAddNewEmployeeDetails).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      user_id: \"\",\n      permanent_address: \"\",\n      emergency_ph1: \"\",\n      emergency_ph2: \"\",\n      blood_group: \"\",\n      medical_condition: \"\",\n      holding_comments: \"\",\n      signature: \"\"\n    };\n    _this.callAddNewEmployeeDetails = _this.callAddNewEmployeeDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCanvas = _this.handleCanvas.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(FormAddNewEmployeeDetails, [{\n    key: \"handleCanvas\",\n    value: function handleCanvas() {\n      var _this2 = this;\n\n      signaturePad = new SignaturePad(document.getElementById(\"signature-pad\"), {\n        backgroundColor: \"rgba(255, 255, 255, 0)\",\n        penColor: \"rgb(0, 0, 0)\",\n        onEnd: function onEnd() {\n          localStorage.setItem(\"signature\", signaturePad.toDataURL());\n\n          _this2.setState({\n            signature: localStorage.signature\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.onUsersList();\n    }\n  }, {\n    key: \"handleCancelButton\",\n    value: function handleCancelButton() {\n      signaturePad.clear();\n    }\n  }, {\n    key: \"callAddNewEmployeeDetails\",\n    value: function callAddNewEmployeeDetails(new_profile_details) {\n      var _this3 = this;\n\n      this.props.onAddNewUserDetails(new_profile_details).then(function (data) {\n        notify(\"Success!!\", data.message, \"success\");\n\n        _this3.props.history.push(\"/add_documents/\".concat(_this3.props.params.id));\n      }, function (error) {\n        notify(\"error\", error, \"error\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Menu, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"content\",\n        className: \"app-content box-shadow-z0\",\n        role: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Header, {\n        pageTitle: \"Add New Employee Details\",\n        showLoading: this.props.frontend.show_loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"app-body\",\n        id: \"view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Permanent Address\",\n        floatingLabelFixed: true,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            permanent_address: e.target.value\n          });\n        },\n        value: this.state.permanent_address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-6 input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: \"number\",\n        floatingLabelText: \"Phone No\",\n        floatingLabelFixed: true,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            emergency_ph1: e.target.value\n          });\n        },\n        value: this.state.emergency_ph1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-6 input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: \"number\",\n        floatingLabelText: \"Emergency Contact No\",\n        floatingLabelFixed: true,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            emergency_ph2: e.target.value\n          });\n        },\n        value: this.state.emergency_ph2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-6 input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Blood Group\", React.createElement(\"select\", {\n        className: \"form-control\",\n        ref: \"blood_group\",\n        onChange: function onChange(e) {\n          return _this4.setState({\n            blood_group: e.target.value\n          });\n        },\n        value: this.state.blood_group,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"--select blood group--\"), React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"B+ \"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"O+\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"AB+\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"A+\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"B- \"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"O-\"), React.createElement(\"option\", {\n        value: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"AB-\"), React.createElement(\"option\", {\n        value: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"A-\"))), React.createElement(\"div\", {\n        className: \"col-md-8 input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Any Medical issues in past/present\",\n        floatingLabelFixed: true,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            medical_condition: e.target.value\n          });\n        },\n        value: this.state.medical_condition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-8 input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelText: \"Employee Holding Comment\",\n        floatingLabelFixed: true,\n        fullWidth: true,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            holding_comments: e.target.value,\n            user_id: _this4.props.params.id\n          });\n        },\n        value: this.state.holding_comments,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-8  input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Employee Signature\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"(Double-tap and hold then start drawing your signature)\"), React.createElement(\"canvas\", {\n        id: \"signature-pad\",\n        onClick: this.handleCanvas,\n        className: \"signature-pad\",\n        style: {\n          width: \"100%\",\n          height: 200,\n          border: \"1px solid rgba(80,80,80,0.6)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(ButtonRaised, {\n        onClick: this.handleCancelButton,\n        id: \"clear\",\n        label: \"Clear\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row p-y\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(ButtonRaised, {\n        className: \"col-xs-12 p-y-2 m-b-sm indigo\",\n        onClick: function onClick() {\n          return _this4.callAddNewEmployeeDetails(_this4.state);\n        },\n        label: \"Next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return FormAddNewEmployeeDetails;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    manageUsers: state.manageUsers.toJS()\n  };\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIsAlreadyLogin: function onIsAlreadyLogin() {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: function onUsersList() {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onAddNewUserDetails: function onAddNewUserDetails(new_profile_details) {\n      return dispatch(actionsManageUsers.addNewUserDetails(new_profile_details));\n    }\n  };\n};\n\nvar AddNewEmployeeDetails = withRouter(connect(mapStateToProps, mapDispatchToProps)(FormAddNewEmployeeDetails));\nexport default AddNewEmployeeDetails;\nAddNewEmployeeDetails.propTypes = {\n  onIsAlreadyLogin: PropTypes.func.isRequired,\n  usersList: PropTypes.object.isRequired,\n  onAddNewUserDetails: PropTypes.func.isRequired,\n  router: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/manageUsers/components/FormAddNewEmployeeDetails.js"],"names":["React","Dialog","TextField","PropTypes","connect","notify","DateField","ToggleButton","CONFIG","Button","Menu","isNotUserValid","Header","withRouter","ButtonRaised","SignaturePad","actions","actionsUsersList","actionsManageUsers","signaturePad","FormAddNewEmployeeDetails","props","onIsAlreadyLogin","state","user_id","permanent_address","emergency_ph1","emergency_ph2","blood_group","medical_condition","holding_comments","signature","callAddNewEmployeeDetails","bind","handleCanvas","document","getElementById","backgroundColor","penColor","onEnd","localStorage","setItem","toDataURL","setState","onUsersList","clear","new_profile_details","onAddNewUserDetails","then","data","message","history","push","params","id","error","frontend","show_loading","e","target","value","width","height","border","handleCancelButton","Component","mapStateToProps","toJS","loggedUser","logged_user","userLogin","manageUsers","mapDispatchToProps","dispatch","isAlreadyLogin","get_users_list","addNewUserDetails","AddNewEmployeeDetails","propTypes","func","isRequired","usersList","object","router"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Dialog from \"material-ui/Dialog\";\nimport TextField from \"material-ui/TextField\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { notify } from \"../../../services/notify\";\nimport { DateField } from \"react-date-picker\";\nimport ToggleButton from \"react-toggle-button\";\n// import \"react-date-picker/index.css\";\nimport { CONFIG } from \"../../../config/index\";\nimport Button from \"../../../components/generic/buttons/Button\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\nimport Header from \"../../../components/generic/Header\";\nimport { withRouter } from \"react-router\";\nimport ButtonRaised from \"../../../components/generic/buttons/ButtonRaised\";\nimport SignaturePad from \"signature_pad\";\nimport * as actions from \"../../../redux/actions\";\nimport * as actionsUsersList from \"../../../redux/generic/actions/usersList\";\nimport * as actionsManageUsers from \"../../../redux/manageUsers/actions/manageUsers\";\n\nlet signaturePad;\nclass FormAddNewEmployeeDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      user_id: \"\",\n      permanent_address: \"\",\n      emergency_ph1: \"\",\n      emergency_ph2: \"\",\n      blood_group: \"\",\n      medical_condition: \"\",\n      holding_comments: \"\",\n      signature: \"\"\n    };\n    this.callAddNewEmployeeDetails = this.callAddNewEmployeeDetails.bind(this);\n    this.handleCanvas = this.handleCanvas.bind(this);\n  }\n\n  handleCanvas() {\n    signaturePad = new SignaturePad(document.getElementById(\"signature-pad\"), {\n      backgroundColor: \"rgba(255, 255, 255, 0)\",\n      penColor: \"rgb(0, 0, 0)\",\n      onEnd: () => {\n        localStorage.setItem(\"signature\", signaturePad.toDataURL());\n        this.setState({\n          signature: localStorage.signature\n        });\n      }\n    });\n  }\n  componentWillMount() {\n    this.props.onUsersList();\n  }\n  handleCancelButton() {\n    signaturePad.clear();\n  }\n  callAddNewEmployeeDetails(new_profile_details) {\n    this.props.onAddNewUserDetails(new_profile_details).then(\n      data => {\n        notify(\"Success!!\", data.message, \"success\");\n        this.props.history.push(`/add_documents/${this.props.params.id}`);\n      },\n      error => {\n        notify(\"error\", error, \"error\");\n      }\n    );\n  }\n  render() {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header\n            pageTitle={\"Add New Employee Details\"}\n            showLoading={this.props.frontend.show_loading}\n          />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding\">\n              <div className=\"col-md-6 input-wrapper\">\n                <TextField\n                  floatingLabelText=\"Permanent Address\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ permanent_address: e.target.value })\n                  }\n                  value={this.state.permanent_address}\n                />\n              </div>\n              <div className=\"col-md-6 input-wrapper\">\n                <TextField\n                  type=\"number\"\n                  floatingLabelText=\"Phone No\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ emergency_ph1: e.target.value })\n                  }\n                  value={this.state.emergency_ph1}\n                />\n              </div>\n\n              <div className=\"col-md-6 input-wrapper\">\n                <TextField\n                  type=\"number\"\n                  floatingLabelText=\"Emergency Contact No\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ emergency_ph2: e.target.value })\n                  }\n                  value={this.state.emergency_ph2}\n                />\n              </div>\n              <div className=\"col-md-6 input-wrapper\">\n                Blood Group\n                <select\n                  className=\"form-control\"\n                  ref=\"blood_group\"\n                  onChange={e => this.setState({ blood_group: e.target.value })}\n                  value={this.state.blood_group}\n                >\n                  <option disabled>--select blood group--</option>\n                  <option value=\"0\">B+ </option>\n                  <option value=\"1\">O+</option>\n                  <option value=\"2\">AB+</option>\n                  <option value=\"3\">A+</option>\n                  <option value=\"4\">B- </option>\n                  <option value=\"5\">O-</option>\n                  <option value=\"6\">AB-</option>\n                  <option value=\"7\">A-</option>\n                </select>\n              </div>\n              <div className=\"col-md-8 input-wrapper\">\n                <TextField\n                  floatingLabelText=\"Any Medical issues in past/present\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ medical_condition: e.target.value })\n                  }\n                  value={this.state.medical_condition}\n                />\n              </div>\n              <div className=\"col-md-8 input-wrapper\">\n                <TextField\n                  floatingLabelText=\"Employee Holding Comment\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({\n                      holding_comments: e.target.value,\n                      user_id: this.props.params.id\n                    })\n                  }\n                  value={this.state.holding_comments}\n                />\n              </div>\n              <div className=\"col-md-8  input-wrapper\">\n                <label>Employee Signature</label>\n                <p>(Double-tap and hold then start drawing your signature)</p>\n                <canvas\n                  id=\"signature-pad\"\n                  onClick={this.handleCanvas}\n                  className=\"signature-pad\"\n                  style={{\n                    width: \"100%\",\n                    height: 200,\n                    border: \"1px solid rgba(80,80,80,0.6)\"\n                  }}\n                />\n                <ButtonRaised\n                  onClick={this.handleCancelButton}\n                  id=\"clear\"\n                  label={\"Clear\"}\n                />\n\n                <div className=\"row p-y\">\n                  <ButtonRaised\n                    className=\"col-xs-12 p-y-2 m-b-sm indigo\"\n                    onClick={() => this.callAddNewEmployeeDetails(this.state)}\n                    label={\"Next\"}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    manageUsers: state.manageUsers.toJS()\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: () => {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onAddNewUserDetails: new_profile_details => {\n      return dispatch(\n        actionsManageUsers.addNewUserDetails(new_profile_details)\n      );\n    }\n  };\n};\nconst AddNewEmployeeDetails = withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(FormAddNewEmployeeDetails)\n);\n\nexport default AddNewEmployeeDetails;\n\nAddNewEmployeeDetails.propTypes = {\n  onIsAlreadyLogin: PropTypes.func.isRequired,\n  usersList: PropTypes.object.isRequired,\n  onAddNewUserDetails: PropTypes.func.isRequired,\n  router: PropTypes.object.isRequired\n};\n"]},"metadata":{},"sourceType":"module"}