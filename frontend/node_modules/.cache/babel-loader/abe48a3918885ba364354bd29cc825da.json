{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/attendance/components/UserDaySummary.jsx\";\nimport React from 'react';\nimport { CONFIG } from '../../../config/index';\nimport 'timepicker/jquery.timepicker.min.css';\nimport 'timepicker/jquery.timepicker.min.js';\nimport $ from 'jquery';\n\nvar UserDaySummary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserDaySummary, _React$Component);\n\n  function UserDaySummary(props) {\n    var _this;\n\n    _classCallCheck(this, UserDaySummary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserDaySummary).call(this, props));\n    _this.state = {\n      current_userid: '',\n      current_date: '',\n      form_entry_time: '',\n      form_exit_time: '',\n      form_reason: '',\n      formInfo: '',\n      inputAccess: '',\n      buttonAccess: 'show',\n      year: '',\n      month: ''\n    };\n    _this.doUpdateDaySummary = _this.doUpdateDaySummary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserDaySummary, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      $('.timepickerInput').timepicker({\n        'minTime': '09:00 AM',\n        'maxTime': '09:00 PM',\n        'timeFormat': 'h:i A',\n        'step': 5\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE) {\n        this.setState({\n          formInfo: 'show'\n        });\n      } else {\n        this.setState({\n          formInfo: 'hidden'\n        });\n      }\n\n      var user_id = props.userid;\n      var date = props.date;\n      var year = props.year;\n      var month = props.month;\n\n      if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE && props.userDaySummary.entry_time !== '' && props.userDaySummary.exit_time !== '') {\n        this.setState({\n          inputAccess: 'true',\n          buttonAccess: 'hidden'\n        });\n      } else {\n        this.setState({\n          inputAccess: ''\n        });\n      }\n\n      this.setState({\n        year: props.year,\n        month: props.month,\n        current_userid: props.userDaySummary.userid,\n        current_date: props.date,\n        form_entry_time: props.userDaySummary.entry_time,\n        form_exit_time: props.userDaySummary.exit_time,\n        form_reason: this.state.form_reason\n      });\n    }\n  }, {\n    key: \"doUpdateDaySummary\",\n    value: function doUpdateDaySummary(evt) {\n      evt.preventDefault();\n      var _this$state = this.state,\n          current_userid = _this$state.current_userid,\n          current_date = _this$state.current_date,\n          form_entry_time = _this$state.form_entry_time,\n          form_exit_time = _this$state.form_exit_time,\n          form_reason = _this$state.form_reason,\n          year = _this$state.year,\n          month = _this$state.month;\n      this.props.requestUpdateUserDaySummary({\n        userid: current_userid,\n        date: current_date,\n        entryTime: form_entry_time,\n        exitTime: form_exit_time,\n        reason: form_reason,\n        year: year,\n        month: month\n      });\n      $('#modalUserDaySummary').modal('hide');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"modalUserDaySummary\",\n        className: \"modal\",\n        \"data-backdrop\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog modal-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-11\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"User Day Summary - \", this.props.userDaySummary.name, \"- \", this.props.date)), React.createElement(\"div\", {\n        className: \"col-xs-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-icon white\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"modal-body p-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"*Entry / Exit time must be like - e.g 10:30 AM, 07:30 PM\"), React.createElement(\"i\", {\n        className: this.state.formInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, '20 min will be added/deducted from your entry/exit time as compensation in case you forgot to push in/out.If there is some other reason for your using this form contact HR'), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        role: \"form\",\n        onSubmit: function onSubmit(evt) {\n          _this2.doUpdateDaySummary(evt);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Entry Time\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"entryTime\",\n        className: \"timepickerInput form-control\",\n        disabled: this.state.inputAccess,\n        ref: \"entry_time\",\n        value: this.state.form_entry_time,\n        onBlur: function onBlur() {\n          return _this2.setState({\n            form_entry_time: _this2.refs.entry_time.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Exit Time\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"exitTime\",\n        className: \"timepickerInput form-control\",\n        ref: \"exit_time\",\n        disabled: this.state.inputAccess,\n        value: this.state.form_exit_time,\n        onBlur: function onBlur() {\n          return _this2.setState({\n            form_exit_time: _this2.refs.exit_time.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Reason\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"reason\",\n        className: \"form-control\",\n        ref: \"reason\",\n        disabled: this.state.inputAccess,\n        value: this.state.form_reason,\n        onChange: function onChange() {\n          return _this2.setState({\n            form_reason: _this2.refs.reason.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row m-t-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.state.buttonAccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"submit\",\n        type: \"submit\",\n        className: \"md-btn md-raised m-b-sm w-xs green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Update\"))))))))));\n    }\n  }]);\n\n  return UserDaySummary;\n}(React.Component);\n\nexport default UserDaySummary;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/attendance/components/UserDaySummary.jsx"],"names":["React","CONFIG","$","UserDaySummary","props","state","current_userid","current_date","form_entry_time","form_exit_time","form_reason","formInfo","inputAccess","buttonAccess","year","month","doUpdateDaySummary","bind","timepicker","loggedUser","data","role","EMPLOYEE","setState","user_id","userid","date","userDaySummary","entry_time","exit_time","evt","preventDefault","requestUpdateUserDaySummary","entryTime","exitTime","reason","modal","name","refs","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {CONFIG} from '../../../config/index';\nimport 'timepicker/jquery.timepicker.min.css';\nimport 'timepicker/jquery.timepicker.min.js';\nimport $ from 'jquery';\n\nclass UserDaySummary extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      current_userid:  '',\n      current_date:    '',\n      form_entry_time: '',\n      form_exit_time:  '',\n      form_reason:     '',\n      formInfo:        '',\n      inputAccess:     '',\n      buttonAccess:    'show',\n      year:            '',\n      month:           ''\n    };\n    this.doUpdateDaySummary = this.doUpdateDaySummary.bind(this);\n  }\n  componentDidMount () {\n    $('.timepickerInput').timepicker({'minTime': '09:00 AM', 'maxTime': '09:00 PM', 'timeFormat': 'h:i A', 'step': 5});\n  }\n  componentWillReceiveProps (props) {\n    if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE) {\n      this.setState({formInfo: 'show'});\n    } else {\n      this.setState({formInfo: 'hidden'});\n    }\n    let user_id = props.userid;\n    let date = props.date;\n    let year = props.year;\n    let month = props.month;\n    if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE && props.userDaySummary.entry_time !== '' && props.userDaySummary.exit_time !== '') {\n      this.setState({inputAccess: 'true', buttonAccess: 'hidden'});\n    } else {\n      this.setState({inputAccess: ''});\n    }\n    this.setState({\n      year:            props.year,\n      month:           props.month,\n      current_userid:  props.userDaySummary.userid,\n      current_date:    props.date,\n      form_entry_time: props.userDaySummary.entry_time,\n      form_exit_time:  props.userDaySummary.exit_time,\n      form_reason:     this.state.form_reason\n    });\n  }\n\n  doUpdateDaySummary (evt) {\n    evt.preventDefault();\n    let {current_userid, current_date, form_entry_time, form_exit_time, form_reason, year, month} = this.state;\n    this.props.requestUpdateUserDaySummary({\n      userid:    current_userid,\n      date:      current_date,\n      entryTime: form_entry_time,\n      exitTime:  form_exit_time,\n      reason:    form_reason,\n      year,\n      month\n    });\n    $('#modalUserDaySummary').modal('hide');\n  }\n\n  render () {\n    return (\n      <div>\n        <div id=\"modalUserDaySummary\" className=\"modal\" data-backdrop=\"true\">\n          <div className=\"modal-dialog modal-lg\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <div className=\"row\">\n                  <div className=\"col-xs-11\">\n                    <h5 className=\"modal-title\">User Day Summary - {this.props.userDaySummary.name}\n                      - {this.props.date}</h5>\n                  </div>\n                  <div className=\"col-xs-1\">\n                    <button className=\"btn btn-icon white\" data-dismiss=\"modal\">\n                      <i className=\"fa fa-remove\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"modal-body p-lg\">\n                <i>*Entry / Exit time must be like - e.g 10:30 AM, 07:30 PM</i>\n                <i className={this.state.formInfo}>\n                  {'20 min will be added/deducted from your entry/exit time as compensation in case you forgot to push in/out.If there is some other reason for your using this form contact HR'}\n                </i>\n                <br />\n                <br />\n                <form role=\"form\" onSubmit={(evt) => {\n                  this.doUpdateDaySummary(evt);\n                }}>\n                  <div className=\"form-group row\">\n                    <label className=\"col-sm-2 form-control-label\">Entry Time</label>\n                    <div className=\"col-sm-9\">\n                      <input type=\"text\" name=\"entryTime\" className=\"timepickerInput form-control\" disabled={this.state.inputAccess} ref=\"entry_time\" value={this.state.form_entry_time} onBlur={() => this.setState({form_entry_time: this.refs.entry_time.value})} required />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group row\">\n                    <label className=\"col-sm-2 form-control-label\">Exit Time</label>\n                    <div className=\"col-sm-9\">\n                      <input type=\"text\" name=\"exitTime\" className=\"timepickerInput form-control\" ref=\"exit_time\" disabled={this.state.inputAccess} value={this.state.form_exit_time} onBlur={() => this.setState({form_exit_time: this.refs.exit_time.value})} required />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group row\">\n                    <label className=\"col-sm-2 form-control-label\">Reason</label>\n                    <div className=\"col-sm-9\">\n                      <input type=\"text\" name=\"reason\" className=\"form-control\" ref=\"reason\" disabled={this.state.inputAccess} value={this.state.form_reason} onChange={() => this.setState({form_reason: this.refs.reason.value})} required />\n                    </div>\n                  </div>\n                  <div className=\"form-group row m-t-md\">\n                    <div className=\"col-sm-10\">\n                      <div className={this.state.buttonAccess}>\n                        <button id=\"submit\" type=\"submit\" className=\"md-btn md-raised m-b-sm w-xs green\">Update</button>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserDaySummary;\n"]},"metadata":{},"sourceType":"module"}