{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/workingHours/components/AddAsHalfDayLeave.jsx\";\nimport React from \"react\"; // import 'react-date-picker/index.css';\n\nimport ButtonRaised from \"../../../components/generic/buttons/ButtonRaised\";\nimport { notify } from \"../../../services/notify\";\n\nvar AddAsHalfDayLeave =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddAsHalfDayLeave, _React$Component);\n\n  function AddAsHalfDayLeave(props) {\n    var _this;\n\n    _classCallCheck(this, AddAsHalfDayLeave);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddAsHalfDayLeave).call(this, props));\n    _this.state = {\n      day_status: \"\",\n      pending_id: \"\",\n      year: \"\",\n      month: \"\",\n      userId: \"\",\n      half_day: \"0.5\",\n      full_day: \"1\",\n      clickedHalfDay: \"\",\n      clickedFullDay: \"\",\n      show_status_message: false\n    };\n    _this._apply_half_day_1 = _this._apply_half_day_1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddAsHalfDayLeave, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        userId: this.props.val.user_Id,\n        pending_id: this.props.val.id,\n        year: this.props.manageUserPendingHours.year,\n        month: this.props.manageUserPendingHours.displayData.month\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        pending_id: props.val.id,\n        userId: props.val.user_Id,\n        year: props.manageUserPendingHours.displayData.year,\n        month: props.manageUserPendingHours.displayData.month\n      });\n    }\n  }, {\n    key: \"_apply_half_day_1\",\n    value: function _apply_half_day_1(shift) {\n      var _this2 = this;\n\n      if (shift === 1) {\n        var day_status = \"1\";\n        this.setState({\n          clickedHalfDay: this.props.val.user_Id\n        }); //clicked button info\n\n        this.props.onApplyHalfLeave(this.state.half_day, this.state.userId, day_status, this.state.pending_id, this.state.year, this.state.month).then(function (data) {\n          // notify('Success !','Half day leave Applied','success');\n          _this2.setState({\n            form_no_of_days: \"\",\n            pending_id: \"\",\n            year: \"\",\n            month: \"\",\n            userId: \"\",\n            show_status_message: true,\n            clickedHalfDay: \"\"\n          });\n        }).catch(function (error) {\n          notify(\"Error !\", error, \"error\");\n        });\n      } else if (shift === 2) {\n        var _day_status = \"\";\n        this.setState({\n          clickedFullDay: this.props.val.user_Id\n        }); //clicked button info\n\n        this.props.onApplyHalfLeave(this.state.full_day, this.state.userId, _day_status, this.state.pending_id, this.state.year, this.state.month).then(function (data) {\n          // notify('Success !','full day leave Applied','success');\n          _this2.setState({\n            form_no_of_days: \"\",\n            pending_id: \"\",\n            year: \"\",\n            month: \"\",\n            userId: \"\",\n            show_status_message: true,\n            clickedFullDay: \"\"\n          });\n        }).catch(function (error) {\n          notify(\"Error !\", error, \"error\");\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var status_message = \"\";\n\n      if (this.props.applyLeave.status_message != \"\" && this.state.show_status_message == true) {\n        status_message = React.createElement(\"span\", {\n          className: \"well\",\n          style: {\n            background: \"#60cffa\",\n            padding: \"5px\",\n            marginLeft: \"8px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, this.props.applyLeave.status_message);\n      }\n\n      var width = \"63%\";\n\n      if (this.props.forAdmin == true) {\n        width = \"82%\";\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.clickedHalfDay === this.props.val.user_Id && this.props.manageUserPendingHours.status_message === \"\" ? React.createElement(\"span\", {\n        className: \"d-inline mr-4 loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(ButtonRaised, {\n        className: \"m-b-sm indigo\",\n        onClick: function onClick() {\n          return _this3._apply_half_day_1(1);\n        },\n        label: \"Apply Half Day Leave\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), this.state.clickedFullDay === this.props.val.user_Id && this.props.manageUserPendingHours.status_message === \"\" ? React.createElement(\"span\", {\n        className: \"d-inline loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(ButtonRaised, {\n        className: \"m-b-sm indigo\",\n        onClick: function onClick() {\n          return _this3._apply_half_day_1(2);\n        },\n        label: \"Apply full Day Leave\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AddAsHalfDayLeave;\n}(React.Component);\n\nexport default AddAsHalfDayLeave;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/workingHours/components/AddAsHalfDayLeave.jsx"],"names":["React","ButtonRaised","notify","AddAsHalfDayLeave","props","state","day_status","pending_id","year","month","userId","half_day","full_day","clickedHalfDay","clickedFullDay","show_status_message","_apply_half_day_1","bind","setState","val","user_Id","id","manageUserPendingHours","displayData","shift","onApplyHalfLeave","then","data","form_no_of_days","catch","error","status_message","applyLeave","background","padding","marginLeft","width","forAdmin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import 'react-date-picker/index.css';\nimport ButtonRaised from \"../../../components/generic/buttons/ButtonRaised\";\nimport { notify } from \"../../../services/notify\";\n\nclass AddAsHalfDayLeave extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      day_status: \"\",\n      pending_id: \"\",\n      year: \"\",\n      month: \"\",\n      userId: \"\",\n      half_day: \"0.5\",\n      full_day: \"1\",\n      clickedHalfDay: \"\",\n      clickedFullDay: \"\",\n      show_status_message: false\n    };\n    this._apply_half_day_1 = this._apply_half_day_1.bind(this);\n  }\n  componentWillMount() {\n    this.setState({\n      userId: this.props.val.user_Id,\n      pending_id: this.props.val.id,\n      year: this.props.manageUserPendingHours.year,\n      month: this.props.manageUserPendingHours.displayData.month\n    });\n  }\n  componentWillReceiveProps(props) {\n    this.setState({\n      pending_id: props.val.id,\n      userId: props.val.user_Id,\n      year: props.manageUserPendingHours.displayData.year,\n      month: props.manageUserPendingHours.displayData.month\n    });\n  }\n\n  _apply_half_day_1(shift) {\n    if (shift === 1) {\n      let day_status = \"1\";\n\n      this.setState({ clickedHalfDay: this.props.val.user_Id });\n      //clicked button info\n\n      this.props\n        .onApplyHalfLeave(\n          this.state.half_day,\n          this.state.userId,\n          day_status,\n          this.state.pending_id,\n          this.state.year,\n          this.state.month\n        )\n        .then(data => {\n          // notify('Success !','Half day leave Applied','success');\n          this.setState({\n            form_no_of_days: \"\",\n            pending_id: \"\",\n            year: \"\",\n            month: \"\",\n            userId: \"\",\n            show_status_message: true,\n            clickedHalfDay: \"\"\n          });\n        })\n        .catch(error => {\n          notify(\"Error !\", error, \"error\");\n        });\n    } else if (shift === 2) {\n      let day_status = \"\";\n\n      this.setState({ clickedFullDay: this.props.val.user_Id });\n      //clicked button info\n\n      this.props\n        .onApplyHalfLeave(\n          this.state.full_day,\n          this.state.userId,\n          day_status,\n          this.state.pending_id,\n          this.state.year,\n          this.state.month\n        )\n        .then(data => {\n          // notify('Success !','full day leave Applied','success');\n          this.setState({\n            form_no_of_days: \"\",\n            pending_id: \"\",\n            year: \"\",\n            month: \"\",\n            userId: \"\",\n            show_status_message: true,\n            clickedFullDay: \"\"\n          });\n        })\n        .catch(error => {\n          notify(\"Error !\", error, \"error\");\n        });\n    }\n  }\n\n  render() {\n    let status_message = \"\";\n    if (\n      this.props.applyLeave.status_message != \"\" &&\n      this.state.show_status_message == true\n    ) {\n      status_message = (\n        <span\n          className=\"well\"\n          style={{ background: \"#60cffa\", padding: \"5px\", marginLeft: \"8px\" }}\n        >\n          {this.props.applyLeave.status_message}\n        </span>\n      );\n    }\n\n    let width = \"63%\";\n    if (this.props.forAdmin == true) {\n      width = \"82%\";\n    }\n    return (\n      <div>\n        <div>\n          {this.state.clickedHalfDay === this.props.val.user_Id &&\n          this.props.manageUserPendingHours.status_message === \"\" ? (\n            <span className=\"d-inline mr-4 loading\">\n              <i className=\"fa fa-spinner fa-spin\" />\n            </span>\n          ) : (\n            <span />\n          )}\n          <ButtonRaised\n            className=\"m-b-sm indigo\"\n            onClick={() => this._apply_half_day_1(1)}\n            label=\"Apply Half Day Leave\"\n          />\n          <br />\n          {this.state.clickedFullDay === this.props.val.user_Id &&\n          this.props.manageUserPendingHours.status_message === \"\" ? (\n            <span className=\"d-inline loading\">\n              <i className=\"fa fa-spinner fa-spin\" />\n            </span>\n          ) : (\n            <span />\n          )}\n          <ButtonRaised\n            className=\"m-b-sm indigo\"\n            onClick={() => this._apply_half_day_1(2)}\n            label=\"Apply full Day Leave\"\n          />\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddAsHalfDayLeave;\n"]},"metadata":{},"sourceType":"module"}