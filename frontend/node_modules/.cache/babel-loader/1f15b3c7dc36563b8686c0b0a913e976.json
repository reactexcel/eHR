{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/attendance/components/empDaySummary.jsx\";\nimport React from \"react\";\nimport $ from 'jquery';\nimport { CONFIG } from \"../../../config/index\";\nimport \"timepicker/jquery.timepicker.min.css\";\nimport \"timepicker/jquery.timepicker.min.js\";\n\nvar moment = require(\"moment\");\n\nvar empDaySummary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(empDaySummary, _React$Component);\n\n  function empDaySummary(props) {\n    var _this;\n\n    _classCallCheck(this, empDaySummary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(empDaySummary).call(this, props));\n    _this.state = {\n      current_userid: \"\",\n      current_date: \"\",\n      form_entry_time: \"\",\n      form_exit_time: \"\",\n      form_reason: \"\",\n      formInfo: \"\",\n      inputAccess: \"\",\n      buttonAccess: \"show\",\n      year: \"\",\n      month: \"\",\n      message: \"\"\n    };\n    _this.updateDaySummary = _this.updateDaySummary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(empDaySummary, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      $(\".timepickerInput\").timepicker({\n        minTime: \"09:00 AM\",\n        maxTime: \"09:00 PM\",\n        timeFormat: \"h:i A\",\n        step: 5\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE) {\n        this.setState({\n          formInfo: \"show\"\n        });\n      } else {\n        this.setState({\n          formInfo: \"hidden\"\n        });\n      }\n\n      var user_id = props.userid;\n      var date = props.date;\n      var year = props.year;\n      var month = props.month;\n\n      if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE && props.userDaySummary.userid !== \"\" && props.empDaySummary.exit_time !== \"\") {\n        this.setState({\n          inputAccess: \"\",\n          buttonAccess: \"\"\n        });\n      } else {\n        this.setState({\n          inputAccess: \"\"\n        });\n      }\n\n      this.setState({\n        year: props.year,\n        month: props.month,\n        current_userid: props.userDaySummary.userid,\n        form_entry_time: props.userDaySummary.entry_time,\n        form_exit_time: props.userDaySummary.exit_time,\n        current_date: moment(props.date).format(\"MM-DD-YYYY\")\n      });\n    }\n  }, {\n    key: \"updateDaySummary\",\n    value: function updateDaySummary(evt) {\n      evt.preventDefault();\n      var _this$state = this.state,\n          current_userid = _this$state.current_userid,\n          current_date = _this$state.current_date,\n          form_entry_time = _this$state.form_entry_time,\n          form_exit_time = _this$state.form_exit_time,\n          form_reason = _this$state.form_reason,\n          year = _this$state.year,\n          month = _this$state.month;\n      this.props.requestUpdateEmpDaySummary({\n        userid: current_userid,\n        date: current_date,\n        entryTime: form_entry_time,\n        exitTime: form_exit_time,\n        reason: form_reason,\n        year: year,\n        month: month\n      });\n      $(\"#modalUserDaySummary\").modal(\"hide\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"modalUserDaySummary\",\n        className: \"modal\",\n        \"data-backdrop\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog modal-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-11\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.props.userDaySummary.name, \" \", \"Your Day Summary of \", \" \", \"- \", this.props.date)), React.createElement(\"div\", {\n        className: \"col-xs-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-icon white\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"modal-body p-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"*Entry / Exit time must be like - e.g 10:30 AM, 07:30 PM\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"*Your Entry / Exit time, will be sent to the Admin for approval\"), React.createElement(\"i\", {\n        className: this.state.formInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"20 min will be added/deducted from your entry/exit time as compensation in case you forgot to push in/out. If there is some other reason for your using this form contact HR\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        role: \"form\",\n        type: \"form\",\n        name: \"empForm\",\n        onSubmit: function onSubmit(evt) {\n          _this2.updateDaySummary(evt);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Entry Time\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"entry_time\",\n        className: \"timepickerInput form-control\",\n        disabled: this.state.inputAccess,\n        ref: \"entry_time\",\n        value: this.state.form_entry_time,\n        onBlur: function onBlur() {\n          return _this2.setState({\n            form_entry_time: _this2.refs.entry_time.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Exit Time\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"exit_time\",\n        className: \"timepickerInput form-control\",\n        ref: \"exit_time\",\n        disabled: this.state.inputAccess,\n        value: this.state.form_exit_time,\n        onBlur: function onBlur() {\n          return _this2.setState({\n            form_exit_time: _this2.refs.exit_time.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 form-control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Reason\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"reason\",\n        className: \"form-control\",\n        ref: \"reason\",\n        disabled: this.state.inputAccess,\n        value: this.state.form_reason,\n        onChange: function onChange() {\n          return _this2.setState({\n            form_reason: _this2.refs.reason.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row m-t-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.state.buttonAccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"submit\",\n        type: \"submit\",\n        name: \"emButton\",\n        className: \"md-btn md-raised m-b-sm w-xs blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Update\"))))))))));\n    }\n  }]);\n\n  return empDaySummary;\n}(React.Component);\n\nexport { empDaySummary as default };","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/attendance/components/empDaySummary.jsx"],"names":["React","$","CONFIG","moment","require","empDaySummary","props","state","current_userid","current_date","form_entry_time","form_exit_time","form_reason","formInfo","inputAccess","buttonAccess","year","month","message","updateDaySummary","bind","timepicker","minTime","maxTime","timeFormat","step","loggedUser","data","role","EMPLOYEE","setState","user_id","userid","date","userDaySummary","exit_time","entry_time","format","evt","preventDefault","requestUpdateEmpDaySummary","entryTime","exitTime","reason","modal","name","refs","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from 'jquery';\nimport { CONFIG } from \"../../../config/index\";\nimport \"timepicker/jquery.timepicker.min.css\";\nimport \"timepicker/jquery.timepicker.min.js\";\nvar moment = require(\"moment\");\n\nexport default class empDaySummary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current_userid: \"\",\n      current_date: \"\",\n      form_entry_time: \"\",\n      form_exit_time: \"\",\n      form_reason: \"\",\n      formInfo: \"\",\n      inputAccess: \"\",\n      buttonAccess: \"show\",\n      year: \"\",\n      month: \"\",\n      message: \"\"\n    };\n    this.updateDaySummary = this.updateDaySummary.bind(this);\n  }\n  componentDidMount() {\n    $(\".timepickerInput\").timepicker({\n      minTime: \"09:00 AM\",\n      maxTime: \"09:00 PM\",\n      timeFormat: \"h:i A\",\n      step: 5\n    });\n  }\n  componentWillReceiveProps(props) {\n    if (this.props.loggedUser.data.role === CONFIG.EMPLOYEE) {\n      this.setState({ formInfo: \"show\" });\n    } else {\n      this.setState({ formInfo: \"hidden\" });\n    }\n\n    let user_id = props.userid;\n    let date = props.date;\n    let year = props.year;\n    let month = props.month;\n    if (\n      this.props.loggedUser.data.role === CONFIG.EMPLOYEE &&\n      props.userDaySummary.userid !== \"\" &&\n      props.empDaySummary.exit_time !== \"\"\n    ) {\n      this.setState({ inputAccess: \"\", buttonAccess: \"\" });\n    } else {\n      this.setState({ inputAccess: \"\" });\n    }\n    this.setState({\n      year: props.year,\n      month: props.month,\n      current_userid: props.userDaySummary.userid,\n      form_entry_time: props.userDaySummary.entry_time,\n      form_exit_time: props.userDaySummary.exit_time,\n      current_date: moment(props.date).format(\"MM-DD-YYYY\")\n    });\n  }\n\n  updateDaySummary(evt) {\n    evt.preventDefault();\n    let {\n      current_userid,\n      current_date,\n      form_entry_time,\n      form_exit_time,\n      form_reason,\n      year,\n      month\n    } = this.state;\n    this.props.requestUpdateEmpDaySummary({\n      userid: current_userid,\n      date: current_date,\n      entryTime: form_entry_time,\n      exitTime: form_exit_time,\n      reason: form_reason,\n      year,\n      month\n    })\n    $(\"#modalUserDaySummary\").modal(\"hide\");\n   \n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"modalUserDaySummary\" className=\"modal\" data-backdrop=\"true\">\n          <div className=\"modal-dialog modal-lg\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <div className=\"row\">\n                  <div className=\"col-xs-11\">\n                    <h5 className=\"modal-title\">\n                      {this.props.userDaySummary.name} {\"Your Day Summary of \"}{\" \"}\n                      - {this.props.date}\n                    </h5>\n                  </div>\n                  <div className=\"col-xs-1\">\n                    <button className=\"btn btn-icon white\" data-dismiss=\"modal\">\n                      <i className=\"fa fa-remove\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"modal-body p-lg\">\n                <i>\n                  {\"*Entry / Exit time must be like - e.g 10:30 AM, 07:30 PM\"}\n                </i>\n                <br />\n                <i>\n                  {\n                    \"*Your Entry / Exit time, will be sent to the Admin for approval\"\n                  }\n                </i>\n                <i className={this.state.formInfo}>\n                  {\n                    \"20 min will be added/deducted from your entry/exit time as compensation in case you forgot to push in/out. If there is some other reason for your using this form contact HR\"\n                  }\n                </i>\n                <br />\n                <br />\n                <form\n                  role=\"form\"\n                  type=\"form\"\n                  name=\"empForm\"\n                  onSubmit={evt => {\n                    this.updateDaySummary(evt);\n                  }}\n                >\n                  <div className=\"form-group row\">\n                    <label className=\"col-sm-2 form-control-label\">\n                      {\"Entry Time\"}\n                    </label>\n                    <div className=\"col-sm-9\">\n                      <input\n                        type=\"text\"\n                        name=\"entry_time\"\n                        className=\"timepickerInput form-control\"\n                        disabled={this.state.inputAccess}\n                        ref=\"entry_time\"\n                        value={this.state.form_entry_time}\n                        onBlur={() =>\n                          this.setState({\n                            form_entry_time: this.refs.entry_time.value\n                          })\n                        }\n                        required\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-sm-2 form-control-label\">\n                      {\"Exit Time\"}\n                    </label>\n                    <div className=\"col-sm-9\">\n                      <input\n                        type=\"text\"\n                        name=\"exit_time\"\n                        className=\"timepickerInput form-control\"\n                        ref=\"exit_time\"\n                        disabled={this.state.inputAccess}\n                        value={this.state.form_exit_time}\n                        onBlur={() =>\n                          this.setState({\n                            form_exit_time: this.refs.exit_time.value\n                          })\n                        }\n                        required\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-sm-2 form-control-label\">\n                      {\"Reason\"}\n                    </label>\n                    <div className=\"col-sm-9\">\n                      <input\n                        type=\"text\"\n                        name=\"reason\"\n                        className=\"form-control\"\n                        ref=\"reason\"\n                        disabled={this.state.inputAccess}\n                        value={this.state.form_reason}\n                        onChange={() =>\n                          this.setState({ form_reason: this.refs.reason.value })\n                        }\n                        required\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group row m-t-md\">\n                    <div className=\"col-sm-10\">\n                      <div className={this.state.buttonAccess}>\n                        <button\n                          id=\"submit\"\n                          type=\"submit\"\n                          name=\"emButton\"\n                          className=\"md-btn md-raised m-b-sm w-xs blue\"\n                        >\n                          {\"Update\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}