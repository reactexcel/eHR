{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/templates/components/Template.jsx\";\nimport React from 'react';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport RichTextEditor from 'react-rte'; // import update from 'react/lib/update';\n\nimport Paper from 'material-ui/Paper';\nimport { CONFIG } from '../../../config/index';\nimport Dialog from 'material-ui/Dialog';\nimport Divider from 'material-ui/Divider';\nimport { confirm } from '../../../services/notify';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport IconButton from 'material-ui/IconButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport LinearProgress from 'material-ui/LinearProgress';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport LoadingIcon from '../../../components/generic/LoadingIcon'; // import EditableDiv from '../../../components/editor/EditableDiv';\n\nimport FilterLabel from '../../../components/template/FilterLabel';\nimport { getToken } from '../../../services/generic';\nimport $ from 'jquery';\n\nvar FormData = require('form-data');\n\nvar moment = require('moment');\n\nvar Variables =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Variables, _React$Component);\n\n  function Variables(props) {\n    var _this;\n\n    _classCallCheck(this, Variables);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Variables).call(this, props));\n\n    _this.props.onIsAlreadyLogin();\n\n    _this.state = {\n      usersList: [],\n      openDialog: false,\n      templateId: '',\n      templateName: '',\n      templateSubject: '',\n      templateBody: RichTextEditor.createEmptyValue(),\n      errName: '',\n      errSubject: '',\n      pValue: [],\n      openSendMailDialog: false,\n      recipient: [],\n      cc: [],\n      bcc: [],\n      recipientType: 'Recipient',\n      openVarDialog: false,\n      openPreview: false,\n      sentMail: {},\n      recipientEmailId: '',\n      recipientNotFound: false,\n      emailValidationError: '',\n      upload_file: [],\n      uploadedPDF: [],\n      LinearProgressBar: [],\n      header: ''\n    };\n    _this.openCreateTemplate = _this.openCreateTemplate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCloseDialog = _this.handleCloseDialog.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCloseDialog1 = _this.handleCloseDialog1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.saveTemplate = _this.saveTemplate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editTemplate = _this.editTemplate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteTemplate = _this.deleteTemplate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.forwardTemplate = _this.forwardTemplate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onClickLabel = _this.onClickLabel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleContentChange = _this.handleContentChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendMail = _this.sendMail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.applyVariables = _this.applyVariables.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setVariable = _this.setVariable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openMailPreview = _this.openMailPreview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeMailPreview = _this.closeMailPreview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitEmail = _this.submitEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.hideError = _this.hideError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.download_mail_preview = _this.download_mail_preview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.uploadPDF = _this.uploadPDF.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteAttachment = _this.deleteAttachment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.variables = [];\n    return _this;\n  }\n\n  _createClass(Variables, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      window.scrollTo(0, 0);\n\n      if (!props.loggedUser.isLoggedIn) {\n        this.props.history.push('/logout');\n      } else {\n        if (props.loggedUser.data.role == CONFIG.ADMIN || props.loggedUser.data.role == CONFIG.HR) {} else {\n          this.props.history.push('/home');\n        }\n      }\n\n      this.setState({\n        usersList: props.employee.employee\n      });\n    }\n  }, {\n    key: \"saveTemplate\",\n    value: function saveTemplate() {\n      var _this2 = this;\n\n      var t_id = this.state.templateId.trim(),\n          t_name = this.state.templateName.trim(),\n          t_subject = this.state.templateSubject.trim(),\n          t_body = this.state.templateBody.toString('html'),\n          errName = '',\n          errSubject = '';\n\n      if (_.isEmpty(t_name)) {\n        errName = 'Name empty';\n      }\n\n      if (_.isEmpty(t_subject)) {\n        errSubject = 'Subject empty';\n      }\n\n      this.setState({\n        errName: errName,\n        errSubject: errSubject\n      });\n\n      if (!_.isEmpty(t_name) && !_.isEmpty(t_subject) && !_.isEmpty(t_body)) {\n        this.props.onSaveTemplate(t_id, t_name, t_subject, t_body).then(function (succ) {\n          _this2.showError('mailsentsuccessfully', succ);\n\n          _this2.handleCloseDialog();\n        }).catch(function (err) {\n          _this2.showError('previewalert', err);\n        });\n      }\n    }\n  }, {\n    key: \"editTemplate\",\n    value: function editTemplate(tmp) {\n      this.setState({\n        openDialog: true,\n        templateId: tmp.id,\n        templateName: tmp.name,\n        templateSubject: tmp.subject,\n        templateBody: RichTextEditor.createValueFromString(tmp.body, 'html')\n      });\n    }\n  }, {\n    key: \"deleteTemplate\",\n    value: function deleteTemplate(tmp) {\n      var _this3 = this;\n\n      confirm('Are you sure ?', 'Do you want to delete this template', 'warning').then(function (res) {\n        if (res) {\n          _this3.props.onDeleteTemplate(tmp.id).then(function () {}).catch(function (err) {\n            _this3.showError('previewalert', err);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"replaceVariablesWithValue\",\n    value: function replaceVariablesWithValue(templ, str, value) {\n      if (value !== undefined) {\n        if (value.indexOf('<p>') > -1) {\n          var no_lines = value.split('\\n').length;\n\n          if (no_lines > 1) {\n            value = value.replace(/<p/img, '<div');\n            value = value.replace(/<\\/p/img, '</div');\n          } else {\n            value = value.replace(/(<p[^>]+?>|<p>|<\\/p>)/img, '');\n          }\n        }\n\n        var index = templ.body.indexOf(str);\n        var i;\n\n        for (i = 0; i <= 20; i++) {\n          if (templ.body.indexOf(str) === -1) {\n            break;\n          }\n\n          templ.body = _.replace(templ.body, str, value);\n        }\n\n        templ.name = _.replace(templ.name, str, value);\n        templ.subject = _.replace(templ.subject, str, value);\n      }\n\n      return templ;\n    }\n  }, {\n    key: \"applyVariables\",\n    value: function applyVariables(templateId) {\n      var _this4 = this;\n\n      var templ = '',\n          recipient = '';\n\n      _.map(this.props.templates.templates, function (tmp, i) {\n        if (tmp.id === templateId) {\n          templ = _.clone(tmp);\n        }\n      });\n\n      if (this.state.recipient.length > 0) {\n        var id = this.state.recipient[0].user_Id;\n        recipient = _.find(this.state.usersList, function (o) {\n          return o.user_Id == id;\n        });\n      }\n\n      var format = 'DD-MM-YYYY';\n      var string = templ.name.concat(' ', templ.subject, ' ', templ.body);\n      var regx = /#[\\w\\/|-]*/g;\n      var variables = string.match(regx);\n\n      if (variables !== null && variables.length > 0) {\n        variables = _.uniq(variables);\n        variables.map(function (str, i) {\n          var dateVariable = false;\n\n          if (str.indexOf('|') !== -1) {\n            dateVariable = str;\n            var res = str.split('|');\n            str = res[0];\n            format = res[1];\n          }\n\n          var variable = _.find(_this4.props.templates.variable, function (o) {\n            return o.name == str;\n          });\n\n          if (typeof variable !== 'undefined' && variable.name === str) {\n            if (variable.variable_type === 'user' || variable.name === '#logo') {\n              templ = _this4.replaceVariablesWithValue(templ, str, variable.value);\n            }\n\n            if (_.includes(variable.name, '#date')) {\n              var value = new Date();\n              value = moment(value).format(format);\n\n              if (dateVariable === false) {\n                templ = _this4.replaceVariablesWithValue(templ, str, value);\n              } else {\n                templ = _this4.replaceVariablesWithValue(templ, dateVariable, value);\n              }\n            }\n\n            if (variable.variable_type === 'system' && !_.isEmpty(recipient) && !_.includes(variable.name, '#date')) {\n              var _value;\n\n              if (variable.name === '#joining_date') {\n                _value = recipient.dateofjoining;\n                _value = moment(_value).format(format);\n              } else if (variable.name === '#employee_title') {\n                _value = recipient.jobtitle;\n              } else if (variable.name === '#employee_name') {\n                _value = recipient.name;\n              } else if (variable.name === '#salary') {\n                _value = recipient.salary_detail;\n                _value = _value.toString();\n              } else if (variable.name === '#employee_user_name') {\n                _value = recipient.username;\n              } else if (variable.name === '#employee_email_id') {\n                _value = recipient.work_email;\n              } else if (variable.name === '#page_break') {\n                _value = variable.value; //\"<div style='page-break-after:always;'></div>\";\n              } else if (variable.name === '#employee_user_id') {\n                _value = recipient.user_Id;\n              } else if (variable.name === '#employee_number') {\n                _value = recipient.emergency_ph1;\n              } else if (variable.name === '#training_completion_date') {\n                var mydate = new Date(recipient.training_completion_date);\n\n                if (mydate !== 'Invalid Date') {\n                  _value = moment(mydate).format(format);\n                } else {\n                  _value = '#training_completion_date';\n                }\n              } else if (variable.name == '#termination_date') {\n                mydate = new Date(recipient.termination_date);\n\n                if (mydate != 'Invalid Date') {\n                  _value = moment(mydate).format(format);\n                } else {\n                  _value = '#termination_date';\n                }\n              }\n\n              if (dateVariable === false) {\n                templ = _this4.replaceVariablesWithValue(templ, str, _value);\n              } else {\n                templ = _this4.replaceVariablesWithValue(templ, dateVariable, _value);\n              }\n            }\n          }\n        });\n      }\n\n      this.setState({\n        templateName: templ.name,\n        templateSubject: templ.subject,\n        templateBody: RichTextEditor.createValueFromString(templ.body, 'html')\n      });\n    }\n  }, {\n    key: \"forwardTemplate\",\n    value: function forwardTemplate(tmp) {\n      this.setState({\n        openSendMailDialog: true,\n        templateId: tmp.id,\n        templateName: tmp.name,\n        templateSubject: tmp.subject,\n        templateBody: RichTextEditor.createValueFromString(tmp.body, 'html'),\n        uploadedPDF: [],\n        upload_file: []\n      });\n      this.applyVariables(tmp.id);\n    }\n  }, {\n    key: \"openCreateTemplate\",\n    value: function openCreateTemplate() {\n      this.setState({\n        openDialog: true\n      });\n    }\n  }, {\n    key: \"handleCloseDialog\",\n    value: function handleCloseDialog() {\n      this.setState({\n        openDialog: false,\n        templateId: '',\n        templateName: '',\n        templateSubject: '',\n        templateBody: RichTextEditor.createEmptyValue(),\n        errName: '',\n        errSubject: '',\n        openSendMailDialog: false,\n        recipient: []\n      });\n    }\n  }, {\n    key: \"handleCloseDialog1\",\n    value: function handleCloseDialog1() {\n      this.setState({\n        openDialog: false,\n        templateId: '',\n        templateName: '',\n        templateSubject: '',\n        templateBody: RichTextEditor.createEmptyValue(),\n        errName: '',\n        errSubject: '',\n        openSendMailDialog: false,\n        recipient: [],\n        uploadedPDF: []\n      });\n    }\n  }, {\n    key: \"toggleDialog\",\n    value: function toggleDialog(back, front) {\n      $('#' + back).toggle();\n      $('#' + front).toggle();\n    }\n  }, {\n    key: \"filterList\",\n    value: function filterList(searchText) {\n      var usersList = this.props.employee.employee,\n          // this.props.usersList.users,\n      list = [];\n      usersList.map(function (user) {\n        if (user.name.toLowerCase().indexOf(searchText) !== -1) {\n          list.push(user);\n        }\n      });\n      this.setState({\n        usersList: list\n      });\n    }\n  }, {\n    key: \"selectUser\",\n    value: function selectUser(data, status) {\n      var recipientType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.state.recipientType;\n\n      if (recipientType === 'Recipient') {\n        var recipient = this.state.recipient; // status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n\n        status ? recipient[0] = data : _.pullAllBy(recipient, [data], 'email');\n        this.setState({\n          recipient: recipient\n        });\n        this.applyVariables(this.state.templateId);\n      } else if (recipientType === 'CC') {\n        var _recipient = this.state.cc;\n        status ? _recipient.push(data) : _.pullAllBy(_recipient, [data], 'user_Id');\n        this.setState({\n          cc: _recipient\n        });\n      } else if (recipientType === 'BCC') {\n        var _recipient2 = this.state.bcc;\n        status ? _recipient2.push(data) : _.pullAllBy(_recipient2, [data], 'user_Id');\n        this.setState({\n          bcc: _recipient2\n        });\n      }\n    }\n  }, {\n    key: \"submitEmail\",\n    value: function submitEmail(email) {\n      var pattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n      email = email.trim();\n\n      if (_.isEmpty(email)) {\n        this.setState({\n          emailValidationError: 'Empty field'\n        });\n      } else if (!email.match(pattern)) {\n        this.setState({\n          emailValidationError: 'Not a valid email'\n        });\n      } else {\n        this.setState({\n          emailValidationError: '',\n          recipientEmailId: ''\n        });\n        this.selectUser({\n          user_Id: '#',\n          name: email,\n          email: email\n        }, true, this.state.recipientType);\n      }\n    }\n  }, {\n    key: \"onClickLabel\",\n    value: function onClickLabel(label, indexLabel, recipientType) {\n      this.selectUser(label, false, recipientType);\n    }\n  }, {\n    key: \"download_mail_preview\",\n    value: function download_mail_preview(e) {\n      var currentTimeStamp = moment().unix();\n      var fileName = 'mail-preview';\n      this.props.onDownloadPdf($('#dialogContent').html(), fileName).then(function (succ) {\n        var link = document.createElement('a');\n        link.href = CONFIG.pdf_url + succ.message + '?' + currentTimeStamp;\n        link.target = '_blank';\n        document.body.appendChild(link);\n        link.click();\n      }).catch(function (err) {});\n    } // ------editors\n\n  }, {\n    key: \"handleContentChange\",\n    value: function handleContentChange(value) {\n      this.setState({\n        templateBody: value\n      });\n    }\n  }, {\n    key: \"closeMailPreview\",\n    value: function closeMailPreview() {\n      this.setState({\n        openPreview: false,\n        sentMail: {}\n      });\n    }\n  }, {\n    key: \"showError\",\n    value: function showError(id, errorMsg) {\n      $('#' + id + ' span').remove();\n      $('#' + id).fadeIn().append('<span>' + errorMsg + '<span>');\n    }\n  }, {\n    key: \"hideError\",\n    value: function hideError(e, id) {\n      e.preventDefault();\n      $('#' + id).fadeOut(0);\n      $('#' + id + ' span').remove();\n    }\n  }, {\n    key: \"openMailPreview\",\n    value: function openMailPreview() {\n      var recipient = this.state.recipient,\n          templateName = this.state.templateName.trim(),\n          templateSubject = this.state.templateSubject.trim(),\n          templateBody = this.state.templateBody.toString('html'),\n          state = true,\n          error = '';\n\n      if (recipient.length === 0) {\n        state = false;\n        error = 'Please select a recipient';\n      }\n\n      if (state && _.isEmpty(templateName) || _.isEmpty(templateSubject) || _.isEmpty(templateBody)) {\n        state = false;\n        error = 'Please select a template';\n      }\n\n      if (state) {\n        var string = templateName.concat(' ', templateSubject, ' ', templateBody); // let regx = /#[\\w\\/|-]*/g;\n\n        var regx = /#[\\w-]+\\|[\\w -\\.,@$%&*!%^\\\\\\/]+\\||#[\\w-]+/ig;\n        var result = string.match(regx);\n        var pendingVariables = [];\n\n        if (result !== null && result.length > 0) {\n          state = false;\n          error = \"Please put all variable's value\";\n          result = _.uniq(result);\n          result.map(function (str) {\n            var start_pos = str.indexOf('|') + 1;\n            var end_pos = str.indexOf('|', start_pos);\n            var defaultValue = str.substring(start_pos, end_pos);\n            pendingVariables.push({\n              name: str,\n              value: defaultValue\n            });\n          });\n          this.setState({\n            pValue: pendingVariables,\n            openVarDialog: true\n          });\n        }\n      }\n\n      if (state) {\n        var cc_detail = _.map(this.state.cc, function (cc) {\n          return [cc.email, cc.name];\n        });\n\n        var bcc_detail = _.map(this.state.bcc, function (bcc) {\n          return [bcc.email, bcc.name];\n        });\n\n        var email = [{\n          email_id: recipient[0].email,\n          name: recipient[0].name,\n          subject: templateSubject,\n          body: templateBody,\n          cc_detail: cc_detail,\n          bcc_detail: bcc_detail\n        }];\n        this.setState({\n          openPreview: true,\n          sentMail: {\n            status: state,\n            email: email\n          }\n        });\n      } else {\n        this.showError('previewalert', error);\n      }\n    }\n  }, {\n    key: \"sendMail\",\n    value: function sendMail() {\n      var _this5 = this;\n\n      this.closeMailPreview();\n      var sentMail = this.state.sentMail;\n      var files = this.state.upload_file;\n      sentMail.email[0].upload_file = files;\n\n      if (sentMail.status) {\n        this.props.onSendMail(sentMail.email).then(function () {\n          _this5.handleCloseDialog();\n\n          _this5.showError('mailsentsuccessfully', 'Mail sent successfully.');\n        }).catch(function () {\n          _this5.showError('previewalert', 'Mail not sent. try again');\n        });\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        openVarDialog: false,\n        pValue: _.remove(this.state.pValue)\n      });\n    }\n  }, {\n    key: \"setVariable\",\n    value: function setVariable() {\n      var _this6 = this;\n\n      var pValue = this.state.pValue,\n          template = {\n        name: this.state.templateName.trim(),\n        subject: this.state.templateSubject.trim(),\n        body: this.state.templateBody.toString('html')\n      };\n\n      _.map(pValue, function (variable, i) {\n        if (typeof variable.value !== 'undefined') {\n          template = _this6.replaceVariablesWithValue(template, variable.name, variable.value);\n        }\n      });\n\n      this.setState({\n        templateName: template.name,\n        templateSubject: template.subject,\n        templateBody: RichTextEditor.createValueFromString(template.body, 'html'),\n        pValue: null\n      }, function () {\n        _this6.handleClose();\n\n        _this6.openMailPreview();\n      });\n    }\n  }, {\n    key: \"uploadPDF\",\n    value: function uploadPDF(e) {\n      var self = this;\n      var file_data = $('#file_image').prop('files');\n      var form_data = new FormData();\n      var LinearProgressBar = [];\n      form_data.append('token', getToken());\n\n      for (var i in file_data) {\n        form_data.append(i.toString(), file_data[i]);\n      }\n\n      for (i = 0; i < file_data['length']; i++) {\n        LinearProgressBar.push(React.createElement(\"div\", {\n          key: i,\n          className: \"row uploaded-pdf-block-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 479\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-7\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 480\n          },\n          __self: this\n        }, file_data[i].name), React.createElement(\"div\", {\n          className: \"col-xs-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 481\n          },\n          __self: this\n        }, React.createElement(LinearProgress, {\n          mode: \"indeterminate\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 481\n          },\n          __self: this\n        }))));\n      }\n\n      self.setState({\n        LinearProgressBar: LinearProgressBar\n      });\n      $.ajax({\n        url: CONFIG.upload_email_attachment,\n        contentType: false,\n        processData: false,\n        data: form_data,\n        type: 'post',\n        success: function success(data) {\n          var obj = JSON.parse(data);\n          var uploadedPDF = self.state.uploadedPDF;\n          var upload_file_path = self.state.upload_file;\n          var preKey = uploadedPDF.length;\n\n          if (obj.error === 0) {\n            var _data = obj.data;\n\n            _.map(_data, function (file, key) {\n              uploadedPDF.push(file.name);\n              upload_file_path.push(file.path);\n            });\n          }\n\n          self.setState({\n            uploadedPDF: uploadedPDF,\n            upload_file: upload_file_path,\n            LinearProgressBar: []\n          });\n        },\n        error: function error(_error) {}\n      });\n    }\n  }, {\n    key: \"deleteAttachment\",\n    value: function deleteAttachment(filekey) {\n      var uploadedPDF = this.state.uploadedPDF;\n      var newuploadedPDF = [];\n      var upload_file_path = this.state.upload_file;\n      var newupload_file_path = [];\n\n      _.map(uploadedPDF, function (file, k) {\n        if (filekey != k) {\n          newuploadedPDF.push(uploadedPDF[k]);\n          newupload_file_path.push(upload_file_path[k]);\n        }\n      });\n\n      this.setState({\n        uploadedPDF: newuploadedPDF,\n        upload_file: newupload_file_path\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var fileList = [];\n\n      _.map(this.state.uploadedPDF, function (name, key) {\n        fileList.push(React.createElement(\"div\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 529\n          },\n          __self: this\n        }, name, React.createElement(\"i\", {\n          onClick: function onClick() {\n            return _this7.deleteAttachment(key);\n          },\n          className: \"fa fa-remove uploaded-pdf-block-style cross-button-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 529\n          },\n          __self: this\n        })));\n      });\n\n      var actionsCreateTemplate = [React.createElement(FlatButton, {\n        label: \"Close\",\n        className: \"m-r-5\",\n        primary: true,\n        onClick: this.handleCloseDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: _.isEmpty(this.state.templateId) ? 'SAVE' : 'Update',\n        primary: true,\n        onClick: this.saveTemplate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      })];\n      var actionsSendMail = [React.createElement(FlatButton, {\n        label: \"Close\",\n        primary: true,\n        onClick: this.handleCloseDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: 'Preview',\n        primary: true,\n        onClick: this.openMailPreview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537\n        },\n        __self: this\n      })]; // ------------------------------------\n\n      var listChartItems = [],\n          recipientType = this.state.recipientType,\n          // $('input[name=\"recipientType\"]:checked').val(),\n      recipient = [];\n\n      if (recipientType === 'Recipient') {\n        recipient = this.state.recipient;\n      } else if (recipientType === 'CC') {\n        recipient = this.state.cc;\n      } else if (recipientType === 'BCC') {\n        recipient = this.state.bcc;\n      }\n\n      _.map(this.state.usersList, function (user, i) {\n        var check = false;\n\n        if (_.filter(recipient, _.matches({\n          user_Id: user.user_Id\n        })).length > 0) {\n          check = true;\n        }\n\n        listChartItems.push(React.createElement(\"li\", {\n          className: \"mb-sm b-b p-t p-b\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 558\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 559\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          id: \"user\",\n          className: \"check\",\n          checked: check,\n          onChange: function onChange(e) {\n            return _this7.selectUser({\n              user_Id: user.user_Id,\n              name: user.name,\n              email: user.work_email\n            }, e.target.checked);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 560\n          },\n          __self: this\n        }), user.name)));\n      }); // -----------------pending Variables\n\n\n      var pendingVar = [];\n\n      _.map(this.state.pValue, function (variable, i) {\n        pendingVar.push(React.createElement(\"div\", {\n          className: \"form-group\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 569\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 570\n          },\n          __self: this\n        }, \"Enter value for \", variable.name, \" :\"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          onChange: function onChange(e) {\n            variable.value = e.target.value;\n\n            _this7.setState({\n              pValue: _this7.state.pValue\n            });\n          },\n          value: variable.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 571\n          },\n          __self: this\n        })));\n      });\n\n      return React.createElement(\"div\", {\n        className: \"app-body\",\n        id: \"view\",\n        style: {\n          'marginTop': 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-12\",\n        style: {\n          'float': 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        title: _.isEmpty(this.state.templateId) ? 'Create Template' : 'Edit Template',\n        actions: actionsCreateTemplate,\n        modal: false,\n        bodyStyle: {\n          minHeight: '70vh'\n        },\n        contentStyle: {\n          maxWidth: '90%',\n          width: '90%',\n          transform: 'translate(0px, 0px)'\n        },\n        open: this.state.openDialog,\n        onRequestClose: this.handleCloseDialog,\n        autoDetectWindowHeight: true,\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588\n        },\n        __self: this\n      }, React.createElement(LoadingIcon, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 589\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"col-md-9 border-right-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        ref: \"value\",\n        floatingLabelText: \"Name\",\n        floatingLabelFixed: true,\n        hintText: \"Template Name\",\n        fullWidth: true,\n        errorText: this.state.errName,\n        value: this.state.templateName,\n        onChange: function onChange(e) {\n          return _this7.setState({\n            templateName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 606\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        ref: \"Name\",\n        floatingLabelText: \"Subject\",\n        floatingLabelFixed: true,\n        hintText: \"Subject\",\n        fullWidth: true,\n        errorText: this.state.errSubject,\n        value: this.state.templateSubject,\n        onChange: function onChange(e) {\n          return _this7.setState({\n            templateSubject: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }, React.createElement(RichTextEditor, {\n        className: \"editor-style\",\n        value: this.state.templateBody,\n        onChange: this.handleContentChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624\n        },\n        __self: this\n      }, \"System Variables\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625\n        },\n        __self: this\n      }), _.map(this.props.templates.variable, function (vari) {\n        if (vari.variable_type === 'system') {\n          return React.createElement(\"div\", {\n            key: vari.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 628\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"select-variable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 628\n            },\n            __self: this\n          }, vari.name), React.createElement(Divider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 628\n            },\n            __self: this\n          }));\n        }\n      }), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631\n        },\n        __self: this\n      }, \"User Variables\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632\n        },\n        __self: this\n      }), _.map(this.props.templates.variable, function (vari) {\n        if (vari.variable_type == 'user') {\n          return React.createElement(\"div\", {\n            key: vari.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 635\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"select-variable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 635\n            },\n            __self: this\n          }, vari.name), React.createElement(Divider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 635\n            },\n            __self: this\n          }));\n        }\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 642\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 m-t-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"md-btn md-raised m-b-sm indigo\",\n        id: \"createNewTemplate\",\n        onClick: this.openCreateTemplate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644\n        },\n        __self: this\n      }, \"Create New Template\")), React.createElement(\"div\", {\n        className: \"col-md-12 col-xs-12 col-sm-12\",\n        style: {\n          paddingTop: '10px',\n          paddingRight: '0px',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 646\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"mailsentsuccessfully\",\n        className: \"alert alert-success pull-left error-alert-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"close\",\n        onClick: function onClick(e) {\n          return _this7.hideError(e, 'mailsentsuccessfully');\n        },\n        \"aria-label\": \"close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 648\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: this.state.paper,\n        id: \"templatesList\",\n        style: {\n          'marginTop': '8%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 651\n        },\n        __self: this\n      }, _.map(this.props.templates.templates, function (tmp, i) {\n        return React.createElement(\"div\", {\n          className: \"col-md-6 col-sm-6 col-xs-12 body-space\",\n          id: \"template-\".concat(i),\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 653\n          },\n          __self: this\n        }, React.createElement(Paper, {\n          zDepth: 0,\n          className: \"paper scroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 654\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"delete-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 655\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"pull-right\",\n          style: {\n            fontSize: '13px',\n            fontStyle: 'italic',\n            color: '#000',\n            cursor: 'pointer',\n            padding: '5px 10px'\n          },\n          onClick: function onClick() {\n            return _this7.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 656\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-ellipsis-v\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 656\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: tmp.id + '_menuBack',\n          className: \"dropdown-backdrop-custom\",\n          style: {\n            'display': 'none',\n            'opacity': 0.5\n          },\n          onClick: function onClick() {\n            return _this7.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 657\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          id: tmp.id + '_menu',\n          className: \"menuOptions\",\n          onClick: function onClick() {\n            return _this7.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 658\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"b-b\",\n          onClick: function onClick() {\n            return _this7.forwardTemplate(tmp);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 659\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-share tempalate-btn forward-mail\",\n          \"aria-hidden\": \"true\",\n          title: \"forword\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 659\n          },\n          __self: this\n        }), \"Forward Mail\"), React.createElement(\"span\", {\n          className: \"b-b\",\n          onClick: function onClick() {\n            return _this7.editTemplate(tmp);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 660\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-pencil-square-o tempalate-btn edit\",\n          \"aria-hidden\": \"true\",\n          title: \"Edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 660\n          },\n          __self: this\n        }), \"Edit Template\"), React.createElement(\"span\", {\n          className: \"b-b\",\n          onClick: function onClick() {\n            return _this7.deleteTemplate(tmp);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 661\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-trash tempalate-btn delete\",\n          \"aria-hidden\": \"true\",\n          title: \"Delete\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 661\n          },\n          __self: this\n        }), \"Delete Template\"))), React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 m-b\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 664\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"flex-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 665\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 665\n          },\n          __self: this\n        }, \"Name:\"), React.createElement(\"div\", {\n          className: \"p-l\",\n          dangerouslySetInnerHTML: {\n            __html: tmp.name\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 665\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 m-b\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 667\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"flex-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 668\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 668\n          },\n          __self: this\n        }, \"Subject: \"), React.createElement(\"div\", {\n          className: \"p-l\",\n          dangerouslySetInnerHTML: {\n            __html: tmp.subject\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 668\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 m-b\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 670\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"flex-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 671\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 671\n          },\n          __self: this\n        }, \"Body: \"), React.createElement(\"div\", {\n          className: \"p-l\",\n          dangerouslySetInnerHTML: {\n            __html: tmp.body\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 671\n          },\n          __self: this\n        })))));\n      }))))), React.createElement(Dialog, {\n        title: 'Send Mail',\n        actions: actionsSendMail,\n        modal: false,\n        bodyClassName: \"template-dialog-style\",\n        contentClassName: \"dialog-content-style\",\n        open: this.state.openSendMailDialog,\n        onRequestClose: this.handleCloseDialog,\n        autoDetectWindowHeight: true,\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        title: 'Enter values',\n        actions: [React.createElement(FlatButton, {\n          label: \"Close\",\n          primary: true,\n          onClick: this.handleClose,\n          style: {\n            marginRight: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 693\n          },\n          __self: this\n        }), React.createElement(RaisedButton, {\n          label: 'Set Variables',\n          primary: true,\n          onClick: this.setVariable,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 694\n          },\n          __self: this\n        })],\n        modal: false,\n        bodyClassName: \"template-dialog-style\",\n        contentClassName: \"nextdialog-content-style\",\n        open: this.state.openVarDialog,\n        onRequestClose: this.handleClose,\n        autoDetectWindowHeight: true,\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 691\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        className: \"col-sx-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703\n        },\n        __self: this\n      }), pendingVar, \" \")), React.createElement(Dialog, {\n        title: 'Mail Preview',\n        titleClassName: \"templates-dialog-title\",\n        actions: [React.createElement(FlatButton, {\n          label: \"Cancel\",\n          primary: true,\n          onClick: this.closeMailPreview,\n          style: {\n            marginRight: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 708\n          },\n          __self: this\n        }), React.createElement(RaisedButton, {\n          label: 'Continue',\n          primary: true,\n          onClick: this.sendMail,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 709\n          },\n          __self: this\n        }), React.createElement(FlatButton, {\n          label: 'Download Preview',\n          primary: true,\n          style: {\n            'float': 'left'\n          },\n          onClick: function onClick(e) {\n            _this7.download_mail_preview(e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 710\n          },\n          __self: this\n        })],\n        modal: false,\n        bodyClassName: \"template-dialog-style\",\n        contentClassName: \"nextdialog-content-style\",\n        open: this.state.openPreview,\n        onRequestClose: this.closeMailPreview,\n        autoDetectWindowHeight: true,\n        autoScrollBodyContent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 719\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720\n        },\n        __self: this\n      }, React.createElement(LoadingIcon, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        id: \"dialogContent\",\n        className: \"template-dialog-content-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 722\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-t p-b template-send-email\",\n        style: {\n          'textAlign': 'center',\n          fontWeight: '600',\n          fontSize: '17px',\n          marginTop: '5px',\n          textDecoration: 'underline'\n        },\n        dangerouslySetInnerHTML: {\n          __html: this.state.sentMail && this.state.sentMail.email && this.state.sentMail.email[0].subject\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 723\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"p-t p-b\",\n        dangerouslySetInnerHTML: {\n          __html: this.state.sentMail && this.state.sentMail.email && this.state.sentMail.email[0].body\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 724\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-md-9 b-r-gainsboro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 727\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 728\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"pull-right add-recipient-style\",\n        onClick: function onClick() {\n          return _this7.toggleDialog('FilterBack', 'Filter');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729\n        },\n        __self: this\n      }, \"Add recipient\"), React.createElement(\"div\", {\n        className: \"dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: 'FilterBack',\n        className: \"dropdown-backdrop-custom filter-back-style\",\n        onClick: function onClick() {\n          return _this7.toggleDialog('FilterBack', 'Filter');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 731\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: 'Filter',\n        className: \"dropdown-menu has-child has-arrow selectUser mail-recipient\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"list-unstyled pt-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"mb-sm b-b p-t p-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group form-group-full-width\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 735\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"notListed\",\n        className: \"not-listed\",\n        checked: this.state.recipientNotFound,\n        onChange: function onChange(e) {\n          return _this7.setState({\n            recipientNotFound: e.target.checked\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 736\n        },\n        __self: this\n      }), \" Recipient Not Listed\")), React.createElement(\"li\", {\n        className: \"mb-sm b-b p-t p-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group form-group-p-0-w-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        id: \"recipient\",\n        className: \"recipient\",\n        name: \"recipientType\",\n        checked: recipientType == 'Recipient',\n        value: \"Recipient\",\n        onChange: function onChange(e) {\n          _this7.setState({\n            recipientType: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741\n        },\n        __self: this\n      }), \" Recipient\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: '30%',\n          paddingLeft: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 743\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        id: \"cc\",\n        className: \"cc\",\n        name: \"recipientType\",\n        checked: recipientType == 'CC',\n        value: \"CC\",\n        onChange: function onChange(e) {\n          _this7.setState({\n            recipientType: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 744\n        },\n        __self: this\n      }), \" CC\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: '30%',\n          paddingLeft: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 746\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        id: \"bcc\",\n        className: \"bcc\",\n        name: \"recipientType\",\n        checked: recipientType == 'BCC',\n        value: \"BCC\",\n        onChange: function onChange(e) {\n          _this7.setState({\n            recipientType: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 747\n        },\n        __self: this\n      }), \" BCC\")), this.state.recipientNotFound ? React.createElement(\"li\", {\n        className: \"mb-sm b-b p-t p-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 751\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 752\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753\n        },\n        __self: this\n      }, \"Enter Email Id:\"), React.createElement(\"input\", {\n        type: \"text\",\n        style: {\n          width: '100%'\n        },\n        className: \"form-control\",\n        placeholder: \"enter email...\",\n        onChange: function onChange(e) {\n          return _this7.setState({\n            recipientEmailId: e.target.value\n          });\n        },\n        value: this.state.recipientEmailId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 754\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: '#FF0000',\n          padding: '5px',\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 755\n        },\n        __self: this\n      }, this.state.emailValidationError), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn m-t btn-primary btn-block\",\n        onClick: function onClick() {\n          return _this7.submitEmail(_this7.state.recipientEmailId);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756\n        },\n        __self: this\n      }, \"Submit\"))) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"mb-sm b-b p-t p-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 760\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 761\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"search\",\n        className: \"form-control select-all search-box\",\n        placeholder: \"search\",\n        onKeyUp: function onKeyUp(e) {\n          return _this7.filterList(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 762\n        },\n        __self: this\n      }))), listChartItems)))), React.createElement(\"div\", {\n        id: \"previewalert\",\n        className: \"alert alert-danger pull-left error-alert-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 775\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"close\",\n        onClick: function onClick(e) {\n          return _this7.hideError(e, 'previewalert');\n        },\n        \"aria-label\": \"close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 776\n        },\n        __self: this\n      }, \"\\xD7\")), React.createElement(\"div\", {\n        className: \"form-group selected-recipient form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 778\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pull-left to\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 779\n        },\n        __self: this\n      }, \"To\"), React.createElement(\"div\", {\n        className: \"pull-left filter-tags\",\n        style: {\n          fontSize: '12px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 780\n        },\n        __self: this\n      }, this.state.recipient.length > 0 ? React.createElement(FilterLabel, {\n        data: this.state.recipient,\n        onClick: function onClick(label, indexLabel) {\n          return _this7.onClickLabel(label, indexLabel, 'Recipient');\n        },\n        onClear: this.onclearFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 781\n        },\n        __self: this\n      }) : '')), this.state.cc.length > 0 ? React.createElement(\"div\", {\n        className: \"form-group selected-recipient form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 785\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pull-left to\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 786\n        },\n        __self: this\n      }, \"CC\"), React.createElement(\"div\", {\n        className: \"pull-left filter-tags\",\n        style: {\n          fontSize: '12px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 787\n        },\n        __self: this\n      }, React.createElement(FilterLabel, {\n        data: this.state.cc,\n        onClick: function onClick(label, indexLabel) {\n          return _this7.onClickLabel(label, indexLabel, 'CC');\n        },\n        onClear: this.onclearFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 788\n        },\n        __self: this\n      }))) : '', this.state.bcc.length > 0 ? React.createElement(\"div\", {\n        className: \"form-group selected-recipient form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 793\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pull-left to\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 794\n        },\n        __self: this\n      }, \"BCC\"), React.createElement(\"div\", {\n        className: \"pull-left filter-tags\",\n        style: {\n          fontSize: '12px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 795\n        },\n        __self: this\n      }, React.createElement(FilterLabel, {\n        data: this.state.bcc,\n        onClick: function onClick(label, indexLabel) {\n          return _this7.onClickLabel(label, indexLabel, 'BCC');\n        },\n        onClear: this.onclearFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 796\n        },\n        __self: this\n      }))) : '', React.createElement(\"div\", {\n        className: \"form-group form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 800\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        ref: \"value\",\n        floatingLabelText: \"Name\",\n        floatingLabelFixed: true,\n        hintText: \"Template Name\",\n        fullWidth: true,\n        disabled: true,\n        errorText: this.state.errName,\n        value: this.state.templateName,\n        onChange: function onChange(e) {\n          return _this7.setState({\n            templateName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 801\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 813\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        ref: \"Name\",\n        floatingLabelText: \"Subject\",\n        floatingLabelFixed: true,\n        hintText: \"Subject\",\n        fullWidth: true,\n        errorText: this.state.errSubject,\n        value: this.state.templateSubject,\n        onChange: function onChange(e) {\n          return _this7.setState({\n            templateSubject: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 814\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group form-input-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 825\n        },\n        __self: this\n      }, React.createElement(RichTextEditor, {\n        id: 'editor',\n        className: \"editor-style\",\n        value: this.state.templateBody,\n        onChange: this.handleContentChange,\n        readOnly: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 835\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 836\n        },\n        __self: this\n      }, this.state.LinearProgressBar, \" \", fileList)), React.createElement(\"form\", {\n        action: '',\n        method: \"POST\",\n        encType: \"multipart/form-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 838\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 839\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-blue upload-button-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 840\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-file-pdf-o\",\n        style: {\n          'marginRight': '5px',\n          'cursor': 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 841\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        multiple: true,\n        id: \"file_image\",\n        type: \"file\",\n        name: \"image[]\",\n        ref: \"file\",\n        className: \"form-control\",\n        onChange: function onChange(e) {\n          return _this7.uploadPDF(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 842\n        },\n        __self: this\n      }), \" Attachment\")))), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 847\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        style: {\n          textAlign: 'center',\n          color: '#000'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 848\n        },\n        __self: this\n      }, \"System Variables\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 849\n        },\n        __self: this\n      }), _.map(this.props.templates.variable, function (vari) {\n        if (vari.variable_type === 'system') {\n          return React.createElement(\"div\", {\n            key: vari.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 852\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"select-variable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 852\n            },\n            __self: this\n          }, vari.name), React.createElement(Divider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 852\n            },\n            __self: this\n          }));\n        }\n      }), React.createElement(\"h5\", {\n        style: {\n          textAlign: 'center',\n          color: '#000'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 855\n        },\n        __self: this\n      }, \"User Variables\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 856\n        },\n        __self: this\n      }), _.map(this.props.templates.variable, function (vari) {\n        if (vari.variable_type == 'user') {\n          return React.createElement(\"div\", {\n            key: vari.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 859\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"select-variable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 859\n            },\n            __self: this\n          }, vari.name), React.createElement(Divider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 859\n            },\n            __self: this\n          }));\n        }\n      })))));\n    }\n  }]);\n\n  return Variables;\n}(React.Component);\n\nexport default Variables;","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/templates/components/Template.jsx"],"names":["React","_","connect","RichTextEditor","Paper","CONFIG","Dialog","Divider","confirm","TextField","FlatButton","IconButton","RaisedButton","LinearProgress","Delete","LoadingIcon","FilterLabel","getToken","$","FormData","require","moment","Variables","props","onIsAlreadyLogin","state","usersList","openDialog","templateId","templateName","templateSubject","templateBody","createEmptyValue","errName","errSubject","pValue","openSendMailDialog","recipient","cc","bcc","recipientType","openVarDialog","openPreview","sentMail","recipientEmailId","recipientNotFound","emailValidationError","upload_file","uploadedPDF","LinearProgressBar","header","openCreateTemplate","bind","handleCloseDialog","handleCloseDialog1","saveTemplate","editTemplate","deleteTemplate","forwardTemplate","onClickLabel","handleContentChange","sendMail","applyVariables","handleClose","setVariable","openMailPreview","closeMailPreview","submitEmail","hideError","download_mail_preview","uploadPDF","deleteAttachment","variables","window","scrollTo","loggedUser","isLoggedIn","history","push","data","role","ADMIN","HR","setState","employee","t_id","trim","t_name","t_subject","t_body","toString","isEmpty","onSaveTemplate","then","succ","showError","catch","err","tmp","id","name","subject","createValueFromString","body","res","onDeleteTemplate","templ","str","value","undefined","indexOf","no_lines","split","length","replace","index","i","map","templates","clone","user_Id","find","o","format","string","concat","regx","match","uniq","dateVariable","variable","variable_type","replaceVariablesWithValue","includes","Date","dateofjoining","jobtitle","salary_detail","username","work_email","emergency_ph1","mydate","training_completion_date","termination_date","back","front","toggle","searchText","list","user","toLowerCase","status","pullAllBy","email","pattern","selectUser","label","indexLabel","e","currentTimeStamp","unix","fileName","onDownloadPdf","html","link","document","createElement","href","pdf_url","message","target","appendChild","click","errorMsg","remove","fadeIn","append","preventDefault","fadeOut","error","result","pendingVariables","start_pos","end_pos","defaultValue","substring","cc_detail","bcc_detail","email_id","files","onSendMail","template","self","file_data","prop","form_data","ajax","url","upload_email_attachment","contentType","processData","type","success","obj","JSON","parse","upload_file_path","preKey","file","key","path","filekey","newuploadedPDF","newupload_file_path","k","fileList","actionsCreateTemplate","actionsSendMail","listChartItems","check","filter","matches","checked","pendingVar","minHeight","maxWidth","width","transform","vari","paddingTop","paddingRight","textAlign","paper","fontSize","fontStyle","color","cursor","padding","toggleDialog","__html","marginRight","fontWeight","marginTop","textDecoration","paddingLeft","display","filterList","onclearFilter","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport {connect} from 'react-redux';\nimport RichTextEditor from 'react-rte';\n// import update from 'react/lib/update';\nimport Paper from 'material-ui/Paper';\nimport {CONFIG} from '../../../config/index';\nimport Dialog from 'material-ui/Dialog';\nimport Divider from 'material-ui/Divider';\nimport {confirm} from '../../../services/notify';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport IconButton from 'material-ui/IconButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport LinearProgress from 'material-ui/LinearProgress';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport LoadingIcon from '../../../components/generic/LoadingIcon';\n// import EditableDiv from '../../../components/editor/EditableDiv';\nimport FilterLabel from '../../../components/template/FilterLabel';\nimport {getToken} from '../../../services/generic';\nimport $ from 'jquery';\nvar FormData = require('form-data');\nvar moment = require('moment');\n\nclass Variables extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      usersList:            [],\n      openDialog:           false,\n      templateId:           '',\n      templateName:         '',\n      templateSubject:      '',\n      templateBody:         RichTextEditor.createEmptyValue(),\n      errName:              '',\n      errSubject:           '',\n      pValue:               [],\n      openSendMailDialog:   false,\n      recipient:            [],\n      cc:                   [],\n      bcc:                  [],\n      recipientType:        'Recipient',\n      openVarDialog:        false,\n      openPreview:          false,\n      sentMail:             {},\n      recipientEmailId:     '',\n      recipientNotFound:    false,\n      emailValidationError: '',\n      upload_file:          [],\n      uploadedPDF:          [],\n      LinearProgressBar:    [],\n      header:               ''\n    };\n\n    this.openCreateTemplate = this.openCreateTemplate.bind(this);\n    this.handleCloseDialog = this.handleCloseDialog.bind(this);\n    this.handleCloseDialog1 = this.handleCloseDialog1.bind(this);\n    this.saveTemplate = this.saveTemplate.bind(this);\n    this.editTemplate = this.editTemplate.bind(this);\n    this.deleteTemplate = this.deleteTemplate.bind(this);\n    this.forwardTemplate = this.forwardTemplate.bind(this);\n    this.onClickLabel = this.onClickLabel.bind(this);\n    this.handleContentChange = this.handleContentChange.bind(this);\n    this.sendMail = this.sendMail.bind(this);\n    this.applyVariables = this.applyVariables.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.setVariable = this.setVariable.bind(this);\n    this.openMailPreview = this.openMailPreview.bind(this);\n    this.closeMailPreview = this.closeMailPreview.bind(this);\n    this.submitEmail = this.submitEmail.bind(this);\n    this.hideError = this.hideError.bind(this);\n    this.download_mail_preview = this.download_mail_preview.bind(this);\n    this.uploadPDF = this.uploadPDF.bind(this);\n    this.deleteAttachment = this.deleteAttachment.bind(this);\n    this.variables = [];\n  }\n  componentWillReceiveProps (props) {\n    window.scrollTo(0, 0);\n    if (!props.loggedUser.isLoggedIn) {\n      this.props.history.push('/logout');\n    } else {\n      if (props.loggedUser.data.role == CONFIG.ADMIN || props.loggedUser.data.role == CONFIG.HR) {\n      } else {\n        this.props.history.push('/home');\n      }\n    }\n    this.setState({usersList: props.employee.employee});\n  }\n\n  saveTemplate () {\n    let t_id = this.state.templateId.trim(),\n      t_name = this.state.templateName.trim(),\n      t_subject = this.state.templateSubject.trim(),\n      t_body = this.state.templateBody.toString('html'),\n      errName = '',\n      errSubject = '';\n    if (_.isEmpty(t_name)) {\n      errName = 'Name empty';\n    }\n    if (_.isEmpty(t_subject)) {\n      errSubject = 'Subject empty';\n    }\n    this.setState({errName: errName, errSubject: errSubject});\n    if (!_.isEmpty(t_name) && !_.isEmpty(t_subject) && !_.isEmpty(t_body)) {\n      this.props.onSaveTemplate(t_id, t_name, t_subject, t_body).then((succ) => {\n        this.showError('mailsentsuccessfully', succ);\n        this.handleCloseDialog();\n      }).catch((err) => {\n        this.showError('previewalert', err);\n      });\n    }\n  }\n  editTemplate (tmp) {\n    this.setState({\n      openDialog:      true,\n      templateId:      tmp.id,\n      templateName:    tmp.name,\n      templateSubject: tmp.subject,\n      templateBody:    RichTextEditor.createValueFromString(tmp.body, 'html')\n    });\n  }\n  deleteTemplate (tmp) {\n    confirm('Are you sure ?', 'Do you want to delete this template', 'warning').then((res) => {\n      if (res) {\n        this.props.onDeleteTemplate(tmp.id).then(() => {\n        }).catch((err) => {\n          this.showError('previewalert', err);\n        });\n      }\n    });\n  }\n\n  replaceVariablesWithValue (templ, str, value) {\n    if (value !== undefined) {\n      if (value.indexOf('<p>') > -1) {\n        let no_lines = value.split('\\n').length;\n        if (no_lines > 1) {\n          value = value.replace(/<p/img, '<div');\n          value = value.replace(/<\\/p/img, '</div');\n        } else {\n          value = value.replace(/(<p[^>]+?>|<p>|<\\/p>)/img, '');\n        }\n      }\n      var index = templ.body.indexOf(str);\n      var i;\n      for (i = 0; i <= 20; i++) {\n        if (templ.body.indexOf(str) === -1) {\n          break;\n        }\n        templ.body = _.replace(templ.body, str, value);\n      }\n      templ.name = _.replace(templ.name, str, value);\n      templ.subject = _.replace(templ.subject, str, value);\n    }\n    return templ;\n  }\n  applyVariables (templateId) {\n    let templ = '', recipient = '';\n    _.map(this.props.templates.templates, (tmp, i) => {\n      if (tmp.id === templateId) {\n        templ = _.clone(tmp);\n      }\n    });\n\n    if (this.state.recipient.length > 0) {\n      let id = this.state.recipient[0].user_Id;\n      recipient = _.find(this.state.usersList, function (o) { return o.user_Id == id; });\n    }\n\n    let format = 'DD-MM-YYYY';\n    let string = templ.name.concat(' ', templ.subject, ' ', templ.body);\n    let regx = /#[\\w\\/|-]*/g;\n    let variables = string.match(regx);\n    if (variables !== null && variables.length > 0) {\n      variables = _.uniq(variables);\n      variables.map((str, i) => {\n        let dateVariable = false;\n        if (str.indexOf('|') !== -1) {\n          dateVariable = str;\n          let res = str.split('|');\n          str = res[0];\n          format = res[1];\n        }\n\n        let variable = _.find(this.props.templates.variable, function (o) { return o.name == str; });\n\n        if (typeof variable !== 'undefined' && variable.name === str) {\n          if (variable.variable_type === 'user' || variable.name === '#logo') {\n            templ = this.replaceVariablesWithValue(templ, str, variable.value);\n          }\n\n          if (_.includes(variable.name, '#date')) {\n            let value = new Date();\n            value = moment(value).format(format);\n            if (dateVariable === false) {\n              templ = this.replaceVariablesWithValue(templ, str, value);\n            } else {\n              templ = this.replaceVariablesWithValue(templ, dateVariable, value);\n            }\n          }\n          if (variable.variable_type === 'system' && !_.isEmpty(recipient) && !_.includes(variable.name, '#date')) {\n            let value;\n            if (variable.name === '#joining_date') {\n              value = recipient.dateofjoining;\n              value = moment(value).format(format);\n            } else if (variable.name === '#employee_title') {\n              value = recipient.jobtitle;\n            } else if (variable.name === '#employee_name') {\n              value = recipient.name;\n            } else if (variable.name === '#salary') {\n              value = recipient.salary_detail;\n              value = value.toString();\n            } else if (variable.name === '#employee_user_name') {\n              value = recipient.username;\n            } else if (variable.name === '#employee_email_id') {\n              value = recipient.work_email;\n            } else if (variable.name === '#page_break') {\n              value = variable.value; //\"<div style='page-break-after:always;'></div>\";\n            } else if (variable.name === '#employee_user_id') {\n              value = recipient.user_Id;\n            } else if (variable.name === '#employee_number') {\n              value = recipient.emergency_ph1;\n            } else if (variable.name === '#training_completion_date') {\n              var mydate = new Date(recipient.training_completion_date);\n              if (mydate !== 'Invalid Date') {\n                value = moment(mydate).format(format);\n              } else {\n                value = '#training_completion_date';\n              }\n            } else if (variable.name == '#termination_date') {\n              mydate = new Date(recipient.termination_date);\n              if (mydate != 'Invalid Date') {\n                value = moment(mydate).format(format);\n              } else {\n                value = '#termination_date';\n              }\n            }\n            if (dateVariable === false) {\n              templ = this.replaceVariablesWithValue(templ, str, value);\n            } else {\n              templ = this.replaceVariablesWithValue(templ, dateVariable, value);\n            }\n          }\n        }\n      });\n    }\n\n    this.setState({\n      templateName:    templ.name,\n      templateSubject: templ.subject,\n      templateBody:    RichTextEditor.createValueFromString(templ.body, 'html')\n    });\n  }\n  forwardTemplate (tmp) {\n    this.setState({\n      openSendMailDialog: true,\n      templateId:         tmp.id,\n      templateName:       tmp.name,\n      templateSubject:    tmp.subject,\n      templateBody:       RichTextEditor.createValueFromString(tmp.body, 'html'),\n      uploadedPDF:        [],\n      upload_file:        []\n    });\n    this.applyVariables(tmp.id);\n  }\n  openCreateTemplate () {\n    this.setState({openDialog: true});\n  }\n  handleCloseDialog () {\n    this.setState({\n      openDialog:         false,\n      templateId:         '',\n      templateName:       '',\n      templateSubject:    '',\n      templateBody:       RichTextEditor.createEmptyValue(),\n      errName:            '',\n      errSubject:         '',\n      openSendMailDialog: false,\n      recipient:          []\n    });\n  }\n  handleCloseDialog1 () {\n    this.setState({\n      openDialog:         false,\n      templateId:         '',\n      templateName:       '',\n      templateSubject:    '',\n      templateBody:       RichTextEditor.createEmptyValue(),\n      errName:            '',\n      errSubject:         '',\n      openSendMailDialog: false,\n      recipient:          [],\n      uploadedPDF:        []\n    });\n  }\n  toggleDialog (back, front) {\n    $('#' + back).toggle();\n    $('#' + front).toggle();\n  }\n  filterList (searchText) {\n    let usersList = this.props.employee.employee, // this.props.usersList.users,\n      list = [];\n    usersList.map((user) => {\n      if (user.name.toLowerCase().indexOf(searchText) !== -1) {\n        list.push(user);\n      }\n    });\n    this.setState({usersList: list});\n  }\n  selectUser (data, status, recipientType = this.state.recipientType) {\n    if (recipientType === 'Recipient') {\n      let recipient = this.state.recipient;\n        // status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n      status ? recipient[0] = data : _.pullAllBy(recipient, [data], 'email');\n      this.setState({recipient: recipient});\n      this.applyVariables(this.state.templateId);\n    } else if (recipientType === 'CC') {\n      let recipient = this.state.cc;\n      status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n      this.setState({cc: recipient});\n    } else if (recipientType === 'BCC') {\n      let recipient = this.state.bcc;\n      status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n      this.setState({bcc: recipient});\n    }\n  }\n\n  submitEmail (email) {\n    var pattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    email = email.trim();\n    if (_.isEmpty(email)) {\n      this.setState({emailValidationError: 'Empty field'});\n    } else if (!email.match(pattern)) {\n      this.setState({emailValidationError: 'Not a valid email'});\n    } else {\n      this.setState({emailValidationError: '', recipientEmailId: ''});\n      this.selectUser({user_Id: '#', name: email, email: email}, true, this.state.recipientType);\n    }\n  }\n\n  onClickLabel (label, indexLabel, recipientType) {\n    this.selectUser(label, false, recipientType);\n  }\n  download_mail_preview (e) {\n    let currentTimeStamp = moment().unix();\n    let fileName = 'mail-preview';\n    this.props.onDownloadPdf($('#dialogContent').html(), fileName).then((succ) => {\n      var link = document.createElement('a');\n      link.href = CONFIG.pdf_url + succ.message + '?' + currentTimeStamp;\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n    }).catch((err) => { });\n  }\n    // ------editors\n  handleContentChange (value) {\n    this.setState({templateBody: value});\n  }\n  closeMailPreview () {\n    this.setState({openPreview: false, sentMail: {}});\n  }\n  showError (id, errorMsg) {\n    $('#' + id + ' span').remove();\n    $('#' + id).fadeIn().append('<span>' + errorMsg + '<span>');\n  }\n  hideError (e, id) {\n    e.preventDefault();\n    $('#' + id).fadeOut(0);\n    $('#' + id + ' span').remove();\n  }\n  openMailPreview () {\n    let recipient = this.state.recipient,\n      templateName = this.state.templateName.trim(),\n      templateSubject = this.state.templateSubject.trim(),\n      templateBody = this.state.templateBody.toString('html'),\n      state = true,\n      error = '';\n    if (recipient.length === 0) {\n      state = false;\n      error = 'Please select a recipient';\n    }\n    if (state && _.isEmpty(templateName) || _.isEmpty(templateSubject) || _.isEmpty(templateBody)) {\n      state = false;\n      error = 'Please select a template';\n    }\n    if (state) {\n      let string = templateName.concat(' ', templateSubject, ' ', templateBody);\n            // let regx = /#[\\w\\/|-]*/g;\n      let regx = /#[\\w-]+\\|[\\w -\\.,@$%&*!%^\\\\\\/]+\\||#[\\w-]+/ig;\n      let result = string.match(regx);\n      let pendingVariables = [];\n      if (result !== null && result.length > 0) {\n        state = false;\n        error = \"Please put all variable's value\";\n        result = _.uniq(result);\n        result.map((str) => {\n          let start_pos = str.indexOf('|') + 1;\n          let end_pos = str.indexOf('|', start_pos);\n          let defaultValue = str.substring(start_pos, end_pos);\n          pendingVariables.push({name: str, value: defaultValue});\n        });\n        this.setState({pValue: pendingVariables, openVarDialog: true});\n      }\n    }\n    if (state) {\n      let cc_detail = _.map(this.state.cc, (cc) => {\n        return [cc.email, cc.name];\n      });\n      let bcc_detail = _.map(this.state.bcc, (bcc) => {\n        return [bcc.email, bcc.name];\n      });\n      let email = [{\n        email_id:   recipient[0].email,\n        name:       recipient[0].name,\n        subject:    templateSubject,\n        body:       templateBody,\n        cc_detail:  cc_detail,\n        bcc_detail: bcc_detail\n      }];\n      this.setState({openPreview: true, sentMail: {status: state, email: email}});\n    } else {\n      this.showError('previewalert', error);\n    }\n  }\n\n  sendMail () {\n    this.closeMailPreview();\n    let sentMail = this.state.sentMail;\n    let files = this.state.upload_file;\n    sentMail.email[0].upload_file = files;\n    if (sentMail.status) {\n      this.props.onSendMail(sentMail.email).then(() => {\n        this.handleCloseDialog();\n        this.showError('mailsentsuccessfully', 'Mail sent successfully.');\n      }).catch(() => {\n        this.showError('previewalert', 'Mail not sent. try again');\n      });\n    }\n  }\n  handleClose () {\n    this.setState({openVarDialog: false, pValue: _.remove(this.state.pValue)});\n  }\n  setVariable () {\n    let pValue = this.state.pValue,\n      template = {\n        name:    this.state.templateName.trim(),\n        subject: this.state.templateSubject.trim(),\n        body:    this.state.templateBody.toString('html')\n      };\n\n    _.map(pValue, (variable, i) => {\n      if (typeof variable.value !== 'undefined') {\n        template = this.replaceVariablesWithValue(template, variable.name, variable.value);\n      }\n    });\n\n    this.setState({\n      templateName:    template.name,\n      templateSubject: template.subject,\n      templateBody:    RichTextEditor.createValueFromString(template.body, 'html'),\n      pValue:          null\n    }, () => {\n      this.handleClose();\n      this.openMailPreview();\n    });\n  }\n  uploadPDF (e) {\n    let self = this;\n    var file_data = $('#file_image').prop('files');\n    var form_data = new FormData();\n    var LinearProgressBar = [];\n    form_data.append('token', getToken());\n    for (var i in file_data) {\n      form_data.append(i.toString(), file_data[i]);\n    }\n    for (i = 0; i < file_data['length']; i++) {\n      LinearProgressBar.push(\n        <div key={i} className=\"row uploaded-pdf-block-style\">\n          <div className=\"col-xs-7\">{file_data[i].name}</div>\n          <div className=\"col-xs-5\"><LinearProgress mode=\"indeterminate\" /></div>\n        </div>);\n    }\n    self.setState({LinearProgressBar: LinearProgressBar});\n\n    $.ajax({\n      url:         CONFIG.upload_email_attachment,\n      contentType: false,\n      processData: false,\n      data:        form_data,\n      type:        'post',\n      success:     function (data) {\n        let obj = JSON.parse(data);\n        let uploadedPDF = self.state.uploadedPDF;\n        let upload_file_path = self.state.upload_file;\n        let preKey = uploadedPDF.length;\n        if (obj.error === 0) {\n          let data = obj.data;\n          _.map(data, (file, key) => {\n            uploadedPDF.push(file.name);\n            upload_file_path.push(file.path);\n          });\n        }\n        self.setState({\n          uploadedPDF:       uploadedPDF,\n          upload_file:       upload_file_path,\n          LinearProgressBar: []\n        });\n      },\n      error: function (error) { }\n    });\n  }\n  deleteAttachment (filekey) {\n    let uploadedPDF = this.state.uploadedPDF;\n    let newuploadedPDF = [];\n    let upload_file_path = this.state.upload_file;\n    let newupload_file_path = [];\n    _.map(uploadedPDF, (file, k) => {\n      if (filekey != k) {\n        newuploadedPDF.push(uploadedPDF[k]);\n        newupload_file_path.push(upload_file_path[k]);\n      }\n    });\n    this.setState({uploadedPDF: newuploadedPDF, upload_file: newupload_file_path});\n  }\n  render () {\n    let fileList = [];\n    _.map(this.state.uploadedPDF, (name, key) => {\n      fileList.push(<div key={key}>{name}<i onClick={() => this.deleteAttachment(key)} className=\"fa fa-remove uploaded-pdf-block-style cross-button-style\"></i></div>);\n    });\n    const actionsCreateTemplate = [\n      <FlatButton label=\"Close\" className=\"m-r-5\" primary onClick={this.handleCloseDialog} />,\n      <RaisedButton label={_.isEmpty(this.state.templateId) ? 'SAVE' : 'Update'} primary onClick={this.saveTemplate} />\n    ];\n    const actionsSendMail = [\n      <FlatButton label=\"Close\" primary onClick={this.handleCloseDialog} />,\n      <RaisedButton label={'Preview'} primary onClick={this.openMailPreview} />\n    ];\n\n        // ------------------------------------\n    let listChartItems = [],\n      recipientType = this.state.recipientType, // $('input[name=\"recipientType\"]:checked').val(),\n      recipient = [];\n    if (recipientType === 'Recipient') {\n      recipient = this.state.recipient;\n    } else if (recipientType === 'CC') {\n      recipient = this.state.cc;\n    } else if (recipientType === 'BCC') {\n      recipient = this.state.bcc;\n    }\n\n    _.map(this.state.usersList, (user, i) => {\n      let check = false;\n      if (_.filter(recipient, _.matches({user_Id: user.user_Id})).length > 0) {\n        check = true;\n      }\n      listChartItems.push(\n        <li className=\"mb-sm b-b p-t p-b\" key={i}>\n          <div className=\"form-group\">\n            <input type=\"checkbox\" id=\"user\" className=\"check\" checked={check} onChange={(e) => this.selectUser({user_Id: user.user_Id, name: user.name, email: user.work_email}, e.target.checked)} />\n            {user.name}\n          </div>\n        </li>);\n    });\n        // -----------------pending Variables\n    let pendingVar = [];\n    _.map(this.state.pValue, (variable, i) => {\n      pendingVar.push(\n        <div className=\"form-group\" key={i}>\n          <label>Enter value for {variable.name} :</label>\n          <input type=\"text\" className=\"form-control\" onChange={(e) => { variable.value = e.target.value; this.setState({pValue: this.state.pValue}); }} value={variable.value} />\n        </div>);\n    });\n    return (\n      <div className=\"app-body\" id=\"view\" style={{'marginTop': 10}}>\n        <div className=\"col-xs-12 col-sm-12\" style={{'float': 'right'}}>\n          <Dialog\n            title={_.isEmpty(this.state.templateId) ? 'Create Template' : 'Edit Template'}\n            actions={actionsCreateTemplate}\n            modal={false}\n            bodyStyle={{minHeight: '70vh'}}\n            contentStyle={{maxWidth: '90%', width: '90%', transform: 'translate(0px, 0px)'}}\n            open={this.state.openDialog}\n            onRequestClose={this.handleCloseDialog}\n            autoDetectWindowHeight\n            autoScrollBodyContent>\n            <div className=\"row\">\n              <div className=\"col-md-12 col-sm-12\">\n                <LoadingIcon {...this.props} />\n              </div>\n            </div>\n            <div className=\"col-md-9 border-right-style\" >\n              <form className=\"form-inline\">\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='value'\n                    floatingLabelText=\"Name\"\n                    floatingLabelFixed\n                    hintText=\"Template Name\"\n                    fullWidth\n                    errorText={this.state.errName}\n                    value={this.state.templateName}\n                    onChange={(e) => this.setState({templateName: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='Name'\n                    floatingLabelText=\"Subject\"\n                    floatingLabelFixed\n                    hintText=\"Subject\"\n                    fullWidth\n                    errorText={this.state.errSubject}\n                    value={this.state.templateSubject}\n                    onChange={(e) => this.setState({templateSubject: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <RichTextEditor className=\"editor-style\" value={this.state.templateBody} onChange={this.handleContentChange} />\n                </div>\n              </form>\n            </div>\n            <div className=\"col-md-3\">\n              <h5>System Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type === 'system') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n              <h5 >User Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type == 'user') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n            </div>\n          </Dialog>\n          <div className=\"row\">\n            <div className=\"col-md-12 col-sm-12 col-xs-12\">\n              <div className='row'>\n                <div className='col-md-12 col-sm-12 col-xs-12 m-t-xs'>\n                  <button className=\"md-btn md-raised m-b-sm indigo\" id='createNewTemplate' onClick={this.openCreateTemplate}>Create New Template</button>\n                </div>\n                <div className='col-md-12 col-xs-12 col-sm-12' style={{paddingTop: '10px', paddingRight: '0px', textAlign: 'center'}}>\n                  <div id=\"mailsentsuccessfully\" className=\"alert alert-success pull-left error-alert-style\">\n                    <a href=\"#\" className=\"close\" onClick={(e) => this.hideError(e, 'mailsentsuccessfully')} aria-label=\"close\">&times;</a>\n                  </div>\n                </div>\n                <div className={this.state.paper} id='templatesList' style={{'marginTop': '8%'}}>\n                  {_.map(this.props.templates.templates, (tmp, i) => (\n                    <div className=\"col-md-6 col-sm-6 col-xs-12 body-space\" id={`template-${i}`} key={i}>\n                      <Paper zDepth={0} className=\"paper scroll\" >\n                        <div className=\"delete-style\">\n                          <span className=\"pull-right\" style={{fontSize: '13px', fontStyle: 'italic', color: '#000', cursor: 'pointer', padding: '5px 10px'}} onClick={() => this.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu')}><i className=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i></span>\n                          <div id={tmp.id + '_menuBack'} className=\"dropdown-backdrop-custom\" style={{'display': 'none', 'opacity': 0.5}} onClick={() => this.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu')}></div>\n                          <div id={tmp.id + '_menu'} className=\"menuOptions\" onClick={() => this.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu')}>\n                            <span className=\"b-b\" onClick={() => this.forwardTemplate(tmp)} ><i className=\"fa fa-share tempalate-btn forward-mail\" aria-hidden=\"true\" title=\"forword\"></i>Forward Mail</span>\n                            <span className=\"b-b\" onClick={() => this.editTemplate(tmp)} ><i className=\"fa fa-pencil-square-o tempalate-btn edit\" aria-hidden=\"true\" title=\"Edit\"></i>Edit Template</span>\n                            <span className=\"b-b\" onClick={() => this.deleteTemplate(tmp)} ><i className=\"fa fa-trash tempalate-btn delete\" aria-hidden=\"true\" title=\"Delete\"></i>Delete Template</span>\n                          </div>\n                        </div>\n                        <div className=\"col-md-12 col-sm-12 col-xs-12 m-b\">\n                          <span className=\"flex-style\"><b>Name:</b><div className=\"p-l\" dangerouslySetInnerHTML={{__html: tmp.name}}></div></span>\n                        </div>\n                        <div className=\"col-md-12 col-sm-12 col-xs-12 m-b\">\n                          <span className=\"flex-style\"><b>Subject: </b><div className=\"p-l\" dangerouslySetInnerHTML={{__html: tmp.subject}}></div></span>\n                        </div>\n                        <div className=\"col-md-12 col-sm-12 col-xs-12 m-b\">\n                          <span className=\"flex-style\"><b>Body: </b><div className=\"p-l\" dangerouslySetInnerHTML={{__html: tmp.body}}></div></span>\n                        </div>\n                      </Paper>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          <Dialog\n            title={'Send Mail'}\n            actions={actionsSendMail}\n            modal={false}\n            bodyClassName=\"template-dialog-style\"\n            contentClassName=\"dialog-content-style\"\n            open={this.state.openSendMailDialog}\n            onRequestClose={this.handleCloseDialog}\n            autoDetectWindowHeight\n            autoScrollBodyContent\n            >\n            <Dialog\n              title={'Enter values'}\n              actions={[ <FlatButton label=\"Close\" primary onClick={this.handleClose} style={{marginRight: 5}} />,\n                <RaisedButton label={'Set Variables'} primary onClick={this.setVariable} />]}\n              modal={false}\n              bodyClassName=\"template-dialog-style\"\n              contentClassName=\"nextdialog-content-style\"\n              open={this.state.openVarDialog}\n              onRequestClose={this.handleClose}\n              autoDetectWindowHeight\n              autoScrollBodyContent\n            >\n              <div> <div className=\"col-sx-12\"></div>{pendingVar} </div>\n            </Dialog>\n            <Dialog\n              title={'Mail Preview'}\n              titleClassName=\"templates-dialog-title\"\n              actions={[<FlatButton label=\"Cancel\" primary onClick={this.closeMailPreview} style={{marginRight: 5}} />,\n                <RaisedButton label={'Continue'} primary onClick={this.sendMail} />,\n                <FlatButton label={'Download Preview'} primary style={{'float': 'left'}} onClick={(e) => { this.download_mail_preview(e); }} />]}\n              modal={false}\n              bodyClassName=\"template-dialog-style\"\n              contentClassName=\"nextdialog-content-style\"\n              open={this.state.openPreview}\n              onRequestClose={this.closeMailPreview}\n              autoDetectWindowHeight\n              autoScrollBodyContent\n              >\n              <div className=\"row\">\n                <div className=\"col-md-12\"><LoadingIcon {...this.props} /></div>\n              </div>\n              <div id=\"dialogContent\" className=\"template-dialog-content-style\">\n                <div className=\"p-t p-b template-send-email\" style={{'textAlign': 'center', fontWeight: '600', fontSize: '17px', marginTop: '5px', textDecoration: 'underline'}} dangerouslySetInnerHTML={{__html: this.state.sentMail && this.state.sentMail.email && this.state.sentMail.email[0].subject}}></div>\n                <div className=\"p-t p-b\" dangerouslySetInnerHTML={{__html: this.state.sentMail && this.state.sentMail.email && this.state.sentMail.email[0].body}}></div>\n              </div>\n            </Dialog>\n            <div className=\"col-md-9 b-r-gainsboro\">\n              <form className=\"form-inline\">\n                <span className=\"pull-right add-recipient-style\" onClick={() => this.toggleDialog('FilterBack', 'Filter')}>Add recipient</span>\n                <div className=\"dropdown\">\n                  <div id={'FilterBack'} className=\"dropdown-backdrop-custom filter-back-style\" onClick={() => this.toggleDialog('FilterBack', 'Filter')}></div>\n                  <div id={'Filter'} className=\"dropdown-menu has-child has-arrow selectUser mail-recipient\">\n                    <ul className=\"list-unstyled pt-xs\">\n                      <li className=\"mb-sm b-b p-t p-b\">\n                        <div className=\"form-group form-group-full-width\" >\n                          <input type=\"checkbox\" id=\"notListed\" className=\"not-listed\" checked={this.state.recipientNotFound} onChange={(e) => this.setState({recipientNotFound: e.target.checked})} /> Recipient Not Listed\n                        </div>\n                      </li>\n                      <li className=\"mb-sm b-b p-t p-b\">\n                        <div className=\"form-group form-group-p-0-w-4\" >\n                          <input type=\"radio\" id=\"recipient\" className=\"recipient\" name=\"recipientType\" checked={recipientType == 'Recipient'} value=\"Recipient\" onChange={(e) => { this.setState({recipientType: e.target.value}); }} /> Recipient\n                        </div>\n                        <div className=\"form-group\" style={{width: '30%', paddingLeft: '0px'}} >\n                          <input type=\"radio\" id=\"cc\" className=\"cc\" name=\"recipientType\" checked={recipientType == 'CC'} value=\"CC\" onChange={(e) => { this.setState({recipientType: e.target.value}); }} /> CC\n                        </div>\n                        <div className=\"form-group\" style={{width: '30%', paddingLeft: '0px'}}>\n                          <input type=\"radio\" id=\"bcc\" className=\"bcc\" name=\"recipientType\" checked={recipientType == 'BCC'} value=\"BCC\" onChange={(e) => { this.setState({recipientType: e.target.value}); }} /> BCC\n                        </div>\n                      </li>\n                      {this.state.recipientNotFound\n                        ? <li className=\"mb-sm b-b p-t p-b\">\n                          <div className=\"form-group\" style={{width: '100%'}}>\n                            <label>Enter Email Id:</label>\n                            <input type=\"text\" style={{width: '100%'}} className=\"form-control\" placeholder=\"enter email...\" onChange={(e) => this.setState({recipientEmailId: e.target.value})} value={this.state.recipientEmailId} />\n                            <span style={{color: '#FF0000', padding: '5px', display: 'block'}}>{this.state.emailValidationError}</span>\n                            <button type=\"button\" className=\"btn m-t btn-primary btn-block\" onClick={() => this.submitEmail(this.state.recipientEmailId)}>Submit</button>\n                          </div>\n                        </li>\n                      : <span>\n                        <li className=\"mb-sm b-b p-t p-b\">\n                          <div className=\"form-group\">\n                            <input type=\"text\"\n                              name=\"search\"\n                              className=\"form-control select-all search-box\"\n                              placeholder=\"search\"\n                              onKeyUp={(e) => this.filterList(e.target.value)} />\n                          </div>\n                        </li>\n                        {listChartItems}\n                      </span>\n                      }\n                    </ul>\n                  </div>\n                </div>\n                <div id=\"previewalert\" className=\"alert alert-danger pull-left error-alert-style\">\n                  <a href=\"#\" className=\"close\" onClick={(e) => this.hideError(e, 'previewalert')} aria-label=\"close\">&times;</a>\n                </div>\n                <div className=\"form-group selected-recipient form-input-style\">\n                  <div className=\"pull-left to\">To</div>\n                  <div className=\"pull-left filter-tags\" style={{fontSize: '12px'}}>\n                    {this.state.recipient.length > 0 ? <FilterLabel data={this.state.recipient} onClick={(label, indexLabel) => this.onClickLabel(label, indexLabel, 'Recipient')} onClear={this.onclearFilter} /> : ''}\n                  </div>\n                </div>\n                {this.state.cc.length > 0\n                  ? <div className=\"form-group selected-recipient form-input-style\">\n                    <div className=\"pull-left to\">CC</div>\n                    <div className=\"pull-left filter-tags\" style={{fontSize: '12px'}}>\n                      <FilterLabel data={this.state.cc} onClick={(label, indexLabel) => this.onClickLabel(label, indexLabel, 'CC')} onClear={this.onclearFilter} />\n                    </div>\n                  </div>\n                 : ''}\n                {this.state.bcc.length > 0\n                  ? <div className=\"form-group selected-recipient form-input-style\">\n                    <div className=\"pull-left to\">BCC</div>\n                    <div className=\"pull-left filter-tags\" style={{fontSize: '12px'}}>\n                      <FilterLabel data={this.state.bcc} onClick={(label, indexLabel) => this.onClickLabel(label, indexLabel, 'BCC')} onClear={this.onclearFilter} />\n                    </div>\n                  </div>\n                : ''}\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='value'\n                    floatingLabelText=\"Name\"\n                    floatingLabelFixed\n                    hintText=\"Template Name\"\n                    fullWidth\n                    disabled\n                    errorText={this.state.errName}\n                    value={this.state.templateName}\n                    onChange={(e) => this.setState({templateName: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='Name'\n                    floatingLabelText=\"Subject\"\n                    floatingLabelFixed\n                    hintText=\"Subject\"\n                    fullWidth\n                    errorText={this.state.errSubject}\n                    value={this.state.templateSubject}\n                    onChange={(e) => this.setState({templateSubject: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <RichTextEditor\n                    id={'editor'}\n                    className=\"editor-style\"\n                    value={this.state.templateBody}\n                    onChange={this.handleContentChange}\n                    readOnly\n                  />\n                </div>\n              </form>\n              <div className=\"row\">\n                <div className=\"col-md-2\">{this.state.LinearProgressBar} {fileList}</div>\n              </div>\n              <form action={''} method=\"POST\" encType=\"multipart/form-data\">\n                <div className=\"form-group\">\n                  <button className=\"btn btn-blue upload-button-style\" >\n                    <i className=\"fa fa-file-pdf-o\" style={{'marginRight': '5px', 'cursor': 'pointer'}}></i>\n                    <input multiple id=\"file_image\" type=\"file\" name=\"image[]\" ref=\"file\" className=\"form-control\" onChange={(e) => this.uploadPDF(e)} /> Attachment\n                  </button>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-md-3\">\n              <h5 style={{textAlign: 'center', color: '#000'}}>System Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type === 'system') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n              <h5 style={{textAlign: 'center', color: '#000'}}>User Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type == 'user') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n            </div>\n          </Dialog>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Variables;\n"]},"metadata":{},"sourceType":"module"}