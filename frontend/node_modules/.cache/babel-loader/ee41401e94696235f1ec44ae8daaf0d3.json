{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/ReactReduxHR/frontend/src/modules/inventory/components/dialogueUpload.jsx\";\nimport React from \"react\";\nimport * as _ from \"lodash\";\nimport Dialog from \"material-ui/Dialog\";\nimport { notify } from \"../../../services/notify\";\nimport { getToken } from \"../../../services/generic\";\nimport { CONFIG } from \"../../../config/index\";\nimport style from \"../../../styles/inventory/viewUser.scss\";\nimport FlatButton from \"material-ui/FlatButton\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\n\nvar DialogUpload =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DialogUpload, _React$Component);\n\n  function DialogUpload(props) {\n    var _this;\n\n    _classCallCheck(this, DialogUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DialogUpload).call(this, props));\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      inventory_id: _this.props.inventory_id,\n      token: \"\",\n      file_upload_action: \"inventory_files\",\n      inventory_invoice: \"\",\n      inventory_warranty: \"\",\n      inventory_photo: \"\",\n      page_url: window.location.href,\n      document: \"\",\n      file: []\n    };\n    _this.handleFileChange = _this.handleFileChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.callUpdateDocuments = _this.callUpdateDocuments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(DialogUpload, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        token: getToken()\n      });\n    }\n  }, {\n    key: \"handleFileChange\",\n    value: function handleFileChange(e) {\n      var _this2 = this;\n\n      this.setState({\n        file: Array.from(e.target.files)\n      });\n      var file = this.refs.file.files[0];\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        _this2.setState({\n          imageUrl: reader.result\n        });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n        this.setState({\n          imageUrl: reader.result\n        });\n      } else {\n        this.setState({\n          imageUrl: \"\"\n        });\n      }\n    }\n  }, {\n    key: \"callUpdateDocuments\",\n    value: function callUpdateDocuments(e) {\n      var link1 = this.refs.status.value;\n      var stop = false;\n      var document = this.state.document;\n\n      if (document === \"\") {\n        stop = true;\n        notify(\"Warning!\", \"Please select document type.\", \"warning\");\n      } else if (link1 === \"\") {\n        stop = true;\n        notify(\"Warning!\", \"Please select a file\", \"warning\");\n      }\n\n      if (stop) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"handleInlargePhoto\",\n    value: function handleInlargePhoto() {\n      this.setState({\n        open: true,\n        open3: true,\n        open2: false,\n        open1: false\n      });\n    }\n  }, {\n    key: \"handleInlargeInvoice\",\n    value: function handleInlargeInvoice() {\n      this.setState({\n        open: true,\n        open3: false,\n        open2: true,\n        open1: false\n      });\n    }\n  }, {\n    key: \"handleInlargeWarranty\",\n    value: function handleInlargeWarranty() {\n      this.setState({\n        open: true,\n        open3: false,\n        open2: false,\n        open1: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var machineList = _.concat(this.props.manageDevice.device, this.props.manageDevice.unapprovedList.data);\n\n      var machineName = _.filter(machineList, {\n        id: this.props.inventory_id\n      });\n\n      var fileInventoryPhoto = _.isEmpty(machineName) ? null : machineName[0].fileInventoryPhoto;\n      var fileInventoryWarranty = _.isEmpty(machineName) ? null : machineName[0].fileInventoryWarranty;\n      var fileInventoryInvoice = _.isEmpty(machineName) ? null : machineName[0].fileInventoryInvoice;\n      var actions = [React.createElement(FlatButton, {\n        label: \"Close\",\n        primary: true,\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })];\n      var path = CONFIG.view_inventory_documents;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Inventory Files\"), React.createElement(\"form\", {\n        action: CONFIG.inventory_upload_url,\n        method: \"POST\",\n        encType: \"multipart/form-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Upload Documents\", React.createElement(\"select\", {\n        className: \"form-control\",\n        ref: \"status\",\n        value: this.state.document,\n        onChange: function onChange(e) {\n          _this3.setState({\n            document: e.target.value,\n            file: []\n          });\n\n          _this3.refs.file.value = \"\";\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"--Select document--\"), React.createElement(\"option\", {\n        value: \"inventory_photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Photo\"), React.createElement(\"option\", {\n        value: \"inventory_warranty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Warranty\"), React.createElement(\"option\", {\n        value: \"inventory_invoice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Inovice\"))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Attachment \"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        ref: \"file\",\n        name: this.state.document,\n        multiple: \"multiple\",\n        onChange: this.handleFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, fileInventoryPhoto ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Photo \"), React.createElement(\"a\", {\n        href: path + fileInventoryPhoto,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: path + fileInventoryPhoto,\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })) : null), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, fileInventoryWarranty ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Warranty\"), React.createElement(\"a\", {\n        href: path + fileInventoryWarranty,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: path + fileInventoryWarranty,\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      })) : null), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, fileInventoryInvoice ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Invoice \"), React.createElement(\"a\", {\n        href: path + fileInventoryInvoice,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \" \", React.createElement(\"img\", {\n        src: path + fileInventoryInvoice,\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      })) : null), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, this.state.file[0] ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"Image Preview \"), React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      })) : null), React.createElement(UploadImageComp, {\n        callUpdateDocuments: this.callUpdateDocuments,\n        url: CONFIG.inventory_upload_url,\n        params: this.state,\n        file: this.state.file[0],\n        fileName: this.state.document,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return DialogUpload;\n}(React.Component);\n\nexport { DialogUpload as default };","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/modules/inventory/components/dialogueUpload.jsx"],"names":["React","_","Dialog","notify","getToken","CONFIG","style","FlatButton","UploadImageComp","DialogUpload","props","handleClose","setState","open","state","inventory_id","token","file_upload_action","inventory_invoice","inventory_warranty","inventory_photo","page_url","window","location","href","document","file","handleFileChange","bind","callUpdateDocuments","e","Array","from","target","files","refs","reader","FileReader","onloadend","imageUrl","result","readAsDataURL","link1","status","value","stop","preventDefault","open3","open2","open1","machineList","concat","manageDevice","device","unapprovedList","data","machineName","filter","id","fileInventoryPhoto","isEmpty","fileInventoryWarranty","fileInventoryInvoice","actions","path","view_inventory_documents","inventory_upload_url","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as _ from \"lodash\";\nimport Dialog from \"material-ui/Dialog\";\nimport { notify } from \"../../../services/notify\";\nimport { getToken } from \"../../../services/generic\";\nimport { CONFIG } from \"../../../config/index\";\nimport style from \"../../../styles/inventory/viewUser.scss\";\nimport FlatButton from \"material-ui/FlatButton\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\n\nexport default class DialogUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inventory_id: this.props.inventory_id,\n      token: \"\",\n      file_upload_action: \"inventory_files\",\n      inventory_invoice: \"\",\n      inventory_warranty: \"\",\n      inventory_photo: \"\",\n      page_url: window.location.href,\n      document: \"\",\n      file: []\n    };\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n  }\n  componentWillReceiveProps(props) {\n    this.setState({\n      token: getToken()\n    });\n  }\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  handleFileChange(e) {\n    this.setState({ file: Array.from(e.target.files) });\n    const file = this.refs.file.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imageUrl: reader.result\n      });\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n      this.setState({\n        imageUrl: reader.result\n      });\n    } else {\n      this.setState({\n        imageUrl: \"\"\n      });\n    }\n  }\n\n  callUpdateDocuments(e) {\n    let link1 = this.refs.status.value;\n    let stop = false;\n    let document = this.state.document;\n    if (document === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select document type.\", \"warning\");\n    } else if (link1 === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select a file\", \"warning\");\n    }\n\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n  handleInlargePhoto() {\n    this.setState({\n      open: true,\n      open3: true,\n      open2: false,\n      open1: false\n    });\n  }\n  handleInlargeInvoice() {\n    this.setState({\n      open: true,\n      open3: false,\n      open2: true,\n      open1: false\n    });\n  }\n  handleInlargeWarranty() {\n    this.setState({\n      open: true,\n      open3: false,\n      open2: false,\n      open1: true\n    });\n  }\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const machineList = _.concat(\n      this.props.manageDevice.device,\n      this.props.manageDevice.unapprovedList.data\n    );\n    const machineName = _.filter(machineList, {\n      id: this.props.inventory_id\n    });\n    const fileInventoryPhoto = _.isEmpty(machineName)\n      ? null\n      : machineName[0].fileInventoryPhoto;\n    const fileInventoryWarranty = _.isEmpty(machineName)\n      ? null\n      : machineName[0].fileInventoryWarranty;\n    const fileInventoryInvoice = _.isEmpty(machineName)\n      ? null\n      : machineName[0].fileInventoryInvoice;\n\n    const actions = [\n      <FlatButton label=\"Close\" primary={true} onClick={this.handleClose} />\n    ];\n    let path = CONFIG.view_inventory_documents;\n    return (\n      <div>\n        <h2>Inventory Files</h2>\n        <form\n          action={CONFIG.inventory_upload_url}\n          method=\"POST\"\n          encType=\"multipart/form-data\"\n        >\n          <div className=\"form-group\">\n            {\"Upload Documents\"}\n            <select\n              className=\"form-control\"\n              ref=\"status\"\n              value={this.state.document}\n              onChange={e => {\n                               this.setState({\n                                 document:\n                                   e.target.value,\n                                 file: []\n                               });\n                               this.refs.file.value = \"\";\n                             }}\n            >\n              <option value=\"\" disabled>\n                --Select document--\n              </option>\n              <option value=\"inventory_photo\">Photo</option>\n              <option value=\"inventory_warranty\">Warranty</option>\n              <option value=\"inventory_invoice\">Inovice</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"col-sm-12\">Attachment </label>\n            <input\n              type=\"file\"\n              className=\"form-control\"\n              ref=\"file\"\n              name={this.state.document}\n              multiple=\"multiple\"\n              onChange={this.handleFileChange}\n            />\n          </div>\n        </form>\n        <div className=\"form-group\">\n          {fileInventoryPhoto ? (\n            <div>\n              <label className=\"col-xs-12\">Photo </label>\n              <a href={path + fileInventoryPhoto} target=\"_blank\" >\n              <img\n                src={path + fileInventoryPhoto}\n                className=\"small\"\n              />\n              </a>\n              <br />\n            </div>\n          ) : null}\n        </div>\n\n        <div className=\"form-group\">\n          {fileInventoryWarranty ? (\n            <div>\n              <label className=\"col-xs-12\">Warranty</label>\n              <a href={path + fileInventoryWarranty} target=\"_blank\" >\n              <img\n                src={path + fileInventoryWarranty}\n                className=\"small\"\n              />\n              </a>\n              <br />\n            </div>\n          ) : null}\n          \n        </div>\n        <div className=\"form-group\">\n          {fileInventoryInvoice ? (\n            <div>\n              <label className=\"col-xs-12\">Invoice </label>\n             <a href={path + fileInventoryInvoice} target=\"_blank\" > <img\n                src={path + fileInventoryInvoice}\n                className=\"small\"\n              />\n              </a>\n              <br />\n            </div>\n          ) : null}\n         \n        </div>\n        <div className=\"form-group\">\n          {this.state.file[0] ? (\n            <div>\n              <label className=\"col-xs-12\">Image Preview </label>\n              <img\n                src={this.state.imageUrl}\n                className=\"small\"\n              />\n              <br />\n            </div>\n          ) : null}\n        </div>\n        <UploadImageComp\n          callUpdateDocuments={this.callUpdateDocuments}\n          url={CONFIG.inventory_upload_url}\n          params={this.state}\n          file={this.state.file[0]}\n          fileName={this.state.document}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}