{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/html/ReactReduxHR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchPolicyDocument),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchUserPolicyDocument),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(submitPolicyDocs),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(updateReadStatus);\n\n// import * as jwt from 'jwt-simple';\nimport { CONFIG } from '../../../config/index';\nimport { fireAjax } from '../../../services/index';\nimport { setLoggedUser, getLoggedUser } from '../../../services/generic';\nimport { call, put } from 'redux-saga/effects';\nimport * as actions from '../../../redux/actions';\nexport function fetchPolicyDocument(action) {\n  var response;\n  return _regeneratorRuntime.wrap(function fetchPolicyDocument$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(fireAjax, 'POST', '', {\n            action: 'get_policy_document'\n          });\n\n        case 3:\n          response = _context.sent;\n\n          if (!(response.error === 0)) {\n            _context.next = 9;\n            break;\n          }\n\n          _context.next = 7;\n          return put(actions.successPolicyDocuments(response.data));\n\n        case 7:\n          _context.next = 11;\n          break;\n\n        case 9:\n          _context.next = 11;\n          return put(actions.errorPolicyDocuments(response.message));\n\n        case 11:\n          _context.next = 18;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 17;\n          return put(actions.errorPolicyDocuments('Error Occurs !!'));\n\n        case 17:\n          console.warn('Some error found in \"get_policy_document\" Request action\\n', _context.t0);\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 13]]);\n}\nexport function fetchUserPolicyDocument(action) {\n  var _response;\n\n  return _regeneratorRuntime.wrap(function fetchUserPolicyDocument$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return call(fireAjax, 'POST', '', {\n            action: 'get_user_policy_document'\n          });\n\n        case 3:\n          _response = _context2.sent;\n\n          if (!(_response.error === 0)) {\n            _context2.next = 9;\n            break;\n          }\n\n          _context2.next = 7;\n          return put(actions.successPolicyDocuments(_response.data));\n\n        case 7:\n          _context2.next = 11;\n          break;\n\n        case 9:\n          _context2.next = 11;\n          return put(actions.errorPolicyDocuments(_response.message));\n\n        case 11:\n          _context2.next = 18;\n          break;\n\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](0);\n          _context2.next = 17;\n          return put(actions.errorPolicyDocuments('Error Occurs !!'));\n\n        case 17:\n          console.warn('Some error found in \"get_user_policy_document\" Request action\\n', _context2.t0);\n\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 13]]);\n}\nexport function submitPolicyDocs(action) {\n  var _response2;\n\n  return _regeneratorRuntime.wrap(function submitPolicyDocs$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(fireAjax, 'POST', '', {\n            action: 'save_policy_document',\n            type: 'policy_document',\n            value: JSON.stringify(action.payload)\n          });\n\n        case 3:\n          _response2 = _context3.sent;\n\n          if (!(_response2.error === 0)) {\n            _context3.next = 11;\n            break;\n          }\n\n          _context3.next = 7;\n          return put(actions.successSubmitDocs(_response2.data.message));\n\n        case 7:\n          _context3.next = 9;\n          return put(actions.requestPolicyDocument());\n\n        case 9:\n          _context3.next = 13;\n          break;\n\n        case 11:\n          _context3.next = 13;\n          return put(actions.errorSubmitDocs(_response2.message));\n\n        case 13:\n          _context3.next = 20;\n          break;\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 19;\n          return put(actions.errorSubmitDocs('Error Occurs !!'));\n\n        case 19:\n          console.warn('Some error found in \"save_policy_document\" Request action\\n', _context3.t0);\n\n        case 20:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 15]]);\n}\nexport function updateReadStatus(action) {\n  var _response3, _getLoggedUser, userId, tokenData;\n\n  return _regeneratorRuntime.wrap(function updateReadStatus$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return call(fireAjax, 'POST', '', {\n            action: 'update_user_policy_document',\n            policy_document: JSON.stringify(action.payload)\n          });\n\n        case 3:\n          _response3 = _context4.sent;\n\n          if (!(_response3.error === 0)) {\n            _context4.next = 13;\n            break;\n          }\n\n          _getLoggedUser = getLoggedUser(), userId = _getLoggedUser.userId;\n          tokenData = setLoggedUser(_response3.data.new_token, userId);\n          _context4.next = 9;\n          return put(actions.requestUserPolicyDocument());\n\n        case 9:\n          _context4.next = 11;\n          return put(actions.userDataUpdated(tokenData));\n\n        case 11:\n          _context4.next = 15;\n          break;\n\n        case 13:\n          _context4.next = 15;\n          return put(actions.errorUpdateReadStatus(_response3.message));\n\n        case 15:\n          _context4.next = 22;\n          break;\n\n        case 17:\n          _context4.prev = 17;\n          _context4.t0 = _context4[\"catch\"](0);\n          _context4.next = 21;\n          return put(actions.errorUpdateReadStatus('Error Occurs !!'));\n\n        case 21:\n          console.warn('Some error found in \"update_user_policy_document\" Request action\\n', _context4.t0);\n\n        case 22:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[0, 17]]);\n}","map":{"version":3,"sources":["/var/www/html/ReactReduxHR/frontend/src/redux/policyDocuments/actions/index.js"],"names":["fetchPolicyDocument","fetchUserPolicyDocument","submitPolicyDocs","updateReadStatus","CONFIG","fireAjax","setLoggedUser","getLoggedUser","call","put","actions","action","response","error","successPolicyDocuments","data","errorPolicyDocuments","message","console","warn","type","value","JSON","stringify","payload","successSubmitDocs","requestPolicyDocument","errorSubmitDocs","policy_document","userId","tokenData","new_token","requestUserPolicyDocument","userDataUpdated","errorUpdateReadStatus"],"mappings":";;;;yBAOiBA,mB;;;yBAgBAC,uB;;;yBAgBAC,gB;;;yBAmBAC,gB;;AA1DjB;AACA,SAAQC,MAAR,QAAqB,uBAArB;AACA,SAAQC,QAAR,QAAuB,yBAAvB;AACA,SAAQC,aAAR,EAAuBC,aAAvB,QAA2C,2BAA3C;AACA,SAAQC,IAAR,EAAcC,GAAd,QAAwB,oBAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,wBAAzB;AAEA,OAAO,SAAUV,mBAAV,CAA+BW,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEc,iBAAMH,IAAI,CAACH,QAAD,EAAW,MAAX,EAAmB,EAAnB,EAAuB;AAChDM,YAAAA,MAAM,EAAE;AADwC,WAAvB,CAAV;;AAFd;AAEGC,UAAAA,QAFH;;AAAA,gBAKCA,QAAQ,CAACC,KAAT,KAAmB,CALpB;AAAA;AAAA;AAAA;;AAAA;AAMD,iBAAMJ,GAAG,CAACC,OAAO,CAACI,sBAAR,CAA+BF,QAAQ,CAACG,IAAxC,CAAD,CAAT;;AANC;AAAA;AAAA;;AAAA;AAAA;AAQD,iBAAMN,GAAG,CAACC,OAAO,CAACM,oBAAR,CAA6BJ,QAAQ,CAACK,OAAtC,CAAD,CAAT;;AARC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAWH,iBAAMR,GAAG,CAACC,OAAO,CAACM,oBAAR,CAA6B,iBAA7B,CAAD,CAAT;;AAXG;AAYHE,UAAAA,OAAO,CAACC,IAAR,CAAa,4DAAb;;AAZG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBP,OAAO,SAAUlB,uBAAV,CAAmCU,MAAnC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEc,iBAAMH,IAAI,CAACH,QAAD,EAAW,MAAX,EAAmB,EAAnB,EAAuB;AAChDM,YAAAA,MAAM,EAAE;AADwC,WAAvB,CAAV;;AAFd;AAEGC,UAAAA,SAFH;;AAAA,gBAKCA,SAAQ,CAACC,KAAT,KAAmB,CALpB;AAAA;AAAA;AAAA;;AAAA;AAMD,iBAAMJ,GAAG,CAACC,OAAO,CAACI,sBAAR,CAA+BF,SAAQ,CAACG,IAAxC,CAAD,CAAT;;AANC;AAAA;AAAA;;AAAA;AAAA;AAQD,iBAAMN,GAAG,CAACC,OAAO,CAACM,oBAAR,CAA6BJ,SAAQ,CAACK,OAAtC,CAAD,CAAT;;AARC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAWH,iBAAMR,GAAG,CAACC,OAAO,CAACM,oBAAR,CAA6B,iBAA7B,CAAD,CAAT;;AAXG;AAYHE,UAAAA,OAAO,CAACC,IAAR,CAAa,iEAAb;;AAZG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBP,OAAO,SAAUjB,gBAAV,CAA4BS,MAA5B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEc,iBAAMH,IAAI,CAACH,QAAD,EAAW,MAAX,EAAmB,EAAnB,EAAuB;AAChDM,YAAAA,MAAM,EAAE,sBADwC;AAEhDS,YAAAA,IAAI,EAAI,iBAFwC;AAGhDC,YAAAA,KAAK,EAAGC,IAAI,CAACC,SAAL,CAAeZ,MAAM,CAACa,OAAtB;AAHwC,WAAvB,CAAV;;AAFd;AAEGZ,UAAAA,UAFH;;AAAA,gBAOCA,UAAQ,CAACC,KAAT,KAAmB,CAPpB;AAAA;AAAA;AAAA;;AAAA;AAQD,iBAAMJ,GAAG,CAACC,OAAO,CAACe,iBAAR,CAA0Bb,UAAQ,CAACG,IAAT,CAAcE,OAAxC,CAAD,CAAT;;AARC;AAAA;AASD,iBAAMR,GAAG,CAACC,OAAO,CAACgB,qBAAR,EAAD,CAAT;;AATC;AAAA;AAAA;;AAAA;AAAA;AAWD,iBAAMjB,GAAG,CAACC,OAAO,CAACiB,eAAR,CAAwBf,UAAQ,CAACK,OAAjC,CAAD,CAAT;;AAXC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAcH,iBAAMR,GAAG,CAACC,OAAO,CAACiB,eAAR,CAAwB,iBAAxB,CAAD,CAAT;;AAdG;AAeHT,UAAAA,OAAO,CAACC,IAAR,CAAa,6DAAb;;AAfG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBP,OAAO,SAAUhB,gBAAV,CAA4BQ,MAA5B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEc,iBAAMH,IAAI,CAACH,QAAD,EAAW,MAAX,EAAmB,EAAnB,EAAuB;AAChDM,YAAAA,MAAM,EAAW,6BAD+B;AAEhDiB,YAAAA,eAAe,EAAEN,IAAI,CAACC,SAAL,CAAeZ,MAAM,CAACa,OAAtB;AAF+B,WAAvB,CAAV;;AAFd;AAEGZ,UAAAA,UAFH;;AAAA,gBAMCA,UAAQ,CAACC,KAAT,KAAmB,CANpB;AAAA;AAAA;AAAA;;AAAA,2BAOcN,aAAa,EAP3B,EAOIsB,MAPJ,kBAOIA,MAPJ;AAQGC,UAAAA,SARH,GAQexB,aAAa,CAACM,UAAQ,CAACG,IAAT,CAAcgB,SAAf,EAA0BF,MAA1B,CAR5B;AAAA;AASD,iBAAMpB,GAAG,CAACC,OAAO,CAACsB,yBAAR,EAAD,CAAT;;AATC;AAAA;AAUD,iBAAMvB,GAAG,CAACC,OAAO,CAACuB,eAAR,CAAwBH,SAAxB,CAAD,CAAT;;AAVC;AAAA;AAAA;;AAAA;AAAA;AAYD,iBAAMrB,GAAG,CAACC,OAAO,CAACwB,qBAAR,CAA8BtB,UAAQ,CAACK,OAAvC,CAAD,CAAT;;AAZC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAeH,iBAAMR,GAAG,CAACC,OAAO,CAACwB,qBAAR,CAA8B,iBAA9B,CAAD,CAAT;;AAfG;AAgBHhB,UAAAA,OAAO,CAACC,IAAR,CAAa,oEAAb;;AAhBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["// import * as jwt from 'jwt-simple';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport {setLoggedUser, getLoggedUser} from '../../../services/generic';\nimport {call, put} from 'redux-saga/effects';\nimport * as actions from '../../../redux/actions';\n\nexport function* fetchPolicyDocument (action) {\n  try {\n    const response = yield call(fireAjax, 'POST', '', {\n      action: 'get_policy_document'\n    });\n    if (response.error === 0) {\n      yield put(actions.successPolicyDocuments(response.data));\n    } else {\n      yield put(actions.errorPolicyDocuments(response.message));\n    }\n  } catch (e) {\n    yield put(actions.errorPolicyDocuments('Error Occurs !!'));\n    console.warn('Some error found in \"get_policy_document\" Request action\\n', e);\n  }\n}\n\nexport function* fetchUserPolicyDocument (action) {\n  try {\n    const response = yield call(fireAjax, 'POST', '', {\n      action: 'get_user_policy_document'\n    });\n    if (response.error === 0) {\n      yield put(actions.successPolicyDocuments(response.data));\n    } else {\n      yield put(actions.errorPolicyDocuments(response.message));\n    }\n  } catch (e) {\n    yield put(actions.errorPolicyDocuments('Error Occurs !!'));\n    console.warn('Some error found in \"get_user_policy_document\" Request action\\n', e);\n  }\n}\n\nexport function* submitPolicyDocs (action) {\n  try {\n    const response = yield call(fireAjax, 'POST', '', {\n      action: 'save_policy_document',\n      type:   'policy_document',\n      value:  JSON.stringify(action.payload)\n    });\n    if (response.error === 0) {\n      yield put(actions.successSubmitDocs(response.data.message));\n      yield put(actions.requestPolicyDocument());\n    } else {\n      yield put(actions.errorSubmitDocs(response.message));\n    }\n  } catch (e) {\n    yield put(actions.errorSubmitDocs('Error Occurs !!'));\n    console.warn('Some error found in \"save_policy_document\" Request action\\n', e);\n  }\n}\n\nexport function* updateReadStatus (action) {\n  try {\n    const response = yield call(fireAjax, 'POST', '', {\n      action:          'update_user_policy_document',\n      policy_document: JSON.stringify(action.payload)\n    });\n    if (response.error === 0) {\n      let {userId} = getLoggedUser();\n      let tokenData = setLoggedUser(response.data.new_token, userId);\n      yield put(actions.requestUserPolicyDocument());\n      yield put(actions.userDataUpdated(tokenData));\n    } else {\n      yield put(actions.errorUpdateReadStatus(response.message));\n    }\n  } catch (e) {\n    yield put(actions.errorUpdateReadStatus('Error Occurs !!'));\n    console.warn('Some error found in \"update_user_policy_document\" Request action\\n', e);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}