{"version":3,"sources":["modules/addDocuments/container/AddDocuments.jsx","redux/myDocuments/actions/myDocument.js","modules/uploadImageCompressed/UploadImageComp.jsx","redux/uploadImageComp/actions/uploadImageComp.js","modules/addDocuments/components/FormAddDocuments.jsx"],"names":["AddDocuments","props","_this","Object","_home_hr_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_hr_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_hr_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","userid","onIsAlreadyLogin","onUserClick","bind","_home_hr_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","window","scrollTo","isNotValid","isNotUserValid","location","pathname","loggedUser","status","history","push","redirectTo","requestUsersList","concat","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_components_generic_Menu__WEBPACK_IMPORTED_MODULE_7__","id","className","role","_components_generic_Header__WEBPACK_IMPORTED_MODULE_13__","pageTitle","showLoading","frontend","show_loading","_components_generic_UsersList__WEBPACK_IMPORTED_MODULE_12__","users","usersList","Component","VisibleAddDocuments","connect","toJS","logged_user","userLogin","dispatch","actions","RouterVisibleAddDocuments","withRouter","__webpack_require__","d","__webpack_exports__","getMyDocument","deleteDocument","redux_actions__WEBPACK_IMPORTED_MODULE_0__","_services_index__WEBPACK_IMPORTED_MODULE_2__","_redux_generic_actions_frontend__WEBPACK_IMPORTED_MODULE_3__","_redux_constants__WEBPACK_IMPORTED_MODULE_4__","error_my_document","data","createAction","constants","getState","Promise","resolve","reject","fireAjax","action","then","json","hide_loading","error","message","doc_id","async_deleteDocument","UploadImageComp","classCallCheck","possibleConstructorReturn","getPrototypeOf","loading","handleSubmit","assertThisInitialized","e","_this2","preventDefault","params","file","fileName","url","type","includes","setState","quality","qualityValue","ImageCompressor","compress","formData","FormData","key","append","delete","name","axios","post","notify","onFetchDevice","onFetchUnapprovedUser","onGetMyDocuments","catch","request","statusText","isRole","onUploadFile","_this3","react_default","CircularProgress_default","size","thickness","style","marginLeft","onSubmit","value","onClick","callUpdateDocuments","uploadImage","actionsManageDevice","uploadfile","payload","actionMyDocuments","FormAddDocument","handleClose","open","handleOpen","document_type","token","user_id","match","userId","page_url","href","imageUrl","handleFileChange","addEventListener","toggleCollapse","link1","refs","stop","getToken","Array","from","target","files","reader","FileReader","onloadend","result","readAsDataURL","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_17___default","label","primary","_components_generic_Menu__WEBPACK_IMPORTED_MODULE_9__","_components_generic_Header__WEBPACK_IMPORTED_MODULE_12__","encType","ref","onChange","multiple","src","material_ui_Dialog__WEBPACK_IMPORTED_MODULE_16___default","modal","onRequestClose","autoScrollBodyContent","_uploadImageCompressed_UploadImageComp__WEBPACK_IMPORTED_MODULE_13__","CONFIG","upload_url","FormAddDocuments"],"mappings":"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","file":"static/js/36.f9e62b15.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport * as actions from \"../../../redux/actions\";\nimport UsersList from \"../../../components/generic/UsersList\";\nimport Header from \"../../../components/generic/Header\";\nimport FormAddDocuments from \"../components/FormAddDocuments\";\n\nclass AddDocuments extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userid: \"\"\n    };\n    this.props.onIsAlreadyLogin();\n    this.onUserClick = this.onUserClick.bind(this);\n  }\n  componentWillReceiveProps(props) {\n    window.scrollTo(0, 0);\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n  }\n  componentDidMount() {\n    this.props.requestUsersList();\n  }\n  onUserClick(userid) {\n    this.props.history.push(`/add_documents/${userid}`);\n  }\n  render() {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header\n            pageTitle={\"Add Documents\"}\n            showLoading={this.props.frontend.show_loading}\n          />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\" id=\"fixedScroll\">\n                  <UsersList\n                    users={this.props.usersList.users}\n                    onUserClick={this.onUserClick}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS()\n  };\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    requestUsersList: () => {\n      return dispatch(actions.requestUsersList());\n    }\n  };\n};\nconst VisibleAddDocuments = connect(mapStateToProps, mapDispatchToProps)(\n  AddDocuments\n);\n\nconst RouterVisibleAddDocuments = withRouter(VisibleAddDocuments);\n\nexport default RouterVisibleAddDocuments;\n","import {createAction} from 'redux-actions';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\n\n// ---------get user document\n\nexport function success_my_document (data) {\n  return createAction(constants.ACTION_SUCCESS_MY_DOCUMENT)(data);\n}\nexport function error_my_document (data) {\n  return createAction(constants.ACTION_ERROR_MY_DOCUMENT)(data);\n}\n\nfunction async_getMyDocument () {\n  return fireAjax('POST', '', {\n    'action': 'get_user_document'\n  });\n}\n\nexport function getMyDocument () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_getMyDocument().then(\n\n\t\t\t(json) => {\n  dispatch(hide_loading());\n  if (json.error === 0) {\n    dispatch(success_my_document(json.data));\n\t\t\t\t\t// resolve('disabled')\n  } else {\n    dispatch(error_my_document(json.data.message));\n\t\t\t\t\t// reject('response with Error')\n  }\n},\n\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  dispatch(error_my_document('error occurs!!!'));\n\t\t\t\t// reject('error occurs!!')\n}\n\t\t\t);\n    });\n  };\n}\n// ------Delete user document\nfunction async_deleteDocument (doc_id) {\n  return fireAjax('POST', '', {\n    'action': 'delete_user_document',\n    'id':     doc_id\n  });\n}\n\nexport function deleteDocument (doc_id) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_deleteDocument(doc_id).then(\n        (json) => {\n          dispatch(hide_loading());\n          if (json.error === 0) {\n            resolve(json.data.message);\n          } else {\n            reject(json.data.message);\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          reject('error occurs!!');\n        }\n\t\t\t);\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport ImageCompressor from \"image-compressor.js\";\nimport { notify } from \"../../services/notify\";\nimport { connect } from \"react-redux\";\nimport { qualityValue } from \"../../helper/helper\";\nimport axios from \"axios\";\nimport CircularProgress from \"material-ui/CircularProgress\";\nimport * as actionsManageDevice from \"../../redux/inventory/actions/inventory\";\nimport * as actionsUploadFile from \"../../redux/uploadImageComp/actions/uploadImageComp\";\nimport * as actionMyDocuments from \"../../redux/myDocuments/actions/myDocument\";\nimport { format } from \"url\";\nclass UploadImageComp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const { params } = this.props;\n    const file = this.props.file;\n    const fileName = this.props.fileName; //the name must be same as in backend\n    const url = this.props.url;\n\n    if (!file) {\n      return;\n    } else if (!file.type.includes(\"image\")) {\n      const formData = new FormData();\n      let isRole = this.props.loggedUser.data.role;\n\n      for (let key in params) {\n        formData.append(key, params[key]);\n      }\n      formData.delete('imageUrl');\n      formData.append(fileName, file);\n      formData.append(\"submit\", \"Upload\");\n\n      this.props.onUploadFile(formData, url,isRole);\n    } else {\n      this.setState({ loading: true });\n      let quality = qualityValue(file);\n      let imageCompressor = new ImageCompressor();\n      imageCompressor\n        .compress(file, {\n          quality: quality\n        })\n        .then(file => {\n          const formData = new FormData();\n          for (let key in params) {\n            formData.append(key, params[key]);\n          }\n          formData.delete('imageUrl'); //IMPORTANT: it is the image in ImagePreview  \n          formData.append(fileName, file, file.name);\n          formData.append(\"submit\", \"Upload\");\n          // Send the compressed image file to server with XMLHttpRequest.\n          // this.props.uploadFile(formData, url);\n          axios\n            .post(url, formData)\n            .then(data => {\n              notify(\"Success !\", `File uploaded successfully`, \"success\");\n              this.setState({ loading: false });\n              if (\n                this.props.loggedUser.data.role === \"Admin\"\n              ) {\n                this.props.onFetchDevice();\n                this.props.onFetchUnapprovedUser();\n                this.props.onGetMyDocuments();\n              }\n              else if(this.props.loggedUser.data.role === \"HR\"\n            ){\n              return;\n              // this.props.onFetchDevice();\n            }\n            else{\n              this.props.onGetMyDocuments();\n            }\n            })\n            .catch(error => {\n              if (error.request.status === 413) {\n                notify(\"Error\", \"File too large to upload\", \"error\");\n                this.setState({ loading: false });\n              }\n              else{\n                notify(\"Error\", error.request.statusText, \"error\");\n                this.setState({ loading: false });\n              }\n            });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.loading || this.state.loading ? (\n          <CircularProgress\n            size={30}\n            thickness={3}\n            style={{ marginLeft: \"50%\" }}\n          />\n        ) : (\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"submit\"\n              name=\"submit\"\n              value=\"Upload\"\n              className=\"col-xs-12 md-btn md-raised indigo\"\n              onClick={e => this.props.callUpdateDocuments(e)}\n            />\n          </form>\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.uploadImage.loading,\n  loggedUser: state.logged_user.userLogin\n});\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchDevice: () => {\n      return dispatch(actionsManageDevice.get_machines_detail());\n    },\n    onUploadFile: () => {\n      return dispatch(actionsUploadFile.uploadFile());\n    },\n    onFetchUnapprovedUser: () => {\n      return dispatch(actionsManageDevice.unapprovedUser());\n    },\n    onGetMyDocuments: () => {\n      return dispatch(actionMyDocuments.getMyDocument());\n    }\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadImageComp);\n","import { createAction } from \"redux-actions\";\nimport { uploadfile } from \"../../../services/index\";\nimport { notify } from \"../../../services/notify\";\nimport { show_loading, hide_loading } from \"../../../redux/generic/actions/frontend\";\nimport * as actionsManageDevice from \"../../../redux/inventory/actions/inventory\";\nimport * as actionMyDocuments from \"../../../redux/myDocuments/actions/myDocument\";\n\nexport const uploadFile = (formData, url, isRole) => dispatch => {\n  dispatch({ type: \"UPLOADING_FILE\" });\n  uploadfile(formData, url).then(data => {\n    dispatch({ type: \"UPLOAD_FILE\", payload: data });\n    notify(\"Success !\", `File uploaded successfully`, \"success\");\n    if (isRole === \"Admin\") {\n      dispatch(actionsManageDevice.get_machines_detail());\n      dispatch(actionsManageDevice.unapprovedUser());\n      dispatch(actionMyDocuments.getMyDocument());\n    } else if (isRole === \"HR\") {\n      return;\n    } else {\n      dispatch(actionMyDocuments.getMyDocument());\n    }\n  }).catch(error => {\n    dispatch({ type: \"UPLOAD_FILE\", payload: false });\n    notify('Error',error,'error')\n  });\n};\n","import React, { Component } from \"react\";\nimport { CONFIG } from \"../../../config/index\";\nimport { notify } from \"../../../services/notify\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { getToken } from \"../../../services/generic\";\nimport * as actions from \"../../../redux/actions\";\nimport Header from \"../../../components/generic/Header\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport { browserHistory } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nclass FormAddDocument extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      document_type: \"\",\n      token: \"\",\n      file: [],\n      user_id: this.props.match.params.userId,\n      page_url: window.location.href,\n      imageUrl:\"\"\n    };\n    this.props.onIsAlreadyLogin();\n\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n  }\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.toggleCollapse);\n  }\n\n  callUpdateDocuments(e) {\n    let type = this.state.document_type;\n    let link1 = this.refs.file.value;\n    let file = this.state.file[0];\n    let userId = this.props.match.params.userId;\n    let stop = false;\n    if (!userId) {\n      stop = true;\n      notify(\"Warning!\", \"Please select a User.\", \"warning\");\n    } else if (type === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select document type.\", \"warning\");\n    } else if (link1 === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select a file\", \"warning\");\n    }\n\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n  componentWillMount(props) {\n    this.setState({\n      token: getToken()\n    });\n  }\n  handleFileChange(e) {\n    this.setState({ file: Array.from(e.target.files) });\n    const file = this.refs.file.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imageUrl: reader.result\n      });\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n      this.setState({\n        imageUrl: reader.result\n      });\n    } else {\n      this.setState({\n        imageUrl: \"\"\n      });\n    }\n  }\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  handleOpen = () => {\n    this.setState({open:true});\n  }\n  render() {\n    const actions = [\n      <FlatButton label=\"Close\" primary={true} onClick={this.handleClose} />\n    ];\n    return <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={\"Add Documents\"} showLoading={this.props.frontend.show_loading} />\n          <br />\n          <br />\n          <div className=\"row p-t-md\">\n            <div className=\"col-sm-offset-3 col-sm-6 p-x-md\">\n              <h6 id=\"uploadMyDoc\" className=\"text-center pointer\">\n                Upload Documents\n              </h6>\n              <div className=\"row box p-a-md m-b-lg \" id=\"uploadDoc\">\n                <form encType=\"multipart/form-data\">\n                  <div className=\"form-group\">\n                    <label className=\"col-sm-12\">Document Type</label>\n                    <select className=\"form-control\" ref=\"document_type\" \n                      onChange={() => {\n                        this.setState({\n                          document_type: this.refs.document_type.value,\n                          file: []\n                        });\n                        this.refs.file.value = \"\";\n                      }} \n                      value={this.state.document_type}>\n                      <option value=\"\">--- Select Doc Type ---</option>\n                      <option value=\"CV\">CV</option>\n                      <option value=\"PAN Card\">PAN Card</option>\n                      <option value=\"Address Proof\">Address Proof</option>\n                      <option value=\"Photo\">Photo</option>\n                      <option value=\"Offer Letter\">Offer Letter</option>\n                      <option value=\"Appointment Letter\">\n                        Appointment Letter\n                      </option>\n                      <option value=\"Previous Company Experience Letter\">\n                        Previous Company Experience Letter\n                      </option>\n                      <option value=\"Previous Company Offer Letter\">\n                        Previous Company Offer Letter\n                      </option>\n                      <option value=\"Previous Company Salary Slip\">\n                        Previous Company Salary Slip\n                      </option>\n                      <option value=\"Previous Company Other Documents\">\n                        Previous Company Other Documents\n                      </option>\n                      <option value=\"Qualification Certificate\">\n                        Qualification Certificate\n                      </option>\n                      <option value=\"Other Documents\">\n                        Other Documents\n                      </option>\n                    </select>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"col-sm-12\">Attachment </label>\n                    <input type=\"file\" className=\"form-control\" ref=\"file\" name=\"link_1\" multiple=\"multiple\" onChange={this.handleFileChange} />\n                  </div>\n                  <div className=\"form-group\">\n                    {this.state.file[0] ? <div>\n                        <label className=\"col-xs-12\">Image Preview </label>\n                        <img src={this.state.imageUrl} onClick={() => {\n                            this.handleOpen();\n                          }} className=\"small\" />\n                        <br />\n                      </div> : null}\n                    <Dialog actions={actions} modal={false} open={this.state.open} onRequestClose={this.handleClose} autoScrollBodyContent={true}>\n                      <div className=\"thumbnail\">\n                        <img src={this.state.imageUrl} />\n                      </div>\n                    </Dialog>\n                  </div>\n                  <div className=\"form-group col-sm-12\">\n                    <UploadImageComp callUpdateDocuments={this.callUpdateDocuments} url={CONFIG.upload_url} params={this.state} file={this.state.file[0]} fileName=\"link_1\" />\n                  </div>\n                </form>\n              </div>\n              <button className=\"col-xs-8 col-xs-offset-2 col-md-4 col-md-offset-4 md-btn md-raised indigo\" onClick={() => {\n                  this.props.history.push(\"manage_users\");\n                }}>\n                {\" \"}\n                Go to Employee Page\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS()\n  };\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    requestUsersList: () => {\n      return dispatch(actions.requestUsersList());\n    }\n  };\n};\nconst VisibleAddDocuments = connect(mapStateToProps, mapDispatchToProps)(\n  FormAddDocument\n);\n\nconst FormAddDocuments = withRouter(VisibleAddDocuments);\n\nexport default FormAddDocuments;\n"],"sourceRoot":""}