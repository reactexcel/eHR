{"version":3,"sources":["redux/manageUsers/actions/manageUsers.js","modules/manageUsers/components/FormAddNewEmployeeDetails.js"],"names":["__webpack_require__","d","__webpack_exports__","getUserProfileDetails","updateUserProfileDetails","addNewEmployee","getUserDocument","deleteDocument","changeEmployeeStatus","getSteps","changeSteps","addNewUserDetails","getAllEmployeeDetails","redux_actions__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_1__","async_queue__WEBPACK_IMPORTED_MODULE_2__","async_queue__WEBPACK_IMPORTED_MODULE_2___default","n","_services_index__WEBPACK_IMPORTED_MODULE_3__","_redux_generic_actions_frontend__WEBPACK_IMPORTED_MODULE_4__","_redux_constants__WEBPACK_IMPORTED_MODULE_5__","moment","require","userid","username","dispatch","getState","Promise","resolve","reject","show_loading","fireAjax","action","user_id","async_getUserProfileDetails","then","json","data","hide_loading","error","type","constants","payload","success_user_profile","message","createAction","error_update_user_profile_details","new_profile_details","n_user_id","n_name","n_jobtitle","n_team","n_dateofjoining","n_work_email","n_other_email","n_gender","n_dob","n_marital_status","n_address1","n_address2","n_emergency_ph1","n_emergency_ph2","n_blood_group","n_medical_condition","n_send_slack_msg","send_slack_msg","n_slack_msg","slack_msg","n_training_completion_date","n_termination_date","n_holding_comments","n_training_month","name","jobtitle","team","dateofjoining","training_month","work_email","other_email","gender","dob","mydate","Date","format","marital_status","address1","address2","emergency_ph1","emergency_ph2","blood_group","medical_condition","training_completion_date","termination_date","holding_comments","trim","permanent_address","current_address","async_updateUserProfileDetails","error_add_new_employee","new_employee_details","n_username","n_workemail","workemail","async_addNewEmployee","error_user_document","async_getUserDocument","doc_id","id","async_deleteDocument","status","async_changeEmployeeStatus","successGetStep","errorGetStep","queue","callback","asyncGetSteps","stepid","asyncChangeSteps","errorAddNewUserDetails","n_signature","signature","async_addNewUserDetails","res","successGetAllEmployeeDetails","length","getEmployeesSalaryDetails","users","i","arguments","undefined","user_Id","async_get_user_salary_details","salary_details","orderedSalary","_","current_salary","test","total_salary","console","log","signaturePad","FormAddNewEmployeeDetails","props","_this","Object","_var_www_html_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_var_www_html_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_var_www_html_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onIsAlreadyLogin","state","callAddNewEmployeeDetails","bind","_var_www_html_ReactReduxHR_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","handleCanvas","_this2","SignaturePad","document","getElementById","backgroundColor","penColor","onEnd","localStorage","setItem","toDataURL","setState","onUsersList","clear","_this3","onAddNewUserDetails","notify","history","push","concat","params","_this4","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_components_generic_Menu__WEBPACK_IMPORTED_MODULE_16__","className","role","_components_generic_Header__WEBPACK_IMPORTED_MODULE_18__","pageTitle","showLoading","frontend","material_ui_TextField__WEBPACK_IMPORTED_MODULE_8___default","floatingLabelText","floatingLabelFixed","fullWidth","onChange","e","target","value","ref","disabled","onClick","style","width","height","border","_components_generic_buttons_ButtonRaised__WEBPACK_IMPORTED_MODULE_20__","handleCancelButton","label","React","Component","AddNewEmployeeDetails","withRouter","connect","toJS","loggedUser","logged_user","userLogin","manageUsers","actions","actionsUsersList","actionsManageUsers","propTypes","PropTypes","func","isRequired","usersList","object","router"],"mappings":"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","file":"static/js/52.0720bdb7.chunk.js","sourcesContent":["import { createAction } from \"redux-actions\";\nimport * as _ from \"lodash\";\nimport queue from \"async/queue\";\n\nimport { fireAjax } from \"../../../services/index\";\nimport { show_loading, hide_loading } from \"../../../redux/generic/actions/frontend\";\nimport * as constants from \"../../../redux/constants\";\nimport { func } from \"prop-types\";\nvar moment = require(\"moment\");\n\nexport function success_user_profile(data, username) {\n  return {\n    type: constants.ACTION_SUCCESS_USER_PROFILE,\n    payload: data,\n    username: username\n  };\n}\nexport function empty_user_profile(data) {\n  return createAction(constants.ACTION_EMPTY_USER_PROFILE)(data);\n}\nexport function error_user_profile(data) {\n  return createAction(constants.ACTION_ERROR_USER_PROFILE)(data);\n}\n\nfunction async_getUserProfileDetails(userid) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"get_user_profile_detail_by_id\",\n    user_id: userid\n  });\n}\n\nexport function getUserProfileDetails(userid, username) {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getUserProfileDetails(userid).then(\n        json => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(success_user_profile(json.data, username));\n          } else {\n            dispatch(empty_user_profile(json.data.message));\n          }\n        },\n        error => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_user_profile(\"error occurs!!!\"));\n        }\n      );\n    });\n  };\n}\n\n// -------update profile details\n\nexport function success_update_user_profile_details(data) {\n  return createAction(constants.ACTION_SUCCESS_UPDATE_USER_PROFILE_DETAILS)(\n    data\n  );\n}\nexport function error_update_user_profile_details(data) {\n  return createAction(constants.ACTION_ERROR_UPDATE_USER_PROFILE_DETAILS)(data);\n}\n\nfunction async_updateUserProfileDetails(\n  n_user_id,\n  n_name,\n  n_jobtitle,\n  n_team,\n  n_dateofjoining,\n  n_work_email,\n  n_other_email,\n  n_gender,\n  n_dob,\n  n_marital_status,\n  n_address1,\n  n_address2,\n  n_emergency_ph1,\n  n_emergency_ph2,\n  n_blood_group,\n  n_medical_condition,\n  n_training_completion_date,\n  n_termination_date,\n  n_holding_comments,\n  n_training_month,\n  n_send_slack_msg,\n  n_slack_msg\n) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"update_user_profile_detail_by_id\",\n    user_id: n_user_id,\n    marital_status: n_marital_status,\n    name: n_name,\n    jobtitle: n_jobtitle,\n    team: n_team,\n    dateofjoining: n_dateofjoining,\n    work_email: n_work_email,\n    other_email: n_other_email,\n    gender: n_gender,\n    dob: n_dob,\n    permanent_address: n_address2,\n    current_address: n_address1,\n    emergency_ph1: n_emergency_ph1,\n    emergency_ph2: n_emergency_ph2,\n    blood_group: n_blood_group,\n    medical_condition: n_medical_condition,\n    training_completion_date: n_training_completion_date,\n    termination_date: n_termination_date,\n    training_month: n_training_month,\n    holding_comments: n_holding_comments,\n    send_slack_msg: n_send_slack_msg,\n    slack_msg: n_slack_msg\n  });\n}\n\nexport function updateUserProfileDetails(new_profile_details) {\n  return function(dispatch, getState) {\n    let n_user_id = \"\";\n    let n_name = \"\";\n    let n_jobtitle = \"\";\n    let n_team = \"\";\n    let n_dateofjoining = \"\";\n    let n_work_email = \"\";\n    let n_other_email = \"\";\n    let n_gender = \"\";\n    let n_dob = \"\";\n    let n_marital_status = \"\";\n    let n_address1 = \"\";\n    let n_address2 = \"\";\n    let n_emergency_ph1 = \"\";\n    let n_emergency_ph2 = \"\";\n    let n_blood_group = \"\";\n    let n_medical_condition = \"\";\n    let n_send_slack_msg = new_profile_details.send_slack_msg;\n    let n_slack_msg = new_profile_details.slack_msg;\n    let n_training_completion_date = \"\";\n    let n_termination_date = \"\";\n    let n_holding_comments = \"\";\n    let n_training_month = \"\";\n\n    if (typeof new_profile_details.user_id !== \"undefined\") {\n      n_user_id = new_profile_details.user_id;\n    }\n    if (typeof new_profile_details.name !== \"undefined\") {\n      n_name = new_profile_details.name;\n    }\n    if (typeof new_profile_details.jobtitle !== \"undefined\") {\n      n_jobtitle = new_profile_details.jobtitle;\n    }\n    if (typeof new_profile_details.team !== \"undefined\") {\n      n_team = new_profile_details.team;\n    }\n    if (\n      typeof new_profile_details.dateofjoining !== \"undefined\" &&\n      new_profile_details.dateofjoining != null\n    ) {\n      n_dateofjoining = new_profile_details.dateofjoining;\n    }\n\n    if (\n      typeof new_profile_details.training_month !== \"undefined\" &&\n      new_profile_details.training_month != null\n    ) {\n      n_training_month = new_profile_details.training_month;\n    }\n\n    if (typeof new_profile_details.work_email !== \"undefined\") {\n      n_work_email = new_profile_details.work_email;\n    }\n    if (typeof new_profile_details.other_email !== \"undefined\") {\n      n_other_email = new_profile_details.other_email;\n    }\n    if (typeof new_profile_details.gender !== \"undefined\") {\n      n_gender = new_profile_details.gender;\n    }\n    if (\n      typeof new_profile_details.dob !== \"undefined\" &&\n      new_profile_details.dob != null\n    ) {\n      var mydate = new Date(new_profile_details.dob);\n      if (mydate) {\n        n_dob = moment(mydate).format(\"YYYY-MM-DD\");\n      }\n    }\n\n    if (typeof new_profile_details.marital_status !== \"undefined\") {\n      n_marital_status = new_profile_details.marital_status;\n    }\n\n    if (typeof new_profile_details.address1 !== \"undefined\") {\n      n_address1 = new_profile_details.address1;\n    }\n    if (typeof new_profile_details.address2 !== \"undefined\") {\n      n_address2 = new_profile_details.address2;\n    }\n    if (typeof new_profile_details.emergency_ph1 !== \"undefined\") {\n      n_emergency_ph1 = new_profile_details.emergency_ph1;\n    }\n    if (typeof new_profile_details.emergency_ph2 !== \"undefined\") {\n      n_emergency_ph2 = new_profile_details.emergency_ph2;\n    }\n    if (typeof new_profile_details.blood_group !== \"undefined\") {\n      n_blood_group = new_profile_details.blood_group;\n    }\n    if (typeof new_profile_details.medical_condition !== \"undefined\") {\n      n_medical_condition = new_profile_details.medical_condition;\n    }\n    if (\n      typeof new_profile_details.training_completion_date !== \"undefined\" &&\n      new_profile_details.training_completion_date != null\n    ) {\n      n_training_completion_date = new_profile_details.training_completion_date;\n    }\n    if (\n      typeof new_profile_details.termination_date !== \"undefined\" &&\n      new_profile_details.termination_date != null\n    ) {\n      n_termination_date = new_profile_details.termination_date;\n    }\n    if (typeof new_profile_details.holding_comments !== \"undefined\") {\n      n_holding_comments = new_profile_details.holding_comments;\n    }\n\n    if (n_user_id.trim() === \"\") {\n      return Promise.reject(\"User id is empty\");\n    }\n    if (n_name.trim() === \"\") {\n      return Promise.reject(\"Name is empty\");\n    }\n    if (n_jobtitle.trim() === \"\") {\n      return Promise.reject(\"Jobtitle is empty\");\n    }\n    if (n_dateofjoining.trim() === \"\") {\n      return Promise.reject(\"Joining date is empty\");\n    }\n    if (n_work_email.trim() === \"\") {\n      return Promise.reject(\"Work email is empty\");\n    }\n    if (n_other_email.trim() === \"\") {\n      return Promise.reject(\"Personal email is empty\");\n    }\n    if (n_gender.trim() === \"\") {\n      return Promise.reject(\"Gender is empty\");\n    }\n    if (n_dob.trim() === \"\") {\n      return Promise.reject(\"Date of birth is empty\");\n    }\n    if (n_marital_status.trim() === \"\") {\n      return Promise.reject(\"Marital status not selected\");\n    }\n    if (n_address1.trim() === \"\") {\n      return Promise.reject(\"Current address is empty\");\n    }\n    if (n_address2.trim() === \"\") {\n      return Promise.reject(\"Permanent address is empty\");\n    }\n    if (n_emergency_ph1.trim() === \"\") {\n      return Promise.reject(\"Emmergency contact 1 is empty\");\n    }\n    if (n_emergency_ph2.trim() === \"\") {\n      return Promise.reject(\"Emmergency contact 2 is empty\");\n    }\n    if (n_blood_group.trim() === \"\") {\n      return Promise.reject(\"Blood group not selected\");\n    }\n    if (n_medical_condition.trim() === \"\") {\n      return Promise.reject(\"Any medical conditions is empty\");\n    }\n\n    if (n_training_month.trim() === \"\") {\n      return Promise.reject(\"Training month is Empty\");\n    }\n    // if (n_training_completion_date.trim() === \"\") {\n    //   return Promise.reject('Training Completion Date  is empty')\n    // }\n    // if (n_termination_date.trim() === \"\") {\n    //   return Promise.reject('Termination date empty')\n    // }\n    // if (n_holding_comments.trim() === \"\") {\n    //   return Promise.reject('Holding amount comment is empty')\n    // }\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_updateUserProfileDetails(\n        n_user_id,\n        n_name,\n        n_jobtitle,\n        n_team,\n        n_dateofjoining,\n        n_work_email,\n        n_other_email,\n        n_gender,\n        n_dob,\n        n_marital_status,\n        n_address1,\n        n_address2,\n        n_emergency_ph1,\n        n_emergency_ph2,\n        n_blood_group,\n        n_medical_condition,\n        n_training_completion_date,\n        n_termination_date,\n        n_holding_comments,\n        n_training_month,\n        n_send_slack_msg,\n        n_slack_msg\n      ).then(\n        json => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(getUserProfileDetails(n_user_id));\n            dispatch(success_update_user_profile_details(json.data.message));\n          } else {\n            dispatch(error_update_user_profile_details(json.data.message));\n            reject(json.data)\n          }\n        },\n        error => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_update_user_profile_details(\"error occurs!!!\"));\n        }\n      );\n    });\n  };\n}\n\n// -------add New employee\n\nexport function success_add_new_employee(data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_NEW_EMPLOYEE)(data);\n}\n\nexport function error_add_new_employee(data) {\n  return createAction(constants.ACTION_ERROR_ADD_NEW_EMPLOYEE)(data);\n}\n\nfunction async_addNewEmployee(\n  n_dateofjoining,\n  n_name,\n  n_jobtitle,\n  n_gender,\n  n_dob,\n  n_username,\n  n_training_month,\n  n_workemail\n) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"add_new_employee\",\n    dateofjoining: n_dateofjoining,\n    name: n_name,\n    jobtitle: n_jobtitle,\n    gender: n_gender,\n    dob: n_dob,\n    username: n_username,\n    training_month: n_training_month,\n    workemail: n_workemail\n  });\n}\n\nexport function addNewEmployee(new_employee_details) {\n  return function(dispatch, getState) {\n    let n_dateofjoining = \"\";\n    let n_name = \"\";\n    let n_jobtitle = \"\";\n    let n_gender = \"\";\n    let n_dob = \"\";\n    let n_username = \"\";\n    let n_training_month = \"\";\n    let n_workemail = \"\";\n\n    if (\n      typeof new_employee_details.dateofjoining === \"undefined\" ||\n      new_employee_details.dateofjoining == \"\"\n    ) {\n      return Promise.reject(\"Date of Joining is empty\");\n    } else {\n      n_dateofjoining = new_employee_details.dateofjoining;\n    }\n\n    if (\n      typeof new_employee_details.name === \"undefined\" ||\n      new_employee_details.name == \"\"\n    ) {\n      return Promise.reject(\"Name is empty\");\n    } else {\n      n_name = new_employee_details.name;\n    }\n\n    if (\n      typeof new_employee_details.jobtitle === \"undefined\" ||\n      new_employee_details.jobtitle == \"\"\n    ) {\n      return Promise.reject(\"Job Title is empty\");\n    } else {\n      n_jobtitle = new_employee_details.jobtitle;\n    }\n\n    if (\n      typeof new_employee_details.gender === \"undefined\" ||\n      new_employee_details.gender == \"\"\n    ) {\n      return Promise.reject(\"Gender is empty\");\n    } else {\n      n_gender = new_employee_details.gender;\n    }\n\n    if (\n      typeof new_employee_details.dob === \"undefined\" ||\n      new_employee_details.dob == \"\"\n    ) {\n      return Promise.reject(\"Date of birth is empty\");\n    } else {\n      n_dob = new_employee_details.dob;\n    }\n\n    if (\n      typeof new_employee_details.gender === \"undefined\" ||\n      new_employee_details.gender == \"\"\n    ) {\n      return Promise.reject(\"Gender is empty\");\n    } else {\n      n_gender = new_employee_details.gender;\n    }\n\n    if (\n      typeof new_employee_details.username === \"undefined\" ||\n      new_employee_details.username == \"\"\n    ) {\n      return Promise.reject(\"Username is empty\");\n    } else {\n      n_username = new_employee_details.username;\n    }\n\n    if (\n      typeof new_employee_details.training_month === \"undefined\" ||\n      new_employee_details.training_month == \"\"\n    ) {\n      return Promise.reject(\"training month is empty\");\n    } else {\n      n_training_month = new_employee_details.training_month;\n    }\n\n    if (\n      typeof new_employee_details.workemail === \"undefined\" ||\n      new_employee_details.workemail == \"\"\n    ) {\n      return Promise.reject(\"Work email is empty\");\n    } else {\n      n_workemail = new_employee_details.workemail;\n    }\n\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_addNewEmployee(\n        n_dateofjoining,\n        n_name,\n        n_jobtitle,\n        n_gender,\n        n_dob,\n        n_username,\n        n_training_month,\n        n_workemail\n      ).then(\n        json => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(success_add_new_employee(json.data));\n            resolve(json.data);\n          } else {\n            dispatch(error_add_new_employee(json.data.message));\n            reject(json.data.message);\n          }\n        },\n        error => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_add_new_employee(\"error occurs!!!\"));\n          reject(\"error occurs!!!\");\n        }\n      );\n    });\n  };\n}\n// ---------get user document\n\nexport function success_user_document(data) {\n  return createAction(constants.ACTION_SUCCESS_USER_DOCUMENT)(data);\n}\nexport function error_user_document(data) {\n  return createAction(constants.ACTION_ERROR_USER_DOCUMENT)(data);\n}\n\nfunction async_getUserDocument(userid) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"get_user_document_by_id\",\n    user_id: userid\n  });\n}\n\nexport function getUserDocument(userid) {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_getUserDocument(userid).then(\n        json => {\n          dispatch(hide_loading());\n          if (json.error == 0) {\n            dispatch(success_user_document(json.data));\n            // resolve('disabled')\n          } else {\n            dispatch(error_user_document(json.data.message));\n            // reject('response with Error')\n          }\n        },\n        error => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_user_document(\"error occurs!!!\"));\n          // reject('error occurs!!')\n        }\n      );\n    });\n  };\n}\n\n// ------Delete user document\nfunction async_deleteDocument(doc_id) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"delete_user_document\",\n    id: doc_id\n  });\n}\n\nexport function deleteDocument(doc_id) {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_deleteDocument(doc_id).then(\n        json => {\n          dispatch(hide_loading());\n          if (json.error == 0) {\n            resolve(json.data.message);\n          } else {\n            reject(json.data.message);\n          }\n        },\n        error => {\n          dispatch(hide_loading()); // hide loading icon\n          reject(\"error occurs!!\");\n        }\n      );\n    });\n  };\n}\n\n// --------changeEmployeeStatus Enable/Disable user\n\nfunction async_changeEmployeeStatus(userid, status) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"change_employee_status\",\n    user_id: userid,\n    status: status\n  });\n}\n\nexport function changeEmployeeStatus(userid, status) {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      async_changeEmployeeStatus(userid, status).then(\n        json => {\n          if (json.error === 0) {\n            resolve(\"User disabled\");\n          } else {\n            reject(json.data.message);\n          }\n        },\n        error => {\n          reject(\"error occurs!!\");\n        }\n      );\n    });\n  };\n}\n\nfunction successGetStep(data) {\n  return createAction(constants.ACTION_SUCCESS_GET_STEPS)(data);\n}\nfunction errorGetStep(data) {\n  return createAction(constants.ACTION_ERROR_GET_STEPS)(data);\n}\n\nvar callApiSteps = queue(function(userid, dispatch, callback) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"get_employee_life_cycle\",\n    userid: userid\n  }).then(json => {\n    if (json.error == 0) {\n      dispatch(successGetStep(json.data));\n    } else {\n      // reject(json.data.message);\n      dispatch(errorGetStep());\n    }\n  });\n  // callback(json);\n}, 1);\n\nfunction asyncGetSteps(userid) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"get_employee_life_cycle\",\n    userid: userid\n  });\n}\n\nexport function getSteps(userid) {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      asyncGetSteps(userid).then(\n        json => {\n          if (json.error == 0) {\n            resolve(json.message);\n            dispatch(successGetStep(json.data));\n          } else {\n            reject(json.data.message);\n            dispatch(errorGetStep(json.data.message));\n          }\n        },\n        error => {\n          reject(\"error occurs!!\");\n        }\n      );\n    });\n  };\n}\n\nfunction successEmployeeStep(data) {\n  return createAction(constants.ACTION_SUCCESS_EMPLOYEE_STEPS)(data);\n}\nfunction errorEmployeeStep(data) {\n  return createAction(constants.ACTION_ERROR_EMPLOYEE_STEPS)(data);\n}\n\nfunction asyncChangeSteps(userid, stepid) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"update_employee_life_cycle\",\n    userid: userid,\n    stepid: stepid\n  });\n}\n\nexport function changeSteps(userid, stepid) {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      asyncChangeSteps(userid, stepid).then(\n        json => {\n          if (json.error == 0) {\n            resolve(json.data.message);\n            // dispatch(getSteps(userid));\n            // dispatch(successEmployeeStep(json.data));\n          } else {\n            reject(json.data.message);\n            dispatch(errorEmployeeStep(json.data.message));\n          }\n        },\n        error => {\n          reject(\"error occurs!!\");\n        }\n      );\n    });\n  };\n}\n\nexport function successAddNewUserDetails(data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_NEW_USER_DETAILS)(data);\n}\nexport function errorAddNewUserDetails(data) {\n  return createAction(constants.ACTION_ERROR_ADD_NEW_USER_DETAILS)(data);\n}\n\nfunction async_addNewUserDetails(\n  n_user_id,\n  n_address2,\n  n_emergency_ph1,\n  n_emergency_ph2,\n  n_blood_group,\n  n_medical_condition,\n  n_holding_comments,\n  n_signature\n) {\n  return fireAjax(\"POST\", \"\", {\n    action: \"update_user_profile_detail_by_id\",\n    user_id: n_user_id,\n    permanent_address: n_address2,\n    emergency_ph1: n_emergency_ph1,\n    emergency_ph2: n_emergency_ph2,\n    blood_group: n_blood_group,\n    medical_condition: n_medical_condition,\n    holding_comments: n_holding_comments,\n    signature: n_signature\n  });\n}\n\nexport function addNewUserDetails(new_profile_details) {\n  return function(dispatch, getState) {\n    let n_user_id = \"\";\n    let n_address2 = \"\";\n    let n_emergency_ph1 = \"\";\n    let n_emergency_ph2 = \"\";\n    let n_blood_group = \"\";\n    let n_medical_condition = \"\";\n    let n_holding_comments = \"\";\n    let n_signature = \"\";\n    if (typeof new_profile_details.user_id !== \"undefined\") {\n      n_user_id = new_profile_details.user_id;\n    }\n    if (typeof new_profile_details.signature !== \"undefined\") {\n      n_signature = new_profile_details.signature;\n    }\n    if (typeof new_profile_details.permanent_address !== \"undefined\") {\n      n_address2 = new_profile_details.permanent_address;\n    }\n    if (typeof new_profile_details.emergency_ph1 !== \"undefined\") {\n      n_emergency_ph1 = new_profile_details.emergency_ph1;\n    }\n    if (typeof new_profile_details.emergency_ph2 !== \"undefined\") {\n      n_emergency_ph2 = new_profile_details.emergency_ph2;\n    }\n    if (typeof new_profile_details.blood_group !== \"undefined\") {\n      n_blood_group = new_profile_details.blood_group;\n    }\n    if (typeof new_profile_details.medical_condition !== \"undefined\") {\n      n_medical_condition = new_profile_details.medical_condition;\n    }\n    if (typeof new_profile_details.holding_comments !== \"undefined\") {\n      n_holding_comments = new_profile_details.holding_comments;\n    }\n\n    if (n_user_id.trim() === \"\") {\n      return Promise.reject(\"User id is empty\");\n    }\n    if (n_signature.trim() === \"\") {\n      return Promise.reject(\"signature is empty\");\n    }\n    if (n_address2.trim() === \"\") {\n      return Promise.reject(\"Permanent address is empty\");\n    }\n    if (n_emergency_ph1.trim() === \"\") {\n      return Promise.reject(\"Emmergency contact 1 is empty\");\n    }\n    if (n_emergency_ph2.trim() === \"\") {\n      return Promise.reject(\"Emmergency contact 2 is empty\");\n    }\n    if (n_blood_group.trim() === \"\") {\n      return Promise.reject(\"Blood group not selected\");\n    }\n    if (n_medical_condition.trim() === \"\") {\n      return Promise.reject(\"Any medical conditions is empty\");\n    }\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_addNewUserDetails(\n        n_user_id,\n        n_address2,\n        n_emergency_ph1,\n        n_emergency_ph2,\n        n_blood_group,\n        n_medical_condition,\n        n_holding_comments,\n        n_signature\n      ).then(\n        res => {\n          dispatch(hide_loading()); // hide loading icon\n          if (res.error == 0) {\n            resolve(res.data);\n            dispatch(successAddNewUserDetails(res.data));\n          } else {\n            dispatch(errorAddNewUserDetails(res.data));\n          }\n        },\n        error => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(errorAddNewUserDetails(\"error occurs!!!\"));\n        }\n      );\n    });\n  };\n}\n\nexport function successGetAllEmployeeDetails(data) {\n  return createAction(constants.SUCCESS_GET_ALL_EMPLOYEE_DETAILS)(data);\n}\nexport function errorGetAllEmployeeDetails(data) {\n  return createAction(constants.ERROR_GET_ALL_EMPLOYEE_DETAILS)(data);\n}\n\nfunction async_getAllEmployeeDetails(){\n  return fireAjax(\"POST\", \"\", {\n    action: \"get_enabled_users_brief_details\"\n  })\n}\n \nexport function getAllEmployeeDetails() {\n  return function(dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getAllEmployeeDetails().then(\n        res => {\n          if (res.error == 0) {\n            resolve(res.data);\n            dispatch(successGetAllEmployeeDetails(res.data));\n            if(res.data.length){\n              dispatch(getEmployeesSalaryDetails(res.data));\n            }\n          } else {\n            dispatch(errorGetAllEmployeeDetails(res.data));\n          }\n          dispatch(hide_loading()); // hide loading icon\n        },\n        error => {\n          console.log('error', error);\n          dispatch(hide_loading()); // hide loading icon\n        }\n      )\n    })\n  }\n}\n\nfunction async_get_user_salary_details (userid) {\n  return fireAjax('POST', '', {\n    action:  'get_user_salary_info_by_id',\n    user_id: userid\n  });\n}\n\nexport function getEmployeesSalaryDetails (users, i=0) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n        let userid = users[i].user_Id;\n        dispatch(show_loading()); // show loading icon\n        async_get_user_salary_details(userid).then(\n          (json) => {\n            if (typeof json.data !== 'undefined' && typeof json.data.salary_details !== 'undefined' && json.data.salary_details.length > 0) {\n              let data = json.data;\n              let orderedSalary = _.orderBy(json.data.salary_details,['date'],['desc']);\n              users[i].current_salary = orderedSalary[0].test && orderedSalary[0].test.total_salary;\n              dispatch(successGetAllEmployeeDetails(users));\n            }\n            dispatch(hide_loading()); // hide loading icon\n            if(users.length > ++i){\n              dispatch(getEmployeesSalaryDetails(users, i));\n            }\n          },\n          (error) => {\n            dispatch(hide_loading()); // hide loading icon\n            if(users.length > ++i){\n              dispatch(getEmployeesSalaryDetails(users, i));\n            }\n          }\n        );\n    });\n  };\n}\n","import React from \"react\";\nimport Dialog from \"material-ui/Dialog\";\nimport TextField from \"material-ui/TextField\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { notify } from \"../../../services/notify\";\nimport { DateField } from \"react-date-picker\";\nimport ToggleButton from \"react-toggle-button\";\n// import \"react-date-picker/index.css\";\nimport { CONFIG } from \"../../../config/index\";\nimport Button from \"../../../components/generic/buttons/Button\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\nimport Header from \"../../../components/generic/Header\";\nimport { withRouter } from \"react-router\";\nimport ButtonRaised from \"../../../components/generic/buttons/ButtonRaised\";\nimport SignaturePad from \"signature_pad\";\nimport * as actions from \"../../../redux/actions\";\nimport * as actionsUsersList from \"../../../redux/generic/actions/usersList\";\nimport * as actionsManageUsers from \"../../../redux/manageUsers/actions/manageUsers\";\n\nlet signaturePad;\nclass FormAddNewEmployeeDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      user_id: \"\",\n      permanent_address: \"\",\n      emergency_ph1: \"\",\n      emergency_ph2: \"\",\n      blood_group: \"\",\n      medical_condition: \"\",\n      holding_comments: \"\",\n      signature: \"\"\n    };\n    this.callAddNewEmployeeDetails = this.callAddNewEmployeeDetails.bind(this);\n    this.handleCanvas = this.handleCanvas.bind(this);\n  }\n\n  handleCanvas() {\n    signaturePad = new SignaturePad(document.getElementById(\"signature-pad\"), {\n      backgroundColor: \"rgba(255, 255, 255, 0)\",\n      penColor: \"rgb(0, 0, 0)\",\n      onEnd: () => {\n        localStorage.setItem(\"signature\", signaturePad.toDataURL());\n        this.setState({\n          signature: localStorage.signature\n        });\n      }\n    });\n  }\n  componentWillMount() {\n    this.props.onUsersList();\n  }\n  handleCancelButton() {\n    signaturePad.clear();\n  }\n  callAddNewEmployeeDetails(new_profile_details) {\n    this.props.onAddNewUserDetails(new_profile_details).then(\n      data => {\n        notify(\"Success!!\", data.message, \"success\");\n        this.props.history.push(`/add_documents/${this.props.params.id}`);\n      },\n      error => {\n        notify(\"error\", error, \"error\");\n      }\n    );\n  }\n  render() {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header\n            pageTitle={\"Add New Employee Details\"}\n            showLoading={this.props.frontend.show_loading}\n          />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding\">\n              <div className=\"col-md-6 input-wrapper\">\n                <TextField\n                  floatingLabelText=\"Permanent Address\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ permanent_address: e.target.value })\n                  }\n                  value={this.state.permanent_address}\n                />\n              </div>\n              <div className=\"col-md-6 input-wrapper\">\n                <TextField\n                  type=\"number\"\n                  floatingLabelText=\"Phone No\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ emergency_ph1: e.target.value })\n                  }\n                  value={this.state.emergency_ph1}\n                />\n              </div>\n\n              <div className=\"col-md-6 input-wrapper\">\n                <TextField\n                  type=\"number\"\n                  floatingLabelText=\"Emergency Contact No\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ emergency_ph2: e.target.value })\n                  }\n                  value={this.state.emergency_ph2}\n                />\n              </div>\n              <div className=\"col-md-6 input-wrapper\">\n                Blood Group\n                <select\n                  className=\"form-control\"\n                  ref=\"blood_group\"\n                  onChange={e => this.setState({ blood_group: e.target.value })}\n                  value={this.state.blood_group}\n                >\n                  <option disabled>--select blood group--</option>\n                  <option value=\"0\">B+ </option>\n                  <option value=\"1\">O+</option>\n                  <option value=\"2\">AB+</option>\n                  <option value=\"3\">A+</option>\n                  <option value=\"4\">B- </option>\n                  <option value=\"5\">O-</option>\n                  <option value=\"6\">AB-</option>\n                  <option value=\"7\">A-</option>\n                </select>\n              </div>\n              <div className=\"col-md-8 input-wrapper\">\n                <TextField\n                  floatingLabelText=\"Any Medical issues in past/present\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({ medical_condition: e.target.value })\n                  }\n                  value={this.state.medical_condition}\n                />\n              </div>\n              <div className=\"col-md-8 input-wrapper\">\n                <TextField\n                  floatingLabelText=\"Employee Holding Comment\"\n                  floatingLabelFixed\n                  fullWidth\n                  onChange={e =>\n                    this.setState({\n                      holding_comments: e.target.value,\n                      user_id: this.props.params.id\n                    })\n                  }\n                  value={this.state.holding_comments}\n                />\n              </div>\n              <div className=\"col-md-8  input-wrapper\">\n                <label>Employee Signature</label>\n                <p>(Double-tap and hold then start drawing your signature)</p>\n                <canvas\n                  id=\"signature-pad\"\n                  onClick={this.handleCanvas}\n                  className=\"signature-pad\"\n                  style={{\n                    width: \"100%\",\n                    height: 200,\n                    border: \"1px solid rgba(80,80,80,0.6)\"\n                  }}\n                />\n                <ButtonRaised\n                  onClick={this.handleCancelButton}\n                  id=\"clear\"\n                  label={\"Clear\"}\n                />\n\n                <div className=\"row p-y\">\n                  <ButtonRaised\n                    className=\"col-xs-12 p-y-2 m-b-sm indigo\"\n                    onClick={() => this.callAddNewEmployeeDetails(this.state)}\n                    label={\"Next\"}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    manageUsers: state.manageUsers.toJS()\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onUsersList: () => {\n      return dispatch(actionsUsersList.get_users_list());\n    },\n    onAddNewUserDetails: new_profile_details => {\n      return dispatch(\n        actionsManageUsers.addNewUserDetails(new_profile_details)\n      );\n    }\n  };\n};\nconst AddNewEmployeeDetails = withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(FormAddNewEmployeeDetails)\n);\n\nexport default AddNewEmployeeDetails;\n\nAddNewEmployeeDetails.propTypes = {\n  onIsAlreadyLogin: PropTypes.func.isRequired,\n  usersList: PropTypes.object.isRequired,\n  onAddNewUserDetails: PropTypes.func.isRequired,\n  router: PropTypes.object.isRequired\n};\n"],"sourceRoot":""}