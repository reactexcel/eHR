{"version":3,"sources":["modules/salary/components/viewSalary/SalaryList.jsx","modules/salary/containers/viewSalary.jsx","redux/salary/actions/viewSalary.js"],"names":["moment","require","SalaryList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","empList","search","bind","assertThisInitialized","searchValue","_","setState","emps","emp","i","empName","toLowerCase","indexOf","designation","salary","toString","dateOfJoining","noOfDaysSinceJoined","preSalaryIncDetail","nextSallaryInc","push","image","holdingAmountDetail","_this2","row","key","react_default","a","createElement","className","src","holding_amt","holding_start_date","holding_end_date","reason","format","style","fontSize","type","id","ref","onChange","refs","value","textAlign","React","Component","ViewSalary","onIsAlreadyLogin","onFetchUserSalaryDetails","isNotValid","isNotUserValid","location","pathname","loggedUser","status","history","redirectTo","data","role","CONFIG","ADMIN","employee","length","ob","slack_image","name","jobtitle","salary_detail","holdin_amt_detail","dateofjoining","String","no_of_days_join","previous_increment","next_increment_date","HR","subList","empl","table","viewSalary_SalaryList","assign","Menu","Header","pageTitle","showLoading","frontend","show_loading","VisibleViewSalary","connect","toJS","logged_user","userLogin","usersList","empSalaryList","dispatch","actions","actions_salary","RouterVisibleViewSalary","withRouter","__webpack_require__","d","__webpack_exports__","getSalaryDetails","fetchUserSalaryDetails","redux_actions__WEBPACK_IMPORTED_MODULE_0__","_services_index__WEBPACK_IMPORTED_MODULE_3__","_redux_generic_actions_frontend__WEBPACK_IMPORTED_MODULE_5__","_redux_constants__WEBPACK_IMPORTED_MODULE_6__","success_salary_details","createAction","constants","getState","Promise","resolve","reject","fireAjax","action","then","json","hide_loading","salary_details","error","empty__user_salary_details"],"mappings":"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","file":"static/js/53.037bf00f.chunk.js","sourcesContent":["import React from 'react';\nimport * as _ from 'lodash';\nconst classNames = require('classnames');\nvar moment = require('moment');\n\nclass SalaryList extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      empList: this.props.empList\n    };\n    this.search = this.search.bind(this);\n  }\n\n  search (searchValue) {\n    if (searchValue !== 'null' && searchValue !== '' && !_.isEmpty(searchValue)) {\n      var emps = [];\n      _.forEach(this.props.empList, function (emp, i) {\n        if ((!_.isEmpty(emp.empName) && emp.empName.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1) ||\n         (!_.isEmpty(emp.designation) && emp.designation.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1) ||\n         (emp.salary.toString().indexOf(searchValue.toString()) !== -1) ||\n         (!_.isEmpty(emp.dateOfJoining) && emp.dateOfJoining.toString().indexOf(searchValue.toString()) !== -1) ||\n         (!_.isEmpty(emp.noOfDaysSinceJoined) && emp.noOfDaysSinceJoined.toString().indexOf(searchValue.toString()) !== -1) ||\n         (!_.isEmpty(emp.preSalaryIncDetail) && emp.preSalaryIncDetail.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1) ||\n         (!_.isEmpty(emp.nextSallaryInc) && emp.nextSallaryInc.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1)) {\n          emps.push({\n            'image':               emp.image,\n            'empName':             emp.empName,\n            'designation':         emp.designation,\n            'salary':              emp.salary,\n            'holdingAmountDetail': emp.holdingAmountDetail,\n            'dateOfJoining':       emp.dateOfJoining,\n            'noOfDaysSinceJoined': emp.noOfDaysSinceJoined,\n            'preSalaryIncDetail':  emp.preSalaryIncDetail,\n            'nextSallaryInc':      emp.nextSallaryInc\n          });\n        }\n      });\n      this.setState({\n        empList: emps\n      });\n    } else {\n      this.setState({\n        empList: this.props.empList\n      });\n    }\n  }\n  render () {\n    let row = _.map(this.state.empList, (emp, key) => {\n      return (\n        <tr key={key}>\n          <td>\n            <div className=\"list-left\">\n              <span className=\"w-40 avatar\">\n                <img src={emp.image} />\n              </span>\n            </div>\n          </td>\n          <td>{emp.empName}</td>\n          <td>{emp.designation}</td>\n          <td>{emp.salary}</td>\n          <td>{emp.holdingAmountDetail != ''\n            ? <ul>\n              <li>Holding amount : {emp.holdingAmountDetail.holding_amt}</li>\n              <li>Start date : {emp.holdingAmountDetail.holding_start_date}</li>\n              <li>End date : {emp.holdingAmountDetail.holding_end_date}</li>\n              <li>Reason : {emp.holdingAmountDetail.reason}</li>\n            </ul> : ''\n          }</td>\n          <td>{moment(emp.dateOfJoining).format('Do MMMM YYYY')}</td>\n          <td>{emp.noOfDaysSinceJoined}</td>\n          <td>{emp.preSalaryIncDetail}</td>\n          <td>{moment(emp.nextSallaryInc).format('Do MMMM YYYY')}</td>\n        </tr>\n      );\n    });\n    return (\n      <div>\n        <div className=\"row no-gutter\">\n          <div className=\"col-md-6 p-r\">\n            <div className=\"form-group\">\n              <label style={{'fontSize': 15}}>Search:</label>\n              <input type=\"text\" id=\"search-form\" className=\"form-control\" ref=\"search\" onChange={() => this.search(this.refs.search.value)} />\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"box\">\n              <div className=\"box\">\n                <div className=\"box-divider m-a-0\"></div>\n                <div className=\"table-responsive\">\n                  <table className=\"table\">\n                    <thead className=\"success\">\n                      <tr>\n                        <th >Image</th>\n                        <th>Employe name</th>\n                        <th>Designation</th>\n                        <th>Salary</th>\n                        <th style={{'textAlign': 'center'}} >Holding Amount Details</th>\n                        <th>Date of Joining</th>\n                        <th >No of Days Since Joined</th>\n                        <th >Previous Increment Details</th>\n                        <th >Next Increment</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {row}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SalaryList;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport * as _ from 'lodash';\nimport {CONFIG} from '../../../config/index';\nimport Menu from '../../../components/generic/Menu';\nimport {isNotUserValid} from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport SalaryList from '../../../modules/salary/components/viewSalary/SalaryList';\nimport * as actions from '../../../redux/actions';\nimport * as actions_salary from '../../../redux/salary/actions/viewSalary';\n\nclass ViewSalary extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      empList: []\n    };\n  }\n  componentWillMount () {\n    this.props.onFetchUserSalaryDetails();\n  }\n  componentWillReceiveProps (props) {\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n    let emp = [];\n    if (props.loggedUser.data.role === CONFIG.ADMIN) {\n      if (props.employee.employee.length > 0) {\n        _.forEach(props.employee.employee, function (ob, i) {\n          emp.push({\n            'image':               ob.slack_image,\n            'empName':             ob.name,\n            'designation':         ob.jobtitle,\n            'salary':              ob.salary_detail,\n            'holdingAmountDetail': ob.holdin_amt_detail,\n            'dateOfJoining':       ob.dateofjoining,\n            'noOfDaysSinceJoined': String(ob.no_of_days_join),\n            'preSalaryIncDetail':  String(ob.previous_increment),\n            'nextSallaryInc':      ob.next_increment_date\n          });\n        });\n        this.setState({empList: emp});\n      }\n    } else if (props.loggedUser.data.role === CONFIG.HR) {\n      let subList = _.filter(props.employee.employee, (empl) => (empl.previous_increment === ''));\n      let emp = [];\n      if (subList.length > 0) {\n        _.forEach(subList, function (ob, i) {\n          emp.push({\n            'image':               ob.slack_image,\n            'empName':             ob.name,\n            'designation':         ob.jobtitle,\n            'salary':              ob.salary_detail,\n            'holdingAmountDetail': ob.holdin_amt_detail,\n            'dateOfJoining':       ob.dateofjoining,\n            'noOfDaysSinceJoined': String(ob.no_of_days_join),\n            'preSalaryIncDetail':  String(ob.previous_increment),\n            'nextSallaryInc':      ob.next_increment_date\n          });\n        });\n        this.setState({empList: emp});\n      }\n    }\n  }\n\n  render () {\n    let table = (this.state.empList.length > 0)\n      ? <SalaryList {...this.props} empList={this.state.empList} />\n      : '';\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'View Salary'} showLoading={this.props.frontend.show_loading} />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding\">\n              {table}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps (state) {\n  return {\n    frontend:   state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList:  state.usersList.toJS(),\n    employee:   state.empSalaryList.toJS()\n  };\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onFetchUserSalaryDetails: () => {\n      return dispatch(actions_salary.fetchUserSalaryDetails());\n    }\n  };\n};\n\nconst VisibleViewSalary = connect(mapStateToProps, mapDispatchToProps)(ViewSalary);\n\nconst RouterVisibleViewSalary = withRouter(VisibleViewSalary);\n\nexport default RouterVisibleViewSalary;\n","import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport 'whatwg-fetch';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\n\nexport function success_salary_details (data) {\n  return createAction(constants.ACTION_SUCCESS_SALARY_DETAILS)(data);\n}\n\nexport function empty_salary_details (data) {\n  return createAction(constants.ACTION_EMPTY_SALARY_DETAILS)(data);\n}\n\nfunction async_get_salary_details () {\n  return fireAjax('POST', '', {\n    'action': 'get_user_salary_info'\n  });\n}\n\nexport function getSalaryDetails () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_get_salary_details().then((json) => {\n        dispatch(hide_loading()); // hide loading icon\n        if (typeof json.data !== 'undefined' && typeof json.data.salary_details !== 'undefined') {\n          // let data = json.data.salary_details.reverse()\n          // dispatch( success_salary_details( data ) )\n          resolve(json.data);\n          dispatch(success_salary_details(json.data));\n        } else {\n          dispatch(empty_salary_details([]));\n        }\n      }, (error) => {\n        dispatch(hide_loading()); // hide loading icon\n        dispatch(success_salary_details([]));\n      });\n    });\n  };\n}\n\nexport function success_user_salary_details (data) {\n  return createAction(constants.ACTION_SUCCESS_USER_SALARY_DETAILS)(data);\n}\n\nexport function empty__user_salary_details (data) {\n  return createAction(constants.ACTION_EMPTY_USER_SALARY_DETAILS)(data);\n}\n\nexport function error_user_salary_details (data) {\n  return createAction(constants.ACTION_ERROR_USER_SALARY_DETAILS)(data);\n}\n\nfunction async_fetch_users_salary_details () {\n  return fireAjax('POST', '', {\n    'action': 'get_all_users_detail'\n  });\n}\n\nexport function fetchUserSalaryDetails () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_fetch_users_salary_details().then((json) => {\n        dispatch(hide_loading());\n        if (typeof json.data !== 'undefined' && json.data.length > 0) {\n          dispatch(success_user_salary_details(json.data));\n          resolve();\n        } else {\n          dispatch(empty__user_salary_details([]));\n          resolve();\n        }\n      }, (error) => {\n        dispatch(hide_loading());\n        resolve();\n        dispatch(error_user_salary_details([]));\n      });\n    });\n  };\n}\n"],"sourceRoot":""}